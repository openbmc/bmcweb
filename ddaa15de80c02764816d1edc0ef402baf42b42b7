{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "83fb89e2_d32c4078",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-29T19:03:48Z",
      "side": 1,
      "message": "Overall, I\u0027d like to get some understanding of what you\u0027re trying to accomplish.  You\u0027re making changes to the Power schema, which is now deprecated by Redfish, and has moved to the PowerSubsystem schema.  While making edits to what exists is fine, I\u0027d just like to understand what you\u0027re trying to accomplish.\n\nPowerSubsystem was intended to replace power, and the defaults just changed.  If this is still being used and developed, we need to have a longer discussion about how we would like it to work.",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ccf4882_c016ca32",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2024-03-08T03:23:51Z",
      "side": 1,
      "message": "There are platforms which still use PowerCap interface and power subsystem does not interact with it. My change only touches the code which was hardcoded to look for settings service. Instead it will look for generic service which implements the PowerCap interface",
      "parentUuid": "83fb89e2_d32c4078",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26bc960d_6e84ba2f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-08T16:50:04Z",
      "side": 1,
      "message": "\u003e There are platforms which still use PowerCap interface and power subsystem does not interact with it.\n\nRight, but rather than completely rewriting the implementation in Power, we could just write a new, correct one in PowerSubsystem.  Why wouldn\u0027t we do that?  This isn\u0027t really fixing a bug, it\u0027s adding additional functionality.  Is there something in PowerSubsystem that doesn\u0027t work for your use case?",
      "parentUuid": "4ccf4882_c016ca32",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c8ec815_c5447726",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-08T17:27:28Z",
      "side": 1,
      "message": "To be clear, I\u0027m in no way saying this patch can\u0027t go in once it\u0027s correct.  What I\u0027d like is some understanding of why we\u0027re continuing to extend capability for schemas that Redfish has abandoned.  If there\u0027s something that doesn\u0027t work in the \"new\" schemas, I\u0027d like to understand what that is, so that DMTF can correct it.\n\nLike I said, we just flipped over the defaults to enable the other code path for sensors.  If there\u0027s something wrong in that path, it would be good to get that raised at DMTF level, because so far as I\u0027m aware, they think everything is fine in PowerSubsystem.",
      "parentUuid": "26bc960d_6e84ba2f",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0a1b46d_6e4ad451",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-29T19:03:48Z",
      "side": 1,
      "message": "nit, \"ec\" please.  Being consistent in naming helps with automation.",
      "range": {
        "startLine": 84,
        "startChar": 64,
        "endLine": 84,
        "endChar": 69
      },
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f696a400_09f92f89",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2024-03-08T03:19:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0a1b46d_6e4ad451",
      "range": {
        "startLine": 84,
        "startChar": 64,
        "endLine": 84,
        "endChar": 69
      },
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33fec2cb_0aa4e116",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-29T19:03:48Z",
      "side": 1,
      "message": "nit, should be called \"interfaces\", as this is a getObject call, it only returns one \"object\"",
      "range": {
        "startLine": 85,
        "startChar": 69,
        "endLine": 85,
        "endChar": 76
      },
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "003aeaac_602c5eb5",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2024-03-08T03:19:39Z",
      "side": 1,
      "message": "it returns the list of objects implementing the power cap interface right? Thats why I used objects",
      "parentUuid": "33fec2cb_0aa4e116",
      "range": {
        "startLine": 85,
        "startChar": 69,
        "endLine": 85,
        "endChar": 76
      },
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44b00845_b9ed9a53",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-29T19:03:48Z",
      "side": 1,
      "message": "At this level the code is now 3 lambdas deep in non trivial code.  Please correct it to make it normal methods, as the developing guide requires.",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5a3fe1e_660601fe",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2024-03-08T03:19:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "44b00845_b9ed9a53",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a026afae_fb68006b",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-08T16:50:04Z",
      "side": 1,
      "message": "Doesn\u0027t appear done?  I still see at least a 2 tiered lambda in your new code.",
      "parentUuid": "a5a3fe1e_660601fe",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f21a2b51_2e495b6c",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2024-03-15T20:17:28Z",
      "side": 1,
      "message": "this should be resolved with https://gerrit.openbmc.org/c/openbmc/bmcweb/+/69956",
      "parentUuid": "a026afae_fb68006b",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92aba223_8ef90bb4",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 345,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-02-23T18:23:39Z",
      "side": 1,
      "message": "But this is still using the Settings app ?",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6fa574e_e07d6a7a",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 345,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2024-02-25T19:09:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92aba223_8ef90bb4",
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e88a112_72a98c2f",
        "filename": "redfish-core/lib/power.hpp",
        "patchSetId": 4
      },
      "lineNbr": 365,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-29T19:03:48Z",
      "side": 1,
      "message": "I see nothing that\u0027s checking that this is the power cap for THIS chassis.  as-written, this will allow only one power cap interface on all of OpenBMC, which is disallowed in DBUS_USAGE.md.  Many things have power caps, so we can\u0027t just rely on a single one, and we certainly can\u0027t expose an API where ANY chassis can be used to set the same power cap without regard for which device it is.  I would expect there to be some association from the chassis to the power interface.\n\n\nIf you only wanted to handle 1, to simplify your patch, you could locate the \"main\" chassis (which has its own hurdles) and only allow sets on that.",
      "range": {
        "startLine": 365,
        "startChar": 38,
        "endLine": 365,
        "endChar": 49
      },
      "revId": "ddaa15de80c02764816d1edc0ef402baf42b42b7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}