{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fb8e05c7_ead780bb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2025-07-18T07:53:21Z",
      "side": 1,
      "message": "**Adrian**\n\u003eMy 5 cents:\n\u003e\n\u003eI guess this can be corrected on backened by adding a proper field to journal entry, or even reshaping the whole message so that it matches the schema.\n\u003e\n\u003eOkay, so we don\u0027t follow the Data Model. Per `TriggerActionMessage`:\n\u003e\n\u003eTelemetry : Messages from the Telemetry Message Registry.\n\u003e```\n\u003eâ€¢ This value shall indicate that messages generated in response to a trigger action shall utilize\n\u003emessages from the Telemetry Message Registry. If this property is not supplied or supported, this\n\u003evalue should be used as the default for this trigger\n\u003e```\n\u003eIt seems like we\u0027ve uncovered that implementation on the `openbmc/telemetry` side is lacking. It seems that this property and description was added after Trigger schema was implemented, which would explain the discrepancy. To make the implementation proper, we should bump schema to 1.4+ and revisit all journal logs.\n\u003e\n\u003eFor instance:\n\u003ehttps://github.com/openbmc/telemetry/blob/7d87668cf590570896bfb33974b06fbdc16bc47b/src/trigger_actions.cpp#L176 should be rather defined and expressed like `TriggerDiscreteConditionMet` mandates.\n\u003e\n\u003eI\u0027m still not clear what the expected format in `LogService` should be. Is it fair to assume that Journal entry, currently like this:\n\u003e\n\u003e```\n\u003e{\n\u003e  \"@odata.id\": \"/redfish/v1/Managers/bmc/LogServices/Journal/Entries/ad02a87606fb4cec92f34f5be3e33301_1617606480490\",\n\u003e  \"@odata.type\": \"#LogEntry.v1_9_0.LogEntry\",\n\u003e  \"Created\": \"2025-07-17T10:13:39.344178+00:00\",\n\u003e  \"EntryType\": \"Oem\",\n\u003e  \"Id\": \"ad02a87606fb4cec92f34f5be3e33301_1617606480490\",\n\u003e  \"Message\": \"rsyslogd: imjournal: journal files changed, reloading... [v8.2402.0 try https://www.rsyslog.com/e/0 ]\",\n\u003e  \"Name\": \"BMC Journal Entry\",\n\u003e  \"OemRecordFormat\": \"BMC Journal Entry\",\n\u003e  \"Severity\": \"OK\"\n\u003e}\n\u003e```\n\u003eshould be replaced with properly formatted Redfish Event, as expressed by redfish/v1/Systems/system/LogServices/EventLog/Entries, eg:\n\u003e\n\u003e```\n\u003e{\n\u003e  \"@odata.id\": \"/redfish/v1/Systems/system/LogServices/EventLog/Entries/1749736186\",\n\u003e  \"@odata.type\": \"#LogEntry.v1_9_0.LogEntry\",\n\u003e  \"Created\": \"2025-06-12T13:49:46+00:00\",\n\u003e  \"EntryType\": \"Event\",\n\u003e  \"Id\": \"1749736186\",\n\u003e  \"Message\": \"Invalid username or password attempted on HTTPS.\",\n\u003e  \"MessageArgs\": [\n\u003e    \"HTTPS\"\n\u003e  ],\n\u003e  \"MessageId\": \"OpenBMC.0.1.InvalidLoginAttempted\",\n\u003e  \"Name\": \"System Event Log Entry\",\n\u003e  \"Severity\": \"Warning\"\n\u003e}\n\u003e```\n\u003e?\n\u003e\n\u003eIf so - what\u0027s the point of having separate implementation? Perhaps what we need to do under the hood is to treat `LogToLogService` equivalently to `RedfishEvent` , just have extra property to point user to the `redfish/v1/Systems/system/LogServices/EventLog`?\n\n\n**Ed**\n\u003e\u003eIf so - what\u0027s the point of having separate implementation?\n\u003e\n\u003e Some people didn\u0027t like the implementation that was there.\n\u003e\n\u003e Journal gives raw access to the journal. EventLog gives structured access over dbus (which is also in the journal).",
      "revId": "7d0e975f73a552c3ea75b3abf7b9e54724cdfa35",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}