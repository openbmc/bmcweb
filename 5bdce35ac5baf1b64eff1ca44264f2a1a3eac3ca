{
  "comments": [
    {
      "key": {
        "uuid": "bd8c97e4_4d62c0e4",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-27T15:58:34Z",
      "side": 1,
      "message": "I\u0027m not following what this is trying to convey.  Should we just have something like \"Subordinate override for ComputerSystem -\u003e LogServiceCollection -\u003e LogService -\u003e LogEntryCollection -\u003e LogEntry\"",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0791e90_eef645bc",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-27T16:20:42Z",
      "side": 1,
      "message": "if we use example: patchLogEntry_CoLoLoLo  some thing like this then I not need to add this comment.\n\nthis because if SubordinateOverrides target get change\nex: \nComputerSystem -\u003e LogServiceCollection -\u003e LogService -\u003e LogEntryCollection \nTO\nChassis -\u003e LogServiceCollection -\u003e LogService -\u003e LogEntryCollection\n\nthis logic still gone generate coast ref variable as \nconst static auto\u0026 patchLogEntrySubOver \u003d  xxxxxxx\n\nso then we need to manually change this reference in privileges method to not use that variable any more.",
      "parentUuid": "bd8c97e4_4d62c0e4",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04b8a9e9_3a7bfd35",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-27T21:07:21Z",
      "side": 1,
      "message": "actually, that\u0027s a really good point.  Technically every endpoint should be using some kind of standard \"subordinate override\" variable name, otherwise we won\u0027t be able to support custom privilege registries in the future, which could have subordinate overrides at any level.",
      "parentUuid": "e0791e90_eef645bc",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85064d3a_18ef6394",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-28T14:15:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04b8a9e9_3a7bfd35",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bb0d9da_3cfce3ac",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-28T17:47:08Z",
      "side": 1,
      "message": "This doesn\u0027t appear done.....?  Technically any item can be overridden at any level, which would imply that the variable naming we\u0027ve used is incorrect.  That needs to be discussed and accounted for in this patch.",
      "parentUuid": "85064d3a_18ef6394",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca329f54_887c49d2",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-28T18:53:58Z",
      "side": 1,
      "message": "I agree this will not fix stuff the way we want.\n\nBut to make it perfect, we need much robust solution.\n\nA solution:\nwe need a list of all route path\nEx: \n\"/redfish/v1/Systems/system/LogServices/EventLog/Actions/LogService.ClearLog/\"\nall rought has max 6 method GET, HEAD, PATCH, PUT, DELETE, POST. \n\nSo we need to create six variables for them (the variable name is a little bit of a challenge because they have to be unique and easy to read)\n\nSecond, we need a keypair value with a single route with it @odata.type end value.\n{{v1, ServiceRoot}, {Systems, ComputerSystemCollection}, {system, ComputerSystem}, {LogServices, LogServiceCollection}, {EventLog, LogService}}\n\nin normal case just assign route path privilege.\n\nThen for all SubordinateOverrides we map that path and assign proper privilege.\n\nIf we introduce a new route path or if the @odata.type end value gets updated, we still face the problem. (I mean, in that case, it is not robust)\n\nis this too much work?",
      "parentUuid": "7bb0d9da_3cfce3ac",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1f28be0_44dc8cb0",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-28T18:54:26Z",
      "side": 1,
      "message": "not done",
      "parentUuid": "ca329f54_887c49d2",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88abfd73_d93e32ae",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2021-07-29T13:23:37Z",
      "side": 1,
      "message": "So you have \nputLogEntrySubOverComputerSystemLogServiceCollectionLogServiceLogEntryCollection\nshouldn\u0027t instead you have \nputLogEntrySubOverComputerSystemLogServiceCollection\nputLogEntrySubOverComputerSystemLogService\nputLogEntrySubOverComputerSystemLogEntryCollection\nputLogEntrySubOverComputerSystemLogEntry\n? (1 variable for each SubOver)",
      "parentUuid": "b1f28be0_44dc8cb0",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92b34f18_26567d78",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-29T19:33:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88abfd73_d93e32ae",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "106f2ae2_8e869315",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-09-07T17:46:14Z",
      "side": 1,
      "message": "This is still not done?",
      "parentUuid": "92b34f18_26567d78",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c701d2f4_7e979ba1",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-09-16T17:22:42Z",
      "side": 1,
      "message": "I think it is completed.\n\nIs there anything missing?",
      "parentUuid": "106f2ae2_8e869315",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "574a764c_b41b1e57",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-09-17T17:24:06Z",
      "side": 1,
      "message": "I don\u0027t see the paths that gunnar laid out implemented on all the endpoints.  As a practical example, grab the DMTF file and add a subordinate override to say, LogEntry, and see if this code still gives the right result.  It won\u0027t, and will keep the unoverridden permissions.",
      "parentUuid": "c701d2f4_7e979ba1",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b66a99e2_2920aa24",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-09-20T18:34:55Z",
      "side": 1,
      "message": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/45125/10..23/redfish-core/include/registries/privilege_registry.hpp\n\nHello, Ed checks this diff mainly LogEntry. here, you will find subordinate-override for each entry\n-----------------------------\n- ComputerSystem -\u003e LogEntry\n- ComputerSystem -\u003e LogServiceCollection -\u003e LogEntry\n- ComputerSystem -\u003e LogService -\u003e LogEntry\n- ComputerSystem -\u003e LogEntryCollection -\u003e LogEntry\n- ComputerSystem -\u003e LogServiceCollection -\u003e LogService -\u003e LogEntry\n- ComputerSystem -\u003e LogServiceCollection -\u003e LogEntryCollection -\u003e LogEntry\n- etc..",
      "parentUuid": "574a764c_b41b1e57",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac5b8005_7d68a0fe",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-09-22T17:16:26Z",
      "side": 1,
      "message": "Right, there are subordinate overrides, but did they get used?  No, because the calling code is pointing to privileges::getLogEntry, not the subordinate override for that particular node.",
      "parentUuid": "b66a99e2_2920aa24",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6d1508c_51171844",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 581,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-09-23T13:43:31Z",
      "side": 1,
      "message": "{\n            \"Entity\": \"LogEntry\",\n            \"OperationMap\": {\n                \"GET\": [\n                    { \"Privilege\": [\"Login\"] }\n                ],\n                \"HEAD\": [\n                    {\"Privilege\": [\"Login\"]}\n                ],\n                \"PATCH\": [\n                    {\"Privilege\": [\"ConfigureManager\"]}\n                ],\n                \"PUT\": [\n                    {\"Privilege\": [\"ConfigureManager\"]}\n                ],\n                \"DELETE\": [\n                    {\"Privilege\": [\"ConfigureManager\"]}\n                ],\n                \"POST\": [\n                    {\"Privilege\": [\"ConfigureManager\"]}\n                ]\n            },\n            \"SubordinateOverrides\": [\n                {\n                    \"Targets\": [\n                        \"ComputerSystem\",\n                        \"LogServiceCollection\",\n                        \"LogService\",\n                        \"LogEntryCollection\"\n                    ],\n\n-------------------------------------------\nthere is no GET and HEAD method so that\u0027s why we are using privileges::getLogEntry\n-------------------------------------------\n\n                    \"OperationMap\": {\n                        \"PATCH\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ],\n                        \"PUT\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ],\n                        \"DELETE\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ],\n                        \"POST\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ]\n                    }\n                },\n                {\n                    \"Targets\": [\n                        \"Chassis\",\n                        \"LogServiceCollection\",\n                        \"LogService\",\n                        \"LogEntryCollection\"\n                    ],\n                    \"OperationMap\": {\n                        \"GET\": [\n                            {\"Privilege\": [\"Login\"]}\n                        ],\n                        \"HEAD\": [\n                            {\"Privilege\": [\"Login\"]}\n                        ],\n                        \"PATCH\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ],\n                        \"PUT\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ],\n                        \"DELETE\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ],\n                        \"POST\": [\n                            {\"Privilege\": [\"ConfigureComponents\"]}\n                        ]\n                    }\n                }\n            ]\n        },",
      "parentUuid": "ac5b8005_7d68a0fe",
      "range": {
        "startLine": 580,
        "startChar": 0,
        "endLine": 581,
        "endChar": 39
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fbe68b7_19a1d62c",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 585,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-27T15:58:34Z",
      "side": 1,
      "message": "is it possible to put some naming information here about what this override is for.  The whole point of generating this stuff was to make code easier to review.  As-written, you have to go to the comments to see which override applies to which entry.",
      "range": {
        "startLine": 585,
        "startChar": 32,
        "endLine": 585,
        "endChar": 40
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c03fe53_7de3f031",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 585,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-27T16:20:42Z",
      "side": 1,
      "message": "Yes, I was thinking of doing that. But there, I face some challenges, what name is suitable for this variable and how to add that name. So first, I thought, lest grab the first two char and add that as a variable name.\n\nexample: patchLogEntry_CoLoLoLo but that not look good.\n\nWhy two char? Because if the entity has two separate targets, we need to define two different const refs for them.\n\nany other good idea appreciated.",
      "parentUuid": "3fbe68b7_19a1d62c",
      "range": {
        "startLine": 585,
        "startChar": 32,
        "endLine": 585,
        "endChar": 40
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7133731_62bec65d",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 585,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-27T21:07:21Z",
      "side": 1,
      "message": "We could concatenate everything as-is and just have very long variable names?",
      "parentUuid": "1c03fe53_7de3f031",
      "range": {
        "startLine": 585,
        "startChar": 32,
        "endLine": 585,
        "endChar": 40
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b83827c_b2c6084a",
        "filename": "redfish-core/include/registries/privilege_registry.hpp",
        "patchSetId": 10
      },
      "lineNbr": 585,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-28T14:15:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a7133731_62bec65d",
      "range": {
        "startLine": 585,
        "startChar": 32,
        "endLine": 585,
        "endChar": 40
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f13eae6_09e1b63e",
        "filename": "scripts/parse_registries.py",
        "patchSetId": 10
      },
      "lineNbr": 173,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-27T15:58:34Z",
      "side": 1,
      "message": "Please load this into a variable so you\u0027re not doing a map lookup twice (here and on line 177)",
      "range": {
        "startLine": 173,
        "startChar": 15,
        "endLine": 173,
        "endChar": 51
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23e2378e_4a64059a",
        "filename": "scripts/parse_registries.py",
        "patchSetId": 10
      },
      "lineNbr": 173,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-28T14:15:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1f13eae6_09e1b63e",
      "range": {
        "startLine": 173,
        "startChar": 15,
        "endLine": 173,
        "endChar": 51
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "894e85dc_ea832ac0",
        "filename": "scripts/parse_registries.py",
        "patchSetId": 10
      },
      "lineNbr": 192,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-27T15:58:34Z",
      "side": 1,
      "message": "Please deduplicate the code on these two branches.",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 192,
        "endChar": 84
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "770372fb_8eeeffb5",
        "filename": "scripts/parse_registries.py",
        "patchSetId": 10
      },
      "lineNbr": 192,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2021-07-28T14:15:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "894e85dc_ea832ac0",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 192,
        "endChar": 84
      },
      "revId": "5bdce35ac5baf1b64eff1ca44264f2a1a3eac3ca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}