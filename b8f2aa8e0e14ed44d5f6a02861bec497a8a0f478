{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "da39ed91_a2b74c38",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "left a bunch of comments.  Lots of generalized safety issues that need resolved.",
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e01c455_6e274829",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "Please use flat map.",
      "range": {
        "startLine": 10,
        "startChar": 26,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "db24cf68_46e07a32",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e01c455_6e274829",
      "range": {
        "startLine": 10,
        "startChar": 26,
        "endLine": 10,
        "endChar": 33
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "734a3c9d_f976c4ac",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "this should be weak_from_this() to handle destruction properly.",
      "range": {
        "startLine": 52,
        "startChar": 13,
        "endLine": 52,
        "endChar": 17
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42769b6c_bd22576d",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "734a3c9d_f976c4ac",
      "range": {
        "startLine": 52,
        "startChar": 13,
        "endLine": 52,
        "endChar": 17
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a6707aa_b317fa35",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "same here.",
      "range": {
        "startLine": 86,
        "startChar": 13,
        "endLine": 86,
        "endChar": 17
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f7583ec_55b8c9f0",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a6707aa_b317fa35",
      "range": {
        "startLine": 86,
        "startChar": 13,
        "endLine": 86,
        "endChar": 17
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0d84d85_983e8022",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "Isn\u0027t this now going to duplicate the data?  If we\u0027re moving to per-session sockets, we shouldn\u0027t be looping over all connections.",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 65
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b3ca967_755f9b67",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "I have not moved to per session socket. I am still using single socket per console path. I am worried that someone can exploit it by creating lot of sessions for single console and we will console lot of memory for input and output buffer. What do you think?",
      "parentUuid": "b0d84d85_983e8022",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 65
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "617711f4_2647b788",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-30T21:25:57Z",
      "side": 1,
      "message": "\u003e I have not moved to per session socket. I am still using single socket per console path.\n\nWe talked about not doing this.....  It is essentially duplicating obmc-console-server.  did something change?\n\n\u003e I am worried that someone can exploit it by creating lot of sessions for single console and we will console lot of memory for input and output buffer.\n\nIf they have access to the host console, they can do far worse in easier ways.  Also, what you\u0027re describing is prevented with a simple size() check to limit the number of concurrent sessions (like we do in the other websocket handlers).",
      "parentUuid": "0b3ca967_755f9b67",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 65
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8192b33d_88e96dee",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-30T23:21:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "617711f4_2647b788",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 65
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed3c4b42_b2db41ab",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-31T14:01:26Z",
      "side": 1,
      "message": "ok, done.",
      "parentUuid": "617711f4_2647b788",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 65
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4bd326aa_9a576a81",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "This doesn\u0027t look used anymore?",
      "range": {
        "startLine": 107,
        "startChar": 0,
        "endLine": 107,
        "endChar": 57
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "566f8921_39b9f0d0",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "It is used on line 174.",
      "parentUuid": "4bd326aa_9a576a81",
      "range": {
        "startLine": 107,
        "startChar": 0,
        "endLine": 107,
        "endChar": 57
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8cd2d1a_b3e2bee3",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-30T21:25:57Z",
      "side": 1,
      "message": "ACK",
      "parentUuid": "566f8921_39b9f0d0",
      "range": {
        "startLine": 107,
        "startChar": 0,
        "endLine": 107,
        "endChar": 57
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8f85a07_b5b26cb9",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "Also doesn\u0027t look used?",
      "range": {
        "startLine": 113,
        "startChar": 0,
        "endLine": 113,
        "endChar": 60
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd14c38f_f653e384",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "used on line 193.",
      "parentUuid": "a8f85a07_b5b26cb9",
      "range": {
        "startLine": 113,
        "startChar": 0,
        "endLine": 113,
        "endChar": 60
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "16255e60_a348ad94",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-30T21:25:57Z",
      "side": 1,
      "message": "ACK",
      "parentUuid": "dd14c38f_f653e384",
      "range": {
        "startLine": 113,
        "startChar": 0,
        "endLine": 113,
        "endChar": 60
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a48239d0_e110d876",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "No need to put an else if the previous line returns.",
      "range": {
        "startLine": 139,
        "startChar": 8,
        "endLine": 139,
        "endChar": 12
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b0d319ad_42360fd0",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "done. yep, sorry I keep on making this mistake.",
      "parentUuid": "a48239d0_e110d876",
      "range": {
        "startLine": 139,
        "startChar": 8,
        "endLine": 139,
        "endChar": 12
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c8797d8_587dbdf3",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "Just do emplace here.  There\u0027s no expectation of collisions in this structure, and in the unlikely event that it happens, destroying the old object is fine.",
      "range": {
        "startLine": 166,
        "startChar": 38,
        "endLine": 166,
        "endChar": 49
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "813258c1_4c2d3d45",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "No, I didn\u0027t want to create new handler for same route. Currently single handler is shared by multiple connection for same route path.",
      "parentUuid": "9c8797d8_587dbdf3",
      "range": {
        "startLine": 166,
        "startChar": 38,
        "endLine": 166,
        "endChar": 49
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ccf3f67_ff9c4599",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-30T21:25:57Z",
      "side": 1,
      "message": "This is not what we discussed.  One unix socket per connection, that way the error paths are greatly simplified.",
      "parentUuid": "813258c1_4c2d3d45",
      "range": {
        "startLine": 166,
        "startChar": 38,
        "endLine": 166,
        "endChar": 49
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64c8ce99_85dd0af1",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-30T23:21:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ccf3f67_ff9c4599",
      "range": {
        "startLine": 166,
        "startChar": 38,
        "endLine": 166,
        "endChar": 49
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5dc8152f_0f9a9669",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-31T14:01:26Z",
      "side": 1,
      "message": "ok, done.",
      "parentUuid": "5ccf3f67_ff9c4599",
      "range": {
        "startLine": 166,
        "startChar": 38,
        "endLine": 166,
        "endChar": 49
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "212329ee_a2ba8b5e",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 259,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "please write out the type here.  it\u0027s not obvious without looking at the definition of the function.",
      "range": {
        "startLine": 259,
        "startChar": 4,
        "endLine": 259,
        "endChar": 8
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b2a296c_395de84b",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 259,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "212329ee_a2ba8b5e",
      "range": {
        "startLine": 259,
        "startChar": 4,
        "endLine": 259,
        "endChar": 8
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efc331fa_ad6b6bf5",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 276,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "we now had a handler per connection.  Can this ever happen?",
      "range": {
        "startLine": 272,
        "startChar": 0,
        "endLine": 276,
        "endChar": 5
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e26dee1a_a689d639",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 276,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "No we don\u0027t have handler per connection. We have a handler per route path. I am worried about creating lot of buffers if someone try to run denial attack. But I need your input on this.",
      "parentUuid": "efc331fa_ad6b6bf5",
      "range": {
        "startLine": 272,
        "startChar": 0,
        "endLine": 276,
        "endChar": 5
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46411385_f9577d86",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 289,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "This is a safety issue.  You probably want to just lookup the struct in the db on the other side of this so that if the socket disconnects while this call is happening, we handle it right.",
      "range": {
        "startLine": 289,
        "startChar": 9,
        "endLine": 289,
        "endChar": 17
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32bb70a4_292ae83c",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 289,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46411385_f9577d86",
      "range": {
        "startLine": 289,
        "startChar": 9,
        "endLine": 289,
        "endChar": 17
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e243854_058c5d22",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 307,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-25T22:45:35Z",
      "side": 1,
      "message": "Please remove the lambda.",
      "range": {
        "startLine": 307,
        "startChar": 12,
        "endLine": 307,
        "endChar": 38
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30292ccc_a9cad21a",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 1
      },
      "lineNbr": 307,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-05-26T17:10:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0e243854_058c5d22",
      "range": {
        "startLine": 307,
        "startChar": 12,
        "endLine": 307,
        "endChar": 38
      },
      "revId": "b8f2aa8e0e14ed44d5f6a02861bec497a8a0f478",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}