{
  "comments": [
    {
      "key": {
        "uuid": "17fa22f6_80a65ee1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2020-10-08T20:41:58Z",
      "side": 1,
      "message": "As previously talked about in the comments, it also makes enterprise theming harder.\n \nFor example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t\u003d784 shows this.\n\nIt also does not currently support language translation.",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab10bf64_1a09f86e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2020-10-08T21:25:59Z",
      "side": 1,
      "message": "\u003e As previously talked about in the comments, it also makes enterprise theming harder.\n\nOnly if the option is enabled.\n\n\u003e  \n\u003e For example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t\u003d784 shows this.\n\nI\u0027m not understanding why, in the current patchset, this is any harder.  webui-vue can simply publish the minified login html and css with the vendor theming on them, and set BMCWEB_ENABLE_LOGIN_PAGE\u003dOFF.  Can you elaborate why this makes it \"harder\"?\n\n\u003e \n\u003e It also does not currently support language translation.\n\nOnly if the option is enabled.  Once webui-vue has adoption, it\u0027s easy to add to add.",
      "parentUuid": "17fa22f6_80a65ee1",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bed4d61_b81116c2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2020-10-08T23:38:42Z",
      "side": 1,
      "message": "\u003e \n\u003e Only if the option is enabled.  Once webui-vue has adoption, it\u0027s easy to add to add.\n\n\"easy to add back\"",
      "parentUuid": "ab10bf64_1a09f86e",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a00a4b8_b3e4409d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2020-10-09T20:42:46Z",
      "side": 1,
      "message": "\u003e \u003e As previously talked about in the comments, it also makes enterprise theming harder.\n\n\u003e Only if the option is enabled.\n\nAgreed. It is enabled by default and enterprise theming isn\u0027t just a webui-vue thing, companies themed phoshor-webui.\n\n\n\u003e  \u003e For example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t\u003d784 shows this.\n\n\u003e I\u0027m not understanding why, in the current patchset, this is any harder.  webui-vue can simply publish the minified login html and css with the vendor theming on them, and set BMCWEB_ENABLE_LOGIN_PAGE\u003dOFF.  Can you elaborate why this makes it \"harder\"?\n\nIt is harder because you either use this (BMCWEB_ENABLE_LOGIN_PAGE\u003dON) and have to replace logos and styling in 2 repos or you have to turned this off. In the webui-vue image option this is off? And will continue to be off since themeing and translation (I know you can do translation with this but it becomes harder / more limited (see below)) are big parts of webui-vue ?\n\n\n\n\u003e \u003e It also does not currently support language translation.\n\n\u003e Only if the option is enabled.  Once webui-vue has adoption, it\u0027s easy to add to add.\n\nThe login page is also being translated when changing the language. This includes the labels and buttons. That translation is important since the user is expecting to see these elements change as the dropdown value changes. This is all handled by the vue-i18n plugin and would require significant effort to replicate that functionality.\nGunnar and Derick",
      "parentUuid": "4bed4d61_b81116c2",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "636be7fe_e84ba91a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2020-10-09T21:49:29Z",
      "side": 1,
      "message": "\u003e \u003e \u003e As previously talked about in the comments, it also makes enterprise theming harder.\n\u003e \n\u003e \u003e Only if the option is enabled.\n\u003e \n\u003e Agreed. It is enabled by default and enterprise theming isn\u0027t just a webui-vue thing, companies themed phoshor-webui.\n\nIs there anything in the openbmc tree where a specific image/machine has a different theme in phosphor-webui?  A lot of people did it, but none got checked in that I\u0027m aware of (maybe I missed it).  If \"easy themability\" takes priority over fingerprintability, then certainly, they could disable this option.\n\n\u003e \n\u003e \n\u003e \u003e  \u003e For example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t\u003d784 shows this.\n\u003e \n\u003e \u003e I\u0027m not understanding why, in the current patchset, this is any harder.  webui-vue can simply publish the minified login html and css with the vendor theming on them, and set BMCWEB_ENABLE_LOGIN_PAGE\u003dOFF.  Can you elaborate why this makes it \"harder\"?\n\u003e \n\u003e It is harder because you either use this (BMCWEB_ENABLE_LOGIN_PAGE\u003dON) and have to replace logos and styling in 2 repos or you have to turned this off.\n\nI\u0027m assuming you meant \"or\" instead of \"and\" above?  I\u0027m really not following how having to set option is harder than what exists today.  Yes, if you want both security, and \"easy\" themability, agreed, it gets harder, but is that a reason to avoid this patch?  In the case where you don\u0027t care about fingerprintability, it\u0027s no harder than it was, right?\n\n\u003e In the webui-vue image option this is off?\n\nYes.  In the current state of webui-vue, I would expect that option to be off if it wants to be the thing to provide the login page.  With that said, not everyone uses webui-vue (nor phosphor-webui for that matter) and still have an expectation that login flows work in a browser.\n\n\u003e And will continue to be off since themeing and translation (I know you can do translation with this but it becomes harder / more limited (see below)) are big parts of webui-vue ?\n\nIt becomes different, because it has to be cognizant of login vs logout context, which, since I merged phosphor-webui years ago, the webui since haven\u0027t had to think about.\n\n\u003e \n\u003e \n\u003e \n\u003e \u003e \u003e It also does not currently support language translation.\n\u003e \n\u003e \u003e Only if the option is enabled.  Once webui-vue has adoption, it\u0027s easy to add to add.\n\u003e \n\u003e The login page is also being translated when changing the language. This includes the labels and buttons. That translation is important since the user is expecting to see these elements change as the dropdown value changes. This is all handled by the vue-i18n plugin and would require significant effort to replicate that functionality.\n\nAgain.... hence why this is an option.  With that said, I would hope that replacing 3 fixed (Username, Password, and Language, right?), non templated strings is well within our ability, and doesn\u0027t require rewriting the entire vue-i18n plugin to do.  It would be trivial to do server side.\n\n\n\u003e Gunnar and Derick\n\nReading the above, I\u0027m trying to understand where you guys are at.  Are you trying to understand how webui-vue could support both translations, theming, and a minimum fingerprint footprint?  Or do you believe that a minimum fingerprint footprint isn\u0027t worth completing and merging?\n\nIf it\u0027s the later, I would point out that \"Minimize attack surface area\" is literally the first principal in the owasp design principals:\nhttps://blog.threatpress.com/security-design-principles-owasp/\n\n\nIf it\u0027s the former, I think in the long term, I\u0027m certain there\u0027s a way that we can get all the webui-vue features supported, in such a way that you get both security and a themable/translatable login page, (and avoid using the session store unnecessarily to boot), but because bmcweb has to be aware of the security context, and some people want the login page without webui-vue, we need some minimum package for a login page that\u0027s separate from webui-vue (or maybe webui-vue needs another build type?).  Unfortunately, we can\u0027t solve the world in one patchset.  My position is summed up as:\n\nIf you care about fingerprintability, and don\u0027t care about themability/translations enable these options for higher security.\nIf you don\u0027t care about fingerprintability, and would prefer easy themability/translations, disable these options.\nIn the long term, I\u0027d like to see us make both these features compatible with one another, and these options become moot.",
      "parentUuid": "1a00a4b8_b3e4409d",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5893e5b8_aeaa3a88",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000281
      },
      "writtenOn": "2020-10-15T21:34:40Z",
      "side": 1,
      "message": "\u003e Are you trying to understand how webui-vue could support both translations, theming, and a minimum fingerprint footprint?  Or do you believe that a minimum fingerprint footprint isn\u0027t worth completing and merging?\n\nWe really wanted a better understanding of the risk before we made a decision. Since you all discussed this in the security work group and recognized that fingerprinting and the targeting of unauthenticated assets are \"relatively minor\" for many environments, we are planning to use the BMCWEB_INSECURE_ENABLE_UNAUTHENTICATED_ASSETS flag for webui-vue and not create a separate login page and bundle at this time.\n\n\u003e If you care about fingerprintability, and don\u0027t care about themability/translations enable these options for higher security.\n\u003e If you don\u0027t care about fingerprintability, and would prefer easy themability/translations, disable these options.\n\nYes, we agree with this.\n\n\u003e In the long term, I\u0027d like to see us make both these features compatible with one another, and these options become moot.\n\nThat seems like a great long term strategy.",
      "parentUuid": "636be7fe_e84ba91a",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e9004af_1556a69b",
        "filename": "CMakeLists.txt",
        "patchSetId": 15
      },
      "lineNbr": 156,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2020-09-25T15:15:06Z",
      "side": 1,
      "message": "Hey Ed, If we have a separate javascript bundle for login and this feature only allows that javascript bundle unauthenticated would you support renaming this to something like \nBMCWEB_Enable_VUE_LOGIN \nBMCWEB_Enable_WEBUI_VUE\nBMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE\n\n?",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c3c2ee6_6edd50b2",
        "filename": "CMakeLists.txt",
        "patchSetId": 15
      },
      "lineNbr": 156,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2020-09-26T00:29:49Z",
      "side": 1,
      "message": "\u003e Hey Ed, If we have a separate javascript bundle for login and this feature only allows that javascript bundle unauthenticated would you support renaming this to something like \n\u003e BMCWEB_Enable_VUE_LOGIN \n\u003e BMCWEB_Enable_WEBUI_VUE\n\u003e BMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE\n\u003e \n\u003e ?\n\nI\u0027m not quite following what you\u0027re proposing.  You want to push the names of the webui into the name of the option here?  Or are you proposing we combine BMCWEB_ENABLE_LOGIN_PAGE with BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT (or whatever we end up calling them) into one option?  That seems like it would remove the utility of anyone being able to replace the login page, not just in the webui-vue case.  I\u0027m not a huge fan of that, because it\u0027s not very descriptive, but I suspect I\u0027m not understanding what you\u0027re asking for.  I\u0027m assuming we\u0027d keep the _INSECURE_ part of the flag, right?\n\nIn the other commit, Brad suggested that we make webui-vue and phosphor-webui image options, and use those to set these flags appropriately, that way most people don\u0027t have to think about it, and as webui-vue evolves, it can revert the flags to default that it doesn\u0027t use.  I kinda like that idea from a \"options are descriptive of what they do\" standpoint.",
      "parentUuid": "2e9004af_1556a69b",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c738a532_19679dc2",
        "filename": "CMakeLists.txt",
        "patchSetId": 15
      },
      "lineNbr": 156,
      "author": {
        "id": 1000281
      },
      "writtenOn": "2020-09-27T16:08:00Z",
      "side": 1,
      "message": "\u003e I\u0027m assuming we\u0027d keep the _INSECURE_ part of the flag, right?\n\nYes, the JavaScript will be unauthenticated on the login page only. We are restricting that bundle to only the JavaScript needed to render the page and establish the translation functionality. In that case, I feel like this flag, BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT, is not an accurate descriptor. I like Gunnar\u0027s suggestion of BMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE. Possibly, something like BMCWEB_ENABLE_UNAUTHENTICATED_JAVASCRIPT_LOGIN_PAGE?\n\n\u003e In the other commit, Brad suggested that we make webui-vue and phosphor-webui image options\n\nI think this is an interesting option also.",
      "parentUuid": "9c3c2ee6_6edd50b2",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00961d3b_6aba85d8",
        "filename": "CMakeLists.txt",
        "patchSetId": 15
      },
      "lineNbr": 156,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2020-09-27T16:57:54Z",
      "side": 1,
      "message": "\u003e \u003e I\u0027m assuming we\u0027d keep the _INSECURE_ part of the flag, right?\n\u003e \n\u003e Yes, the JavaScript will be unauthenticated on the login page only. We are restricting that bundle to only the JavaScript needed to render the page and establish the translation functionality.\n\nThen you won\u0027t need this option.  Note, that bundle should not include any frameworks that might be upgraded each release, and shouldn\u0027t be doing any XHR requests from javascript.  Happy to review when you guys have something.\n\n\u003e In that case, I feel like this flag, BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT, is not an accurate descriptor. \nI like Gunnar\u0027s suggestion of BMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE. Possibly, something like BMCWEB_ENABLE_UNAUTHENTICATED_JAVASCRIPT_LOGIN_PAGE?\n\nGetting a little wordy, but sure, I can get behind that.  Can we keep the insecure though?  How about BMCWEB_INSECURE_ENABLE_UNAUTHENTICATED_ASSETS.  Technically this option isn\u0027t limited to javascript today, and you\u0027re right, doesn\u0027t apply to the login page.\nIf webui-vue exposes a login page, css, and javascript with no framework code, no template code, and only the JS needed (although with form based login I\u0027m not sure what that would be), then I think we\u0027re good.\n\n\u003e \n\u003e \u003e In the other commit, Brad suggested that we make webui-vue and phosphor-webui image options\n\u003e \n\u003e I think this is an interesting option also.\n\nInteresting as in, that\u0027s what you\u0027d like to see going forward?\nGunnar, does that work for you?",
      "parentUuid": "c738a532_19679dc2",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6ced0eb_76143f15",
        "filename": "CMakeLists.txt",
        "patchSetId": 15
      },
      "lineNbr": 156,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2020-10-08T20:05:54Z",
      "side": 1,
      "message": "webui-vue and phosphor-webui image options makes sense to me",
      "parentUuid": "00961d3b_6aba85d8",
      "revId": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}