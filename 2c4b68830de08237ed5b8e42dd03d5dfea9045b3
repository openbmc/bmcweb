{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c81a52d8_ae5da89b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T00:26:07Z",
      "side": 1,
      "message": "I didn\u0027t know this was the case and I see no deprecation of the property in question in the public releases.\n\nhttps://github.com/DMTF/Redfish-Publications/blob/5b217908b5378b24e4f390c063427d7a707cd308/csdl/UpdateService_v1.xml#L375\n\nSomething I\u0027m missing?",
      "range": {
        "startLine": 9,
        "startChar": 59,
        "endLine": 10,
        "endChar": 37
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "640dd13f_3212a98d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-04T00:45:32Z",
      "side": 1,
      "message": "https://www.dmtf.org/sites/default/files/standards/documents/DSP2062_1.0.1.pdf\n\n3.1.3 Unstructured HTTP push update (deprecated)\nNote: Due to the vendor-specific details of this operation, this method has been deprecated in favor of multipart\nHTTP push updates.\n\nAlso, Multipart HTTP Push was recommended by Michael Raineri as well https://redfishforum.com/thread/1031/updateservice-send-option-target-imagepost?page\u003d1\u0026scrollTo\u003d3939",
      "parentUuid": "c81a52d8_ae5da89b",
      "range": {
        "startLine": 9,
        "startChar": 59,
        "endLine": 10,
        "endChar": 37
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9058715c_7b28c0a8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T01:14:05Z",
      "side": 1,
      "message": "Please link the above in your commit message so we at least have some background. \n\nThere\u0027s a subtlety here that\u0027s unfortunate.  The document you linked was:\nDocument Class: Informational\n\nYou\u0027ll notice this is different than DSP0266 or DSP8010, which has:\nDocument Class: Normative\n\nThe DMTF folks can explain the difference to you better than I can, but essentially one boils down to \"suggestions\", the other is the actual enforcing specification.  Considering that both were authored by DMTF, you might want to bring this to their attention so that if their intention was truly to deprecate that path, they can actually do so (and thus make another protocol breaking change so we can rev to Redfish 2.0 😊)\n\nWhat I suspect is that this path is really \"discouraged\" because there\u0027s a better path available, which I agree with, but there\u0027s clients that use the existing path, and we\u0027ve supported it for a very long time, so for better or worse it needs to work.",
      "parentUuid": "640dd13f_3212a98d",
      "range": {
        "startLine": 9,
        "startChar": 59,
        "endLine": 10,
        "endChar": 37
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf919754_5a3e001d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-04T22:47:23Z",
      "side": 1,
      "message": "\u003e Please link the above in your commit message so we at least have some background. \n\u003e \n\nSure, added it.\n\n\u003e There\u0027s a subtlety here that\u0027s unfortunate.  The document you linked was:\n\u003e Document Class: Informational\n\u003e \n\u003e You\u0027ll notice this is different than DSP0266 or DSP8010, which has:\n\u003e Document Class: Normative\n\u003e \n\u003e The DMTF folks can explain the difference to you better than I can, but essentially one boils down to \"suggestions\", the other is the actual enforcing specification.  Considering that both were authored by DMTF, you might want to bring this to their attention so that if their intention was truly to deprecate that path, they can actually do so (and thus make another protocol breaking change so we can rev to Redfish 2.0 😊)\n\u003e \n\u003e What I suspect is that this path is really \"discouraged\" because there\u0027s a better path available, which I agree with, but there\u0027s clients that use the existing path, and we\u0027ve supported it for a very long time, so for better or worse it needs to work.\n\nSure, thats why i have added details to the description stating that the Unstructured path is being supported for BMC upgrades only since we already support them at the moment. For any other upgrades, Multipart form based upgrades is the way to go.",
      "parentUuid": "9058715c_7b28c0a8",
      "range": {
        "startLine": 9,
        "startChar": 59,
        "endLine": 10,
        "endChar": 37
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe66c772_520a2e28",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T23:26:23Z",
      "side": 1,
      "message": "Right, so lets get the commit message updated and the \"Redfish has\ndeprecated\" part removed, because in the normative documents, it hasn\u0027t been deprecated yet.  Maybe we wish it was, but bmcweb is the wrong forum for that request.",
      "parentUuid": "bf919754_5a3e001d",
      "range": {
        "startLine": 9,
        "startChar": 59,
        "endLine": 10,
        "endChar": 37
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d42a70ae_b2d4767d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-07T21:25:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fe66c772_520a2e28",
      "range": {
        "startLine": 9,
        "startChar": 59,
        "endLine": 10,
        "endChar": 37
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc8a8e6a_e67ca86e",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1104,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T00:26:07Z",
      "side": 1,
      "message": "nit: if you\u0027re going to make this two lines anyway, just use push_back, or in the ideal case, modify processUpdateRequest to accept a std::span\u003cstd::string\u003e and then here we can just use an array\u003cstd::string, 1\u003e.",
      "range": {
        "startLine": 1103,
        "startChar": 0,
        "endLine": 1104,
        "endChar": 53
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4438af0_de857e87",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1104,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-04T22:47:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fc8a8e6a_e67ca86e",
      "range": {
        "startLine": 1103,
        "startChar": 0,
        "endLine": 1104,
        "endChar": 53
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ede3178c_d82a5510",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1106,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T00:26:07Z",
      "side": 1,
      "message": "This is inadvertently making two copies of the request object payload, both of which we tend to avoid because of lifetime problems (if the connection closes while the request is in progress, the request object is destroyed).\n\nGenerally we will parse out the parameters we need, and pass those through.",
      "range": {
        "startLine": 1106,
        "startChar": 36,
        "endLine": 1106,
        "endChar": 39
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7eb00e8_cbac8147",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1106,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-04T22:47:23Z",
      "side": 1,
      "message": "I can understand the issue related to lifetime of req, but i am passing this by const reference -\n\nconst crow::Request\u0026 req\n\nHow does it make two copies of the req object?",
      "parentUuid": "ede3178c_d82a5510",
      "range": {
        "startLine": 1106,
        "startChar": 36,
        "endLine": 1106,
        "endChar": 39
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8a784f1_32a574f8",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1106,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T23:26:23Z",
      "side": 1,
      "message": "I should\u0027ve left the comment on the right line where the copy was made, I\u0027ll do that now.",
      "parentUuid": "e7eb00e8_cbac8147",
      "range": {
        "startLine": 1106,
        "startChar": 36,
        "endLine": 1106,
        "endChar": 39
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1b62f151_87eaf035",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1106,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-07T21:25:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f8a784f1_32a574f8",
      "range": {
        "startLine": 1106,
        "startChar": 36,
        "endLine": 1106,
        "endChar": 39
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b903acc_82983f9a",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T00:26:07Z",
      "side": 1,
      "message": "If I\u0027m reading this code correctly, we\u0027re getting the \"when do we apply\" setting just so we can then pump it back into the backend to fulfill the dbus interface, because it doesn\u0027t handle the \"no apply time provided\" case.  This amounts to business logic that should be done in the updater daemon itself, not in bmcweb.  I suspect we need to get another enum added for this use case for an apply time of \"Default\", \"Use existing\", or \"use last\".  Clearly the existing updater daemon can do this already, because we don\u0027t have code in bmcweb to get the apply time, so adding it in bmcweb isn\u0027t the right design choice here.\n\nFWIW, this as implemented also causes a hard dependency on phosphor-settings, which I don\u0027t know if all implementations take.",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11c6c18b_3e3eb630",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T00:33:25Z",
      "side": 1,
      "message": "This is also another request copy.\n\nFWIW, I\u0027m trying to make these copies more obvious in the future:\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/71547",
      "range": {
        "startLine": 1119,
        "startChar": 59,
        "endLine": 1119,
        "endChar": 62
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30c78236_31bb806a",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-04T22:47:23Z",
      "side": 1,
      "message": "\u003e If I\u0027m reading this code correctly, we\u0027re getting the \"when do we apply\" setting just so we can then pump it back into the backend to fulfill the dbus interface, because it doesn\u0027t handle the \"no apply time provided\" case.  \n\nFor Unstructured Updates, ApplyTime comes as per of patch request followed by a Push for Image, so there are 2 different requests.\n\n\u003e This amounts to business logic that should be done in the updater daemon itself, not in bmcweb.  I suspect we need to get another enum added for this use case for an apply time of \"Default\", \"Use existing\", or \"use last\".  Clearly the existing updater daemon can do this already, because we don\u0027t have code in bmcweb to get the apply time, so adding it in bmcweb isn\u0027t the right design choice here.\n\nBMCWeb is already setting this in phosphor-settings for a patch request, thats the existing code https://grok.openbmc.org/xref/openbmc/bmcweb/redfish-core/lib/update_service.hpp?r\u003dde0c960c#751. But since there is no standard D-Bus interface in old flow, Updater daemon makes the get call for it. So, same thing i am doing in BMCWeb now.\n\n\u003e \n\u003e FWIW, this as implemented also causes a hard dependency on phosphor-settings, which I don\u0027t know if all implementations take.",
      "parentUuid": "6b903acc_82983f9a",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87c41fd2_a9fc2853",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-04T23:26:23Z",
      "side": 1,
      "message": "\u003e For Unstructured Updates, ApplyTime comes as per of patch request followed by a Push for Image, so there are 2 different requests.\n\nRight, I understand.\n\n\n\u003e Updater daemon makes the get call for it. So, same thing i am doing in BMCWeb now.\n\nThis sentence perfectly exemplifies the problem: You\u0027ve moved business logic that was previously in the updater daemon into bmcweb.  Please don\u0027t do that, updater daemon needs to own that behavior.  Bmcweb should make the request to update, with as much information as it has, then be done with it.  If the updater daemon wants to internally go get the SettingsD setting, it can do that as part of its flow.  The reason it does that flow is not because there was no dbus method call interface for it.  FWIW, that interface even predates bmcweb.\n\n\nAsking a different way, if I wanted to implement this same flow in IPMI, or another user-facing API, how would i do it without duplicating the \"Get the current setting\" code?  This is why the logic needs to go in the update daemon.",
      "parentUuid": "30c78236_31bb806a",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4d2fa3f_fbdea9af",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-07T21:25:55Z",
      "side": 1,
      "message": "Looks like there is lot of history on phosphor-settingsd; why, where it was used.\n\nSure, so achieve what we want we need to inform the CodeUpdater Daemon to use the default setting, so i have raised this PR to make changes to the D-Bus interface. https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/71868\n\nOnce, that change goes through i can incorporate it into this patch.",
      "parentUuid": "87c41fd2_a9fc2853",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "312b8cc3_2b106ff4",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-07T21:25:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "11c6c18b_3e3eb630",
      "range": {
        "startLine": 1119,
        "startChar": 59,
        "endLine": 1119,
        "endChar": 62
      },
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1adfc102_121dfbe2",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-07T21:32:50Z",
      "side": 1,
      "message": "👍",
      "parentUuid": "e4d2fa3f_fbdea9af",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "228e687e_310af78d",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-06-10T22:15:57Z",
      "side": 1,
      "message": "Ed, I strongly agree with your original suggestion.\n\n\u003e If I\u0027m reading this code correctly, we\u0027re getting the \"when do we apply\" setting just so we can then pump it back into the backend to fulfill the dbus interface, because it doesn\u0027t handle the \"no apply time provided\" case\n\nThis means that we have to make _every_ daemon support this business logic because of some Redfish-ism.  We should not.",
      "parentUuid": "1adfc102_121dfbe2",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49ca9bec_c0c969ab",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-10T22:27:28Z",
      "side": 1,
      "message": "Maybe I\u0027m not following, but the idea of \"I want to apply updates immediately\" versus \"I want to apply updates on next reboot\" doesn\u0027t really seem like a Redfishism.  I would expect IPMI to have similar commands, or for daemons on dbus to want to have a similar global setting without having to specify it per-update.\n\n\n\nFWIW, if this is a design point we want to tackle, I think it makes sense to tackle it as a separate item to getting the existing filesystem interfaces ported to DBus.  Today the existing daemon owns this logic, so I\u0027d assume it\u0027s trivial to keep the old behavior?  If we think we\u0027ll eventually drop it, maybe just a new method call that omits the \"apply immediately\" parameter rather than trying to add the new enum, that way when we drop it we just drop one method call?",
      "parentUuid": "228e687e_310af78d",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09c663af_27cd269b",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-06-10T22:57:12Z",
      "side": 1,
      "message": "Having an apply time is not a redfish-ism and not what I\u0027m taking issue with. \n\nFor one Redfish case, the apply time comes as a separate operation before we even know _what_ we are updating. The previous implementation stashed this apply time into settingsd.  Asking the update daemon to go to settingsd to get the previously stashed (by bmcweb) value _is_ pushing a Redfish-ism into all the implementation daemons and what I\u0027m taking issue with.\n\nI don\u0027t think the previous implementation of having the [single] update daemon go to settingsd was ever appropriate, but now that we have a design that allows N different daemons, we _shouldnt_ replicate this everywhere.  The \"business logic\" only ever existed because of Redfish-specific semantics.",
      "parentUuid": "49ca9bec_c0c969ab",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "695cc86c_6d7011de",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-11T01:21:14Z",
      "side": 1,
      "message": "Adding Andrew to this one here;  I realized aside from not wanting business logic in bmcweb, I didn\u0027t design this and am not really prepared to defend the settingsd based implementation.  If we dropped the PATCH feature entirely (which I only think worked on a subset of systems anyway?), or only allowed it on an update request, I suspect very few implementations would even have known it was there.",
      "parentUuid": "09c663af_27cd269b",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42d2881d_124fe5e4",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-06-11T16:29:47Z",
      "side": 1,
      "message": "My skim of the codebase, it seems like other than bmcweb the only place that this gets set is through an OEM PLDM command from IBM.  It appears that all that command does is reset the value back to OnReset [which is the default in meta-phosphor already], so it seems like the only purpose of this is to ensure bmcweb hadn\u0027t set a different value previously.",
      "parentUuid": "695cc86c_6d7011de",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7d632c6_d979b43e",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-11T16:42:42Z",
      "side": 1,
      "message": "I\u0027ll let Andrew defend the feature itself.  I suspect the property could be removed from bmcweb entirely with no impact to any existing users.  Doing that would solve our problem here in a tidy way.",
      "parentUuid": "42d2881d_124fe5e4",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "276b9beb_bd9c1634",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-11T18:26:21Z",
      "side": 1,
      "message": "\u003e I\u0027ll let Andrew defend the feature itself.  I suspect the property could be removed from bmcweb entirely with no impact to any existing users.  Doing that would solve our problem here in a tidy way.\n\nCan we take away the support for an existing Redfish flow, how would we know we don\u0027t break any existing users for this?\n\nThat was my intention to add the Unstructured Update flow only for phosphor-bmc-code-mgmt for backwards compatibility and rest for everything else to use the Multipart-form based flow. @Patrick, since this would be only for BMC updates so it would only exist in phoshor-bmc-code-mgmt and not in every CodeUpdater daemon.",
      "parentUuid": "d7d632c6_d979b43e",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f29f80ce_1a63ca91",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-11T18:43:02Z",
      "side": 1,
      "message": "\u003e how would we know we don\u0027t break any existing users for this?\n\nWe don\u0027t, and normally I\u0027d try to keep backward compatibility with all flows, but I\u0027m trying to propose a path forward under the assumption that usage of this parameter is very rare (only IBM).  Maybe that assumption is faulty, but lets talk about that.  In the Redfish plugfests for firmware update, I don\u0027t think we saw anyone actually used this \"set the update time as a patch\" and most didn\u0027t implement it, which is why I\u0027m considering just removing the flow, documenting that it\u0027s gone.",
      "parentUuid": "276b9beb_bd9c1634",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb1c60aa_ad105f6a",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2024-06-11T20:23:20Z",
      "side": 1,
      "message": "I\u0027m struggling a bit to context switch all this in. The redfish API has a HttpPushUriApplyTime object with an ApplyTime property. The expectation is that it\u0027s system wide and applied to all code updates. We\u0027re saying we don\u0027t want to support that anymore because the new code update Redfish API includes the ApplyTime with the image and people should just use that?",
      "parentUuid": "f29f80ce_1a63ca91",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6e3cb7b_1cb5efc6",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-12T21:14:03Z",
      "side": 1,
      "message": "Yes and my understanding is that @Ed suspects that this property can be removed from BMCWeb without any impact to existing users.",
      "parentUuid": "eb1c60aa_ad105f6a",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c911e096_cd0c4f03",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2024-06-13T18:36:47Z",
      "side": 1,
      "message": "I think it\u0027s reasonable to update the clients that perform code update to usie this new Redfish API that contains the ApplyTime setting within that call. The reason the ApplyTime call was used widespread at IBM it\u0027s because the GUI sets the ApplyTime to Immediate as part of the update process so we always call to set ApplyTime back to OnReset in case a GUI update had been previously run. The GUI code can also be updated to call this new interface and avoid setting the separate property to Immediate if it hasn\u0027t already.",
      "parentUuid": "a6e3cb7b_1cb5efc6",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06616bca_719c8cf4",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-06-13T19:23:41Z",
      "side": 1,
      "message": "sounds good to me.",
      "parentUuid": "c911e096_cd0c4f03",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c73e7a9_26df350a",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 3
      },
      "lineNbr": 1119,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-06-13T22:32:18Z",
      "side": 1,
      "message": "So, i am assuming with this one the Redfish Unstructured HTTP Post update will be removed from clients and they will switch to Multipart-form HTTP Post update instead. Please correct me if my understanding is wrong.",
      "parentUuid": "06616bca_719c8cf4",
      "revId": "2c4b68830de08237ed5b8e42dd03d5dfea9045b3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}