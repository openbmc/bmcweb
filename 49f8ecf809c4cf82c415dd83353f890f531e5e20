{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2b4a8563_7d38c36f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-03-14T19:11:47Z",
      "side": 1,
      "message": "Please review the other two series for websockets that are in review, and rebase your patches on those.  Those series predate this patchset, and will likely merge first.",
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aee66af7_792b72fd",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 192,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-03-14T19:15:39Z",
      "side": 1,
      "message": "error code by reference please.",
      "range": {
        "startLine": 192,
        "startChar": 37,
        "endLine": 192,
        "endChar": 47
      },
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3973109c_9a30e355",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 192,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-03-15T12:57:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aee66af7_792b72fd",
      "range": {
        "startLine": 192,
        "startChar": 37,
        "endLine": 192,
        "endChar": 47
      },
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61fdbe20_486b9572",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-03-14T19:15:39Z",
      "side": 1,
      "message": "This is duplicating the check already done in http/routing.hpp.  Please don\u0027t duplicate code.",
      "range": {
        "startLine": 199,
        "startChar": 9,
        "endLine": 199,
        "endChar": 20
      },
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7b7e7ba_388c961c",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-03-15T16:37:08Z",
      "side": 1,
      "message": "The hostconsole check is specific to the obmc host console hence it is in this file.",
      "parentUuid": "61fdbe20_486b9572",
      "range": {
        "startLine": 199,
        "startChar": 9,
        "endLine": 199,
        "endChar": 20
      },
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b08bdd74_04075168",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-03-15T16:38:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7b7e7ba_388c961c",
      "range": {
        "startLine": 199,
        "startChar": 9,
        "endLine": 199,
        "endChar": 20
      },
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "621fe75f_f6f8fe57",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-03-20T17:04:45Z",
      "side": 1,
      "message": "To repeat, please don\u0027t duplicate code.  Regardless of what belongs in this file or not, please don\u0027t duplicate existing authx code in individual handlers.  It makes security audits difficult to perform.",
      "parentUuid": "b08bdd74_04075168",
      "range": {
        "startLine": 199,
        "startChar": 9,
        "endLine": 199,
        "endChar": 20
      },
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0120f03_7ca236d3",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 205,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2023-03-15T19:34:24Z",
      "side": 1,
      "message": "I am not clear what the required permissions should be for a user to open URI /console0.  Tracing the code which appears in this review:\n1. Code in http/routing.hpp handleUpgrade() calls validatePrivilege() to check if the user has Redfish privileges ConfigureComponents and ConfigureManager.\n2. Code in this file, onOpen() \u0026 checkPermissionAndConnect(), checks if the user in in the hostconsole group.\nBoth checks must pass before the user is allowed to create the /console0 connection.\n\nHowever, I understand the intention in this set of commits is to move away from the Redfish permission system, and move toward the OpenBMC privilege system.  Thus, the correct set of Redfish privileges (above) should be: \"Login\".  If this is done: The set of users allowed to access /console0 includes any user who is allowed to Login *and* has the special hostconsole permission.",
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dc0aaac4_d04f155f",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 5
      },
      "lineNbr": 205,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-03-20T14:07:59Z",
      "side": 1,
      "message": "Good catch. I talked to Gunner and he suggested to remove privileges so removed it. So now we will only check the unix group membership.",
      "parentUuid": "d0120f03_7ca236d3",
      "revId": "49f8ecf809c4cf82c415dd83353f890f531e5e20",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}