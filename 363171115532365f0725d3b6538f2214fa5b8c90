{
  "comments": [
    {
      "key": {
        "uuid": "baaf0bc3_d9e75e4b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-02-18T17:19:56Z",
      "side": 1,
      "message": "more than a one sentance description please.\n\nWhy would we want to do this?  How is this helpful to users?  What changes are made to any endpoints.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 68
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42b99cad_ac2f394f",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-02-17T22:32:00Z",
      "side": 1,
      "message": "We we write a journal entry here if token auth fails to get a session?",
      "range": {
        "startLine": 94,
        "startChar": 9,
        "endLine": 94,
        "endChar": 16
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5275851f_e4c30000",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-02-18T03:43:45Z",
      "side": 1,
      "message": "No.  loginSessionByToken calls into pam_authenticate which would log there.",
      "parentUuid": "42b99cad_ac2f394f",
      "range": {
        "startLine": 94,
        "startChar": 9,
        "endLine": 94,
        "endChar": 16
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bac9afa9_811d8fd2",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-02-18T20:50:47Z",
      "side": 1,
      "message": "I disagree and don\u0027t see where loginSessionByToken invokes any PAM functions.  I understand the flow at this point is:\n1. A user logged in via username+password, BMCWeb checked those credentials via PAM, created a token which represents that session, and passed that token back to the user.\n2. The user is using their session to perform an operation: they passed in the token (with *no* additional credentials), and the code flowed to this point.\n3. loginSessionByToken() check if the token represents a valid session, and returns here.\nIs this token-auth failure worthy of a journal entry?  I vote yes.\nSame with the other two sites below.",
      "parentUuid": "5275851f_e4c30000",
      "range": {
        "startLine": 94,
        "startChar": 9,
        "endLine": 94,
        "endChar": 16
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5808ac2_831ed19f",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 111,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-02-17T22:32:00Z",
      "side": 1,
      "message": "We we write a journal entry here if token auth fails to get a session?",
      "range": {
        "startLine": 111,
        "startChar": 9,
        "endLine": 111,
        "endChar": 16
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a3b045a_212537ec",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 111,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-02-18T03:43:45Z",
      "side": 1,
      "message": "No.  loginSessionByToken calls into pam_authenticate which would log there.",
      "parentUuid": "f5808ac2_831ed19f",
      "range": {
        "startLine": 111,
        "startChar": 9,
        "endLine": 111,
        "endChar": 16
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2532bb9_6990f6d9",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 148,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-02-17T22:32:00Z",
      "side": 1,
      "message": "We we write a journal entry here if cookie auth fails to get a session?",
      "range": {
        "startLine": 148,
        "startChar": 8,
        "endLine": 148,
        "endChar": 14
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea580efd_70f9b430",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 148,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-02-18T03:43:45Z",
      "side": 1,
      "message": "No.  loginSessionByToken calls into pam_authenticate which would log there.",
      "parentUuid": "d2532bb9_6990f6d9",
      "range": {
        "startLine": 148,
        "startChar": 8,
        "endLine": 148,
        "endChar": 14
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71a0f60f_b2daba52",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 205,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2021-02-17T22:32:00Z",
      "side": 1,
      "message": "I am unfamiliar with this code flow.  Is there a place we can write a journal entry here if mTLS is attempted but fails to get a session?",
      "range": {
        "startLine": 205,
        "startChar": 11,
        "endLine": 205,
        "endChar": 18
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95b643b2_a6a62bfc",
        "filename": "include/authorization.hpp",
        "patchSetId": 3
      },
      "lineNbr": 205,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-02-18T03:43:45Z",
      "side": 1,
      "message": "This is the only one of the places you marked where we COULD log, but we can\u0027t here, because there mTLS auth is not required in all scenarios and we can\u0027t tell the difference between a user providing a wrong cert, and a user providing no cert.\n\nIf there\u0027s a way to tell the difference, it would be good, but I\u0027m not sure how to do it in this patch.",
      "parentUuid": "71a0f60f_b2daba52",
      "range": {
        "startLine": 205,
        "startChar": 11,
        "endLine": 205,
        "endChar": 18
      },
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47637cc6_b9a96778",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-02-18T03:43:45Z",
      "side": 1,
      "message": "Should we log here as well?  If a user logs into a session that\u0027s disabled, or a service account, that seems like an important thing to track.",
      "revId": "363171115532365f0725d3b6538f2214fa5b8c90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}