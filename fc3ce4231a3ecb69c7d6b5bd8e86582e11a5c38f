{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "aff75bf9_5aba07ca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 20,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-03-12T06:41:07Z",
      "side": 1,
      "message": "Actually I do not think it\u0027s a race problem. It\u0027s really related to the behavior in systemd:\nhttps://github.com/systemd/systemd/pull/11424\n\n“Reject Set time until the NTP is fully disabled”.",
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7dc016d4_7203301d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 28,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-03-12T02:25:08Z",
      "side": 1,
      "message": "By this change, it looks like we lost the \"sync\" of the NTP setings in systemd and phosphor-settings.\nHow to resolve this?",
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db82882c_625dd305",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 28,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-12T02:59:37Z",
      "side": 1,
      "message": "what does “sync” mean?  functionally does it change anything for the user?",
      "parentUuid": "7dc016d4_7203301d",
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d756756_50cc4870",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 28,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-03-12T03:51:34Z",
      "side": 1,
      "message": "The property in phosphor-settings provides the \"NTP setting\" on the DBus.\nBy \"sync\" I mean the bmcweb should make sure the \"NTP setting\" in phosphor-settings and systemd-timedated the same.\nOtherwise, when bmcweb changes the NTP settings in systemd-timedated, the setting in phosphor-settingsd is not updated.",
      "parentUuid": "db82882c_625dd305",
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcc5e916_0dd33b4c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 28,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-12T04:06:29Z",
      "side": 1,
      "message": "why is that bmcweb job to keep them in sync?  isn’t that the job of settings/timesyncd?\n\nhow does this work for defaults if it’s not already reading from timesyncd?",
      "parentUuid": "5d756756_50cc4870",
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c31eddd5_b36be760",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 28,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-03-12T06:36:26Z",
      "side": 1,
      "message": "\u003e why is that bmcweb job to keep them in sync? isn’t that the job of settings/timesyncd?\n\nBefore this change, bmcweb get/set the \"NTP settings\" on phosphor-settings.\nphosphor-time-manager and phosphor-settings are responsible to sync the settings with systemd-timedated.\nSo the services like bmcweb and ipmid will only have to get/set the property on phosphor-settings, that\u0027s all.\n\nNow with this patch, bmcweb changes the behavior and directly set the \"NTP setting\" to systemd-timedated, that\u0027s why I raise the comment.",
      "parentUuid": "bcc5e916_0dd33b4c",
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b54fe85b_d3f75d8c",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 247,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-03-11T16:01:03Z",
      "side": 1,
      "message": "Should this be using ec.value?",
      "range": {
        "startLine": 247,
        "startChar": 24,
        "endLine": 247,
        "endChar": 29
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "844198bb_8d5ca102",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 247,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-11T16:11:02Z",
      "side": 1,
      "message": "I think it\u0027s functionally the same?  Why would ec.value() be better here?",
      "parentUuid": "b54fe85b_d3f75d8c",
      "range": {
        "startLine": 247,
        "startChar": 24,
        "endLine": 247,
        "endChar": 29
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7d0f1bd2_9a90f708",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 247,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-03-11T16:27:34Z",
      "side": 1,
      "message": "It wasn\u0027t clear to me they are the same. I\u0027ve mostly been seeing the use of ec.value in other places in the bmcweb code I\u0027ve looked at recently.",
      "parentUuid": "844198bb_8d5ca102",
      "range": {
        "startLine": 247,
        "startChar": 24,
        "endLine": 247,
        "endChar": 29
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e042a156_dbc7b85c",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 247,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-11T16:46:42Z",
      "side": 1,
      "message": "For operator \u003d\u003d, they\u0027re not the same (as I\u0027ve found recently).  Ideally we need a deeper dive into this stuff similar to:\n\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/69477\n\nBut if you look at our std::formatter overload for this, we print out ec.what() which should be more descriptive.  Even if it\u0027s not exactly what we want, we need to fix it here:\nhttps://github.com/openbmc/bmcweb/blob/6f4bd2904fd231c90ee86040f067018088097715/http/logging.hpp#L31C51-L31C55\n\nrather than in this code.",
      "parentUuid": "7d0f1bd2_9a90f708",
      "range": {
        "startLine": 247,
        "startChar": 24,
        "endLine": 247,
        "endChar": 29
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "33409b62_c8df73e6",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 247,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-03-11T18:42:39Z",
      "side": 1,
      "message": "Ahh, I see. Thank you for the link and explanation. Always better to understand \u0027why\u0027 something is coded a particular way.",
      "parentUuid": "e042a156_dbc7b85c",
      "range": {
        "startLine": 247,
        "startChar": 24,
        "endLine": 247,
        "endChar": 29
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c43c3685_48f00311",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 255,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-03-11T16:01:03Z",
      "side": 1,
      "message": "Can ntpEnabled no longer be const \u0026?",
      "range": {
        "startLine": 255,
        "startChar": 57,
        "endLine": 255,
        "endChar": 72
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c91c71ca_b6b2025c",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 255,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-11T16:11:02Z",
      "side": 1,
      "message": "We pass small values by value.  There\u0027s no reason to pass by const reference here.",
      "parentUuid": "c43c3685_48f00311",
      "range": {
        "startLine": 255,
        "startChar": 57,
        "endLine": 255,
        "endChar": 72
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ae8666b_10f417b0",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 456,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-03-11T16:01:03Z",
      "side": 1,
      "message": "Can enabled be const?",
      "range": {
        "startLine": 456,
        "startChar": 57,
        "endLine": 456,
        "endChar": 69
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57985bc1_82275a58",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 15
      },
      "lineNbr": 456,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-03-11T16:11:02Z",
      "side": 1,
      "message": "Const correctness on small values is not something we enforce at this time.",
      "parentUuid": "3ae8666b_10f417b0",
      "range": {
        "startLine": 456,
        "startChar": 57,
        "endLine": 456,
        "endChar": 69
      },
      "revId": "fc3ce4231a3ecb69c7d6b5bd8e86582e11a5c38f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}