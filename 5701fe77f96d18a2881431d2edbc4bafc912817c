{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e393c063_dc67040b",
        "filename": "Redfish.md",
        "patchSetId": 18
      },
      "lineNbr": 231,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:54:00Z",
      "side": 1,
      "message": "Please document this appropriately.  this is an array of objects, that have sub properties that you\u0027ve implemented at least a few of (DeviceName for example), and they should be documented.",
      "range": {
        "startLine": 231,
        "startChar": 2,
        "endLine": 231,
        "endChar": 18
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e3ecd2b_88ccd505",
        "filename": "Redfish.md",
        "patchSetId": 18
      },
      "lineNbr": 231,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e393c063_dc67040b",
      "range": {
        "startLine": 231,
        "startChar": 2,
        "endLine": 231,
        "endChar": 18
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bb761e6_863f407b",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "non trivial lambda.",
      "range": {
        "startLine": 19,
        "startChar": 23,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1317f884_c6f918f1",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 32,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0bb761e6_863f407b",
      "range": {
        "startLine": 19,
        "startChar": 23,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a18bdf9_f737ce8d",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "Please build a list, and return to the callback as a list.  \"One callback per async action\" is an asio convention that helps code stay stable, because it makes it very clear when there could be multiple of an object.",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06bfb056_9559433c",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "\u003e Please build a list, and return to the callback as a list.\n\nSorry, I am not following what this means.\n\n\u003e  \"One callback per async action\" \n\nI have updated as per this suggestion",
      "parentUuid": "8a18bdf9_f737ce8d",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62ea6a73_0d3a8515",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-06T05:27:24Z",
      "side": 1,
      "message": "\u003e \u003e Please build a list, and return to the callback as a list.\n\u003e \n\u003e Sorry, I am not following what this means.\n\nit means don\u0027t call the callback in a loop.\n\n\u003e \n\u003e \u003e  \"One callback per async action\" \n\u003e \n\u003e I have updated as per this suggestion",
      "parentUuid": "06bfb056_9559433c",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abc5656a_6763fcb2",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T06:22:35Z",
      "side": 1,
      "message": "```\n        for (const auto\u0026 [sensorPath, serviceMap] : subtree)\n        {\n            for (const auto\u0026 [service, interfaces] : serviceMap)\n            {\n                callback(service, sensorPath);\n            }\n        }\n```\nIs this wrong?",
      "parentUuid": "62ea6a73_0d3a8515",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "800eb4f9_0c3f505d",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-03-06T18:02:16Z",
      "side": 1,
      "message": "What if restructuring the callbacks?\n\n```\n    getFanSpeedsPercent(const std::shared_ptr\u003cbmcweb::AsyncResp\u003e\u0026 asyncResp,\n                        const std::string\u0026 validChassisPath,\n                        const std::string\u0026 chassisId)\n{\n    redfish::fan_utils::getFanPaths(\n        ...\n        [....](\n            const dbus::utility::MapperGetSubTreePathsResponse\u0026 fanPaths) {\n            redfish::fan_utils::getFanSensorsObjects(\n                asyncResp, fanPaths,\n                std::bind_front(getFanSensorValues, asyncResp, chassisId));\n        }\n\n}\n\ngetFanSensorsObjects( fanPaths, callback )\n{\n  dbus::utility::getAssociatedSubTree(\n        ....\n        [...](\n            const boost::system::error_code\u0026 ec,\n            const dbus::utility::MapperGetSubTreeResponse\u0026 subtree) {\n.....\n        // accumulate pairs of service \u0026 sensorPath\n        std::vector\u003cstd::pair\u003cstd::string,std::string\u003e\u003e\u003e serviceAndSensorPaths;\n        for (const auto\u0026 [sensorPath, serviceMaps] : subtree)\n        {\n            for (const auto\u0026 [service, interfaces] : serviceMaps)\n            {\n                std::pair\u003cstd::string,std::string\u003e pair { service, sensorPath };\n                serviceAndSensorPaths.emplace_back( pair );\n            }\n\n        }\n        callback( std::move(serviceAndSensorPaths) );\n    });\n}\n\ngetFanSensorValues(  const std::vector\u003cstd::pair\u003cstd::string,std::string\u003e\u003e\u003e\u0026\n        serviceAndSensorPaths)\n{\n        for (const auto\u0026 [ service, path]  : serviceAndSensorPaths)\n        {\n            sdbusplus::asio::getProperty\u003cdouble\u003e(...)\n            {\n                  updateFanSensorList();\n            } \n        }\n    });\n}\n```",
      "parentUuid": "abc5656a_6763fcb2",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50d6b5f5_8d88a7d8",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-08-07T21:35:46Z",
      "side": 1,
      "message": "With Myung\u0027s help I\u0027ve restructured the code a bit in order to build a vector of the fanSensorPaths and services to path to the callback for filling in the property values.\n\nAdditionally I\u0027ve moved the sort of this vector rather than after each update of the JSON array.",
      "parentUuid": "800eb4f9_0c3f505d",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14c30949_da688653",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-08T00:52:28Z",
      "side": 1,
      "message": "Once we get this based on the existing code and producing the correct values, then I\u0027ll review if this is complete.",
      "parentUuid": "50d6b5f5_8d88a7d8",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c5f7df5_d8854632",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2026-01-12T21:37:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "14c30949_da688653",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad6f4fe9_c2dfea03",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 69,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "non trivial lambda.",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 69,
        "endChar": 6
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d89fe1e4_4245cf3e",
        "filename": "redfish-core/include/utils/fan_utils.hpp",
        "patchSetId": 18
      },
      "lineNbr": 69,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad6f4fe9_c2dfea03",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 69,
        "endChar": 6
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4608d6b_c158fc9e",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "internal error?",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b22c0df1_40a7d5c0",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c4608d6b_c158fc9e",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "659989de_790a1780",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 33,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "nlohmann::json::object_t",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 33,
        "endChar": 17
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2619562_ede19032",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 33,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "659989de_790a1780",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 33,
        "endChar": 17
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2bb9c67_a017e4c9",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "SensorCollection doesn\u0027t implement DeviceName, so this patchset can\u0027t just add without adding support in sensor.hpp.  This is supposed to be an \"excerpt\" which in Redfish terms is a less populated version of the same schema.  If Sensor doesn\u0027t implement DeviceName, we can\u0027t just add it in the excerpt version.\n\nPlease just implement this as an \"excerpt\" mode on the existing sensor get code.\n\nIn addition, this is not a device name, per the redfish spec.",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 57
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5414093_e4127793",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Updated",
      "parentUuid": "c2bb9c67_a017e4c9",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 57
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d469cfa1_e5af4ea9",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-08-07T21:35:46Z",
      "side": 1,
      "message": "The DeviceName property for a SensorFanArrayExcerpt is defined \"shall contain the value of the `Name` property of the associated resource\".\n\nSo I\u0027ve modified how this property is built here to build it the same way it is built in objectPropertiesToJson() [1]\n\n[1] https://github.com/openbmc/bmcweb/blob/fa2d6ae7034875a61314380295a88dc8abaa34a1/redfish-core/lib/sensors.hpp#L761",
      "parentUuid": "d5414093_e4127793",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 57
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f67a5251_9d414f3c",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-08T00:52:28Z",
      "side": 1,
      "message": "Not sure where you\u0027re getting your text, but here\u0027s where I\"m getting mine:\n\nhttps://github.com/DMTF/Redfish-Publications/blob/bff927ee3cd16e0c059845fba976bf738b0717b2/csdl/Sensor_v1.xml#L860\n\n\"\"This property shall contain the name of the device associated with this sensor.  If the device is represented by a resource, the value shall contain the value of the `Name` property of the associated resource.\"\n\nBased on that description, DeviceName should be the name of the containing Chassis, NOT the name of the sensor.  Lets omit it for now until we can implement it correctly.",
      "parentUuid": "d5414093_e4127793",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 57
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6f04846_5b8ea3d2",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-08-08T22:35:20Z",
      "side": 1,
      "message": "That is the same text I was reading. I interpreted \"the associated resource\" as the sensor not the chassis.\n\nI\u0027ll remove the \"DeviceName\" property from the response.",
      "parentUuid": "f67a5251_9d414f3c",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 57
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccbfa07e_07bf7eef",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-08T22:52:22Z",
      "side": 1,
      "message": "Sounds good.  Feel free to close this out when done.",
      "parentUuid": "c6f04846_5b8ea3d2",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 57
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "725eab60_f5db3e7e",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2026-01-12T21:37:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ccbfa07e_07bf7eef",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 57
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52b3ed37_a6bde908",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 41,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "this is adding items to the list with no regard as to ordering.  The order from the mapper isn\u0027t defined, and certainly the order daemons reply to GetProperty requests is undefined, so you need to order there appropriately (probably with insert).\n\nAs written, i suspect that systems with multiple fan daemons will reorder this list every refresh, which doesn\u0027t meet the Redfish specification.",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00b95fc9_f8cd19c3",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 41,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Updated",
      "parentUuid": "52b3ed37_a6bde908",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e39b85be_04cfed28",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 41,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-08-07T21:35:46Z",
      "side": 1,
      "message": "I\u0027ve moved the sort to sort the vector produced by getFanSensorObjects(). The single callback will then add the objects in the already sorted order.",
      "parentUuid": "00b95fc9_f8cd19c3",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3baf4371_e6095cfa",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 41,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-08T00:56:57Z",
      "side": 1,
      "message": "Please don\u0027t invent your own sort.  Use the existing ones, they are more correct.",
      "parentUuid": "e39b85be_04cfed28",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b5def5e_c535afc6",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 41,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-08-08T22:35:20Z",
      "side": 1,
      "message": "I didn\u0027t realize there were existing utility functions. I\u0027ve changed the sort() of the vector produced by getFanSensorObjects() to use AlphanumLess().",
      "parentUuid": "3baf4371_e6095cfa",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a03e706d_5147985d",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 41,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2026-01-12T21:37:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6b5def5e_c535afc6",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 41,
        "endChar": 48
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bcafc96_d634c92e",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 53,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "internalError?  If the mapper returns a fan that then doesn\u0027t exist, that\u0027s an error, right?",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ff4991b_d55c610c",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 53,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Correct，Done",
      "parentUuid": "5bcafc96_d634c92e",
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "796e589e_9bfc06aa",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 61,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "nit, capture error codes by const reference, as you\u0027ve done elsewhere in this file.",
      "range": {
        "startLine": 61,
        "startChar": 18,
        "endLine": 61,
        "endChar": 43
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bfb5da4_6d58a1b5",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 61,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "796e589e_9bfc06aa",
      "range": {
        "startLine": 61,
        "startChar": 18,
        "endLine": 61,
        "endChar": 43
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cdaf4cac_fc332f68",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 82,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "I see no check to ensure that the opposite end of the \"cooled_by\" association is a fan inventory item.",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 82,
        "endChar": 79
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18351557_bead245f",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 82,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "rainier has been configured in associations.json.\nhttps://github.com/openbmc/openbmc/blob/master/meta-ibm/recipes-phosphor/inventory/phosphor-inventory-manager/p10bmc/ibm%2Crainier-2u_associations.json#L53-L56\n\nFP5280g3 is also associated downstream, But I found that this function has not been implemented in EM.",
      "parentUuid": "cdaf4cac_fc332f68",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 82,
        "endChar": 79
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e304a54b_31f88896",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 82,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-06T05:06:50Z",
      "side": 1,
      "message": "I made no mention of EM in my comment.  I’m not sure why you bring it up.  If the rainier associations are wrong then that’s a discussion to have with that maintainer, I’m talking about the code in this patchset, which makes no mention of Fan.  If a \"cooled_by\" association does not point to a fan object (which is allowed in PDI), then this will return a URL that 404s.\n\nNote that this is different than the all_sensors association, or chassis association, that by convention, we KNOW associates to a Sensor object.",
      "parentUuid": "18351557_bead245f",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 82,
        "endChar": 79
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d599caa_11627e56",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 82,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T06:22:35Z",
      "side": 1,
      "message": "Got it.\nUpdated",
      "parentUuid": "e304a54b_31f88896",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 82,
        "endChar": 79
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "756d60c9_552b4c9a",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 99,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-05T16:52:50Z",
      "side": 1,
      "message": "As written, this looks like it implements\n\nChassis -\u003e cooled_by -\u003e sensor.  Which is incorrect.  I\u0027m not sure how that would work, and is likely relying on hardcoded associations for a specific system?\n\nChassis -\u003e cooled_by -\u003e Fan -\u003e all_sensors -\u003e Sensor\n\nIs the appropriate association.",
      "range": {
        "startLine": 99,
        "startChar": 32,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54649981_afa97454",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 99,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T03:42:33Z",
      "side": 1,
      "message": "Now, Chassis-\u003ecooled_by-\u003eFan-\u003esensors(all_sensors \u003d\u003d sensor for Fan)\nI think this is correct, https://github.com/openbmc/openbmc/blob/master/meta-ibm/recipes-phosphor/inventory/phosphor-inventory-manager/p10bmc/ibm%2Crainier-2u_associations.json#L15-L27\n\nBecause for fan0, it may be a dual rotor or a single rotor.",
      "parentUuid": "756d60c9_552b4c9a",
      "range": {
        "startLine": 99,
        "startChar": 32,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39dab4b0_4284627c",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 99,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-02-06T05:06:50Z",
      "side": 1,
      "message": "\u003e Now, Chassis-\u003ecooled_by-\u003eFan-\u003esensors(all_sensors \u003d\u003d sensor for Fan)\n\u003e I think this is correct, \n\nthat’s not what was in code though.  there is no mention of all_sensors in this patchset.\n\n\u003e https://github.com/openbmc/openbmc/blob/master/meta-ibm/recipes-phosphor/inventory/phosphor-inventory-manager/p10bmc/ibm%2Crainier-2u_associations.json#L15-L27\n\u003e \n\u003e Because for fan0, it may be a dual rotor or a single rotor.",
      "parentUuid": "54649981_afa97454",
      "range": {
        "startLine": 99,
        "startChar": 32,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e2b610f_8c855dc4",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 99,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2024-02-06T06:22:35Z",
      "side": 1,
      "message": "Updated",
      "parentUuid": "39dab4b0_4284627c",
      "range": {
        "startLine": 99,
        "startChar": 32,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e84fb0b9_16c70a4a",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 99,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2024-08-07T21:35:46Z",
      "side": 1,
      "message": "George had updated already to use all_sensors. I believe that addressed this review comment. Please let me know if I\u0027m missing something else for this one.",
      "parentUuid": "4e2b610f_8c855dc4",
      "range": {
        "startLine": 99,
        "startChar": 32,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e778321_7ac67148",
        "filename": "redfish-core/lib/environment_metrics.hpp",
        "patchSetId": 18
      },
      "lineNbr": 99,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2026-01-12T21:37:38Z",
      "side": 1,
      "message": "After further investigation the use of all_sensors is not correct here. The sensor architecture document does a good job explaining the associations. [1]\n\nCurrent flow:\nChassis -\u003e cooled_by - returns all fans associated to the specified chassis\nFor each fan:\nFan -\u003e sensors - returns sensors associated with the fan\n\nThe properties of these sensors are then retrieved to build the SensorFanArrayExcerpt.\n\nI\u0027ve updated the commit message to clarify the flow and added a link to the design document.\n\n[1] https://github.com/openbmc/docs/blob/master/architecture/sensor-architecture.md#redfish",
      "parentUuid": "e84fb0b9_16c70a4a",
      "range": {
        "startLine": 99,
        "startChar": 32,
        "endLine": 99,
        "endChar": 49
      },
      "revId": "5701fe77f96d18a2881431d2edbc4bafc912817c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}