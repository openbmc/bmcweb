{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1e185411_395ebabc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000593
      },
      "writtenOn": "2022-02-21T00:07:06Z",
      "side": 1,
      "message": "There might be some confusion. It looks like you are enhancing/violating the redfish API.\n(Based on a quick control f for \"AccountTypes\" in \nhttps://redfish.dmtf.org/schemas/v1/ManagerAccountCollection.json)\n\nThe maintainers will not let you do that. \nThey might let you add an oem field, if your attempts to modify the redfish spec are rejected.   ",
      "revId": "67a01f6085b5d35490b99ee03012e054ab50e1b2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82d37b34_8f43822e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-02-21T00:29:54Z",
      "side": 1,
      "message": "AccountTypes is the explicit type defined in the CSDL.  FYI, you\u0027re looking at the collection, not the ManagerAccount schema as you probably meant to.  Assuming you want the json, you should ideally be looking at:\nhttps://redfish.dmtf.org/schemas/v1/ManagerAccount.v1_8_1.json\n\nWhich does have an AccountTypes field.  FWIW, I tend to look at the CSDL, as it doesn\u0027t have this \"every version is a different file\" weirdness, and it\u0027s what the json schema is generated from:\n\nhttps://redfish.dmtf.org/schemas/v1/ManagerAccount_v1.xml\n\nIn short, your comment about OEM schemas is correct, it\u0027s just that this isn\u0027t an OEM schema.",
      "parentUuid": "1e185411_395ebabc",
      "revId": "67a01f6085b5d35490b99ee03012e054ab50e1b2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24be3082_b814a72e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000593
      },
      "writtenOn": "2022-03-02T18:30:38Z",
      "side": 1,
      "message": "sounds good, my misunderstanding",
      "parentUuid": "82d37b34_8f43822e",
      "revId": "67a01f6085b5d35490b99ee03012e054ab50e1b2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ba726a2_7d6842ab",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 8
      },
      "lineNbr": 161,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-02-18T10:05:48Z",
      "side": 1,
      "message": "Maybe this check is not needed? If user is in a group not listed above, simply ignore it is okay I think. Some vendors may have their own OEM group.",
      "revId": "67a01f6085b5d35490b99ee03012e054ab50e1b2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d456bf17_d9a4d8f9",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 8
      },
      "lineNbr": 161,
      "author": {
        "id": 1001099
      },
      "writtenOn": "2022-03-02T18:16:18Z",
      "side": 1,
      "message": "OEM Group applies here? Can you explain more?\nhttp://redfish.dmtf.org/schemas/v1/ManagerAccount.json#/definitions/AccountTypes\nwhere I see only predefined strict account types.\nand if there is Oem account type then it has to be in {\"Oem\": {\"openbmc\": {\"OemAccountype\":\"xxx\"}}} group.\n\nPlease explain if I am wrong.",
      "parentUuid": "2ba726a2_7d6842ab",
      "revId": "67a01f6085b5d35490b99ee03012e054ab50e1b2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d055ee7f_61be9549",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 8
      },
      "lineNbr": 161,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2022-03-02T19:40:34Z",
      "side": 1,
      "message": "\u003e Some vendors may have their own OEM group.\n\nIf a vendor has an Oem Group does an \"oemUserGroups\" make more sense? That would match closer with Redfish\u0027s \"OemAccountype\" vs just stuffing an oem user group into this userGroups?\n\nThese userGroups are documented here: \nhttps://github.com/openbmc/docs/blob/master/architecture/user-management.md#supported-group-roles Not clear on how Oem would work.\nSince they are documented... An unexpected user group does sound like an error to me and we have done this other places. \nhttps://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/systems.hpp#L891\n\nThat said if we wanted to just keep going when we have an unexpected userGroup, I would be fine with that. Could look like:\n\n        if (!getAccountTypeFromUserGroup(userGroup, accountTypes))\n        {\n            BMCWEB_LOG_DEBUG \u003c\u003c \"mapped value not for this userGroup value : \"\n                             \u003c\u003c userGroup;\n        }\nI think I would prefer the current code though.",
      "parentUuid": "d456bf17_d9a4d8f9",
      "revId": "67a01f6085b5d35490b99ee03012e054ab50e1b2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93701ffa_4138fffd",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 8
      },
      "lineNbr": 161,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-03-03T02:27:28Z",
      "side": 1,
      "message": "In redfish schema, if there is a OEM user group, an \"OEM\" need to be put in \"AccountTypes\", and detailed groups are shown in \"OEMAccountTypes\".\nhttps://redfish.dmtf.org/schemas/DSP2046_2021.4.html#manageraccount-181\n\nSorry I misunderstood it in my first comment, giving out the error is fine. It\u0027s vendor\u0027s responsibility to patch this file to support their own groups. Thank you for your detailed explanation.",
      "parentUuid": "d055ee7f_61be9549",
      "revId": "67a01f6085b5d35490b99ee03012e054ab50e1b2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}