{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a987caac_c8128dd8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 21,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-14T13:24:41Z",
      "side": 1,
      "message": "I think this cli `bmcweb` is doing \n```\nbusctl call  xyz.openbmc_project.bmcweb /xyz/openbmc_project/bmcweb  xyz.openbmc_project.bmcweb SetLogLevel s \"INFO\"\n```\n\nI think it may be better to show the raw dbus busctl command example here \u0026 DEVELOPING.md.",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31a0ce45_f1907290",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 21,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-14T20:26:32Z",
      "side": 1,
      "message": "I disagree.  The CLI commands are simpler to read and execute, and can encapsulate any DBus API changes we make.",
      "parentUuid": "a987caac_c8128dd8",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eea2d370_d651d31c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 21,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-14T21:17:31Z",
      "side": 1,
      "message": "Added busctl documentation in addition to CLI example",
      "parentUuid": "a987caac_c8128dd8",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b269b5d_1a838922",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 21,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-15T00:30:12Z",
      "side": 1,
      "message": "Sorry, but please remove the busctl docs.  I don\u0027t want to document an internal, should only be used from CLI interface.  That implies that other apps can use it, which they shouldn\u0027t be.",
      "parentUuid": "eea2d370_d651d31c",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1209215e_1ca2a51d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 21,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-15T18:07:30Z",
      "side": 1,
      "message": "Done, removed",
      "parentUuid": "0b269b5d_1a838922",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52df483b_7af08599",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 21,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-19T13:25:18Z",
      "side": 1,
      "message": "Given the scope of goal, it would be good to keep the CLI",
      "parentUuid": "1209215e_1ca2a51d",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13564c3c_7ccda30f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-14T13:24:41Z",
      "side": 1,
      "message": "Do we need still a separate cli bmcweb when it can be done via busctl (or dbus api)?\n\nThis would help for the others who may want to integrate directly using DBUS interface to control bmcweb log level.\n\nIf so, `cli11` dependency can also be removed.",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbe38e1c_822a0195",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-14T13:24:41Z",
      "side": 1,
      "message": "How about dealing with `/tmp/bmcweb` (in TESTING.md)?\nIf `bmcwebd` needs to be used, TESTING.md would need to be updated.\n\nOn the other hand, if keeping `bmcweb` as is (instead of changing it to `bmcwebd`) and removing cli `bmcweb`, TESTING.md would not need to be modified.",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef6cb372_3b30d4a4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-14T20:26:32Z",
      "side": 1,
      "message": "We don\u0027t \"need\" any of this.  We could remove all logging alltogether.  We add things like this because it makes things easier.",
      "parentUuid": "13564c3c_7ccda30f",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8283cba_0df8856a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-14T20:26:32Z",
      "side": 1,
      "message": "I would prefer that the CLI application be called \"bmcweb\".\n\nIt\u0027s rare that people are launching bmcwebd directly (that documentation is the only case I\u0027m aware of where it\u0027s expected, and that\u0027s a dev mode).",
      "parentUuid": "dbe38e1c_822a0195",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5638858_aef6f69a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-14T21:17:31Z",
      "side": 1,
      "message": "The CLI is useful for apps that need to turn on bmcweb logging during specific events, without inheriting sdbus dependencies -\u003e effort towards a more generalized server. \nAlso simplifies development when there\u0027s a need to alternate between logging levels.",
      "parentUuid": "13564c3c_7ccda30f",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e08d8b40_5f03f63f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-14T21:17:31Z",
      "side": 1,
      "message": "Updated TESTING.md",
      "parentUuid": "dbe38e1c_822a0195",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "679da474_a386f394",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-15T12:40:01Z",
      "side": 1,
      "message": "If it is preferred to have a CLI cmd, what if naming it as \"bmcwebctl\" or \"bmcwebcli\"?",
      "parentUuid": "e08d8b40_5f03f63f",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dae80aba_18747572",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-15T15:00:03Z",
      "side": 1,
      "message": "I prefer the current name.",
      "parentUuid": "679da474_a386f394",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b777c795_dd8cffce",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-15T18:07:30Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "dae80aba_18747572",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a3c304c0_a58941e5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 22,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-19T13:25:18Z",
      "side": 1,
      "message": "Given the scope of goal, it would agree",
      "parentUuid": "d5638858_aef6f69a",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4044647b_4855fd8c",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-14T13:24:41Z",
      "side": 1,
      "message": "Since logLevel can be dynamically changed, I think it is better to add a trace line here saying the log level is changing.",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14e67c36_5f5d6be4",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-14T13:24:41Z",
      "side": 1,
      "message": "I think we would need to handle the error case as the invalid loglevel may be passed (unlike the case when it was only controlled via compile time option).\n\nFor example,\n\n```\nbusctl call  xyz.openbmc_project.bmcweb /xyz/openbmc_project/bmcweb  xyz.openbmc_project.bmcweb SetLogLevel s \"INVALID\"\n```",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c9e9f7e_824a52c6",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-14T20:26:32Z",
      "side": 1,
      "message": "I could see it being needed, although this is a CLI application for debug.  I\u0027m not sure how far we really need to go on input validation.  Up to author if they want to fix.",
      "parentUuid": "14e67c36_5f5d6be4",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef334808_8c3ae447",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-14T21:17:31Z",
      "side": 1,
      "message": "Added a trace: Note, this is printed at an \"INFO\" level.",
      "parentUuid": "4044647b_4855fd8c",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e6b4ffe_439b13d1",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-14T21:17:31Z",
      "side": 1,
      "message": "This error case is handled same as before - getLogLevelFromName(logLevel) returns disabled when invalid arg is passed.",
      "parentUuid": "14e67c36_5f5d6be4",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b606e72_25920568",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-15T00:30:12Z",
      "side": 1,
      "message": "Right, but ideally it would return an error to the CLI.  I\u0027m not THAT worried about it, and I suspect it\u0027s something that can be fixed in a later patch.",
      "parentUuid": "3e6b4ffe_439b13d1",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14331be9_7c4c9220",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-15T12:40:01Z",
      "side": 1,
      "message": "Today code (`getLogLevelFromName()`) will set the log level as \"Disabled\" if the input is invalid.\n\nSo, I think `getLogLevelFromName()` needs to be modified to detect the invalid input and not to change the current log level as Disabled.",
      "parentUuid": "9b606e72_25920568",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6cd0085_3031399f",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-15T15:00:03Z",
      "side": 1,
      "message": "Like I said, yes, that would return an error, and you\u0027re right, that could be improved, but given this is a debug interface, and not user facing, I will leave up to the author if they want to spend the effort to fix that.",
      "parentUuid": "14331be9_7c4c9220",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "090b169a_09d77463",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2024-08-15T18:07:30Z",
      "side": 1,
      "message": "Agree. I would prefer if there\u0027s a single source of truth for the logging states, so I added a validation check in bmcwebd. If validation fails, we don\u0027t change log level:\nroot@s7106:~# journalctl -u bmcweb\nFeb 27 17:26:38 s7106 systemd[1]: Started Start bmcwebd server.\nFeb 27 17:27:01 s7106 bmcwebd[214]: [ERROR event_service_manager.hpp:1303] inotify_add_watch failed for redfish log file.\nFeb 27 17:27:42 s7106 bmcwebd[214]: [INFO webserver_run.cpp:39] Requested log-level change to: DEBUG\nFeb 27 17:27:52 s7106 bmcwebd[214]: [INFO webserver_run.cpp:39] Requested log-level change to: INFO\nFeb 27 17:28:01 s7106 bmcwebd[214]: [ERROR webserver_run.cpp:35] log-level WRONG_INP not found",
      "parentUuid": "d6cd0085_3031399f",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea3aef0d_b9446631",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-19T13:25:18Z",
      "side": 1,
      "message": "It seems good",
      "parentUuid": "090b169a_09d77463",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58987546_a1ea0f9c",
        "filename": "src/webserver_run.cpp",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-08-19T13:25:18Z",
      "side": 1,
      "message": "It seems better",
      "parentUuid": "ef334808_8c3ae447",
      "revId": "e95e59be78393cfe31f9dbc0dc31d6d75c180bd1",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}