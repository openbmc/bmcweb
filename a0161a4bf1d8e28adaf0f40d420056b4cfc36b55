{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "59ab3740_b0fb5ad9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 26
      },
      "lineNbr": 0,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-05-24T16:37:31Z",
      "side": 1,
      "message": "Addressed \u0026 replied to comments, please check.",
      "revId": "a0161a4bf1d8e28adaf0f40d420056b4cfc36b55",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c96d4d9_76a5d15e",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 26
      },
      "lineNbr": 784,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-05-24T15:39:39Z",
      "side": 1,
      "message": "lets code golf this a little to make it easier to read:\n```\nif (crow::utility::readUrlSegments(*url, \"redfish\", \"v1\", \"Managers\",\n                                    BMCWEB_REDFISH_MANAGER_URI_NAME))\n{\n    return std::make_optional(std::string(BMCWEB_REDFISH_MANAGER_URI_NAME));\n}\nif constexpr (!BMCWEB_REDFISH_UPDATESERVICE_USE_DBUS)\n{\n    return std::nullopt;\n}\nstd::string firmwareId;\nif (!crow::utility::readUrlSegments(\n        *url, \"redfish\", \"v1\", \"UpdateService\", \"FirmwareInventory\",\n        std::ref(firmwareId)))\n{\n    return std::nullopt;\n}\n\nreturn std::make_optional(firmwareId);\n\n```",
      "range": {
        "startLine": 769,
        "startChar": 0,
        "endLine": 784,
        "endChar": 76
      },
      "revId": "a0161a4bf1d8e28adaf0f40d420056b4cfc36b55",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c5c81cb_f2b28008",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 26
      },
      "lineNbr": 784,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-05-24T16:37:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5c96d4d9_76a5d15e",
      "range": {
        "startLine": 769,
        "startChar": 0,
        "endLine": 784,
        "endChar": 76
      },
      "revId": "a0161a4bf1d8e28adaf0f40d420056b4cfc36b55",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5c1afd3_0e73c2da",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 26
      },
      "lineNbr": 1010,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-05-24T17:33:16Z",
      "side": 1,
      "message": "ok, I understand now;  The shared ownership is happening here, where each loop gets its own copy of the payload.\n\nYes, shared_ptr is reasonable in this case.",
      "range": {
        "startLine": 1010,
        "startChar": 42,
        "endLine": 1010,
        "endChar": 49
      },
      "revId": "a0161a4bf1d8e28adaf0f40d420056b4cfc36b55",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8156201f_20b38366",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 26
      },
      "lineNbr": 1010,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-05-24T18:34:22Z",
      "side": 1,
      "message": "I thought we talked about getting this new API working for a single target, then change it to work with multiple targets later?  Your testing mentioned in the commit message also implies that we haven\u0027t attempted multiple targets yet, and the existing task system won\u0027t be able to support multiple tasks in flight, because like we talked about on discord, you can\u0027t return multiple \"tasks\" in a single HTTP response, so we\u0027ll need some sort of SubTask implementations for this to work properly.  That\u0027s more than I think we should put in one commit, so lets just simplify this for now down to a single target allowed and get it on master so we can unblock the other things adding your new API.\n\nThat\u0027s the core reason we\u0027re getting warnings about shared usage when we do this.  We\u0027re making unintentional copies for each task.\n\n\nOnce we\u0027re through the hard part, we can regroup and figure out how to implement a subtask system if we need it.",
      "parentUuid": "c5c1afd3_0e73c2da",
      "range": {
        "startLine": 1010,
        "startChar": 42,
        "endLine": 1010,
        "endChar": 49
      },
      "revId": "a0161a4bf1d8e28adaf0f40d420056b4cfc36b55",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bbf9e643_fd54bffd",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 26
      },
      "lineNbr": 1010,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2024-05-24T19:04:31Z",
      "side": 1,
      "message": "Acknowledged. There is a already a check which errors out if targetSize \u003e 1, i didn\u0027t remove that. But sure, let me change the patch to only have Single Target URI support. We can always add back the other changes in next sequence.",
      "parentUuid": "8156201f_20b38366",
      "range": {
        "startLine": 1010,
        "startChar": 42,
        "endLine": 1010,
        "endChar": 49
      },
      "revId": "a0161a4bf1d8e28adaf0f40d420056b4cfc36b55",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}