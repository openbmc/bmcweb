{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f0f29945_00adcc40",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-19T21:45:59Z",
      "side": 1,
      "message": "How would this co-exist with the existing software update design? In that case, there are going to be multiple StartUpdate interfaces, how do you know you are choosing the right one? There was a version of your design where an explicit Multi-partManager interface was proposed. Please follow up on that.",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cf53fb3_33dac711",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-08-20T08:51:24Z",
      "side": 1,
      "message": "The original bmcweb implementation does not support multi-target updates, and this patch does not introduce that capability either.\n\n* Single target specified: The behavior remains unchanged; updates proceed as before.\n\n* No targets specified: The update is triggered on the entity implementing StartUpdate. However, this only works if there is exactly one such entity. If multiple entities implement StartUpdate, bmcweb will raise an error.\n\nIn short, multi-target updates are still not supported under the current software update design. \n\nOn top of that, PLDM updates have been broken for the past six months since the switch to StartUpdate in bmcweb.",
      "parentUuid": "f0f29945_00adcc40",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e04f4b50_aa2c67b8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T15:09:53Z",
      "side": 1,
      "message": "\u003e The original bmcweb implementation does not support multi-target updates, and this patch does not introduce that capability either.\n\u003e \n\u003e * Single target specified: The behavior remains unchanged; updates proceed as before.\n\u003e \n\u003e * No targets specified: The update is triggered on the entity implementing StartUpdate. However, this only works if there is exactly one such entity. If multiple entities implement StartUpdate, bmcweb will raise an error.\n\u003e \n\nI am not referring to multi targets in the Redfish URI list. I am referring to different updaters exposing the StartUpdate interface which is the current design. You are picking the very first StartUpdate interface how would that co-exist with the current design. Please work on your interfaces in the design and get consensus on that.\n\n\u003e In short, multi-target updates are still not supported under the current software update design. \n\u003e \n\u003e On top of that, PLDM updates have been broken for the past six months since the switch to StartUpdate in bmcweb.\n\nPLDM updates never worked properly. That was some hacked up code copied to PLDMd from phosphor-bmc-code-mgmt which used to look for the images from the same place as BMC updater as BMCWeb used to put it in /tmp/images dir. One of the two daemons used to win race for image, delete it from /tmp/images directory and then drop the image if it was not intended for it. So, that was never the solution which should have been put up upstream in the first go. FYI: This was the patch which added that change to PLDMd https://gerrit.openbmc.org/c/openbmc/pldm/+/45952. Lets not do similar sort of hack solution again.\n\n(CC @patrick@stwcx.xyz).",
      "parentUuid": "9cf53fb3_33dac711",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eafec7dd_d887236f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-08-20T15:35:56Z",
      "side": 1,
      "message": "@paligill@gmail.com with the current design the Redfish user must specify a Target, and Rajeev\u0027s patch here doesn\u0027t impact that flow. I\u0027m not sure I understand your concern. The code doesn\u0027t pick the first StartUpdate interface - it picks the only StartUpdate interface (when there is just one - the pldmd app level update) and no Targets are specified.",
      "parentUuid": "e04f4b50_aa2c67b8",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c077af34_081f6e05",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T17:55:34Z",
      "side": 1,
      "message": "\u003e @paligill@gmail.com with the current design the Redfish user must specify a Target, and Rajeev\u0027s patch here doesn\u0027t impact that flow. I\u0027m not sure I understand your concern. The code doesn\u0027t pick the first StartUpdate interface - it picks the only StartUpdate interface (when there is just one - the pldmd app level update) and no Targets are specified.\n\nMy concern is arising from the fact that you are defaulting the behavior to a Multipart image parser by using the same Update interface as a device level updater. What would be the interface if multiple targets are supplied. There is no consensus on the interface for Multipart image parser yet. I see the design from Tom (where he was proposing a Multipart Manager interface) totally changed from what i reviewed last time. I have provided comments on that.\n\nAlso, i see this patch from Rajeev \nhttps://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/82235. Looks like design changes are being put up in bits and pieces.\n\nFirst there needs to be a consensus on what would be the Dbus interface for Multipart updater. So, first lets get that.",
      "parentUuid": "eafec7dd_d887236f",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c39b5013_ad8bf715",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 35,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-19T21:45:59Z",
      "side": 1,
      "message": "Please add reference to the design which is under discussion.",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4dc24ba1_2734ed54",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 35,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-08-20T08:51:24Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "c39b5013_ad8bf715",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa0517a0_815a0d0d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-19T21:48:14Z",
      "side": 1,
      "message": "@gunnar@gmills.xyz Thanks for adding me to this PR.",
      "revId": "96f149468f8c40267761dd4ac8ce32756235dcca",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}