{
  "comments": [
    {
      "key": {
        "uuid": "1bed57ab_e3429a3b",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 85,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2020-07-02T04:44:02Z",
      "side": 1,
      "message": "createMultiSaveareaFiles",
      "range": {
        "startLine": 85,
        "startChar": 5,
        "endLine": 85,
        "endChar": 25
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5dfc728f_ca6fe487",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 85,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2020-07-02T09:24:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1bed57ab_e3429a3b",
      "range": {
        "startLine": 85,
        "startChar": 5,
        "endLine": 85,
        "endChar": 25
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ea4eb9a_b0132b48",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 131,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2020-07-02T04:44:02Z",
      "side": 1,
      "message": "i dont think we should stop if the file in the middle is empty. As long as we get the data with proper format we should continue parsing and creating the files.",
      "range": {
        "startLine": 131,
        "startChar": 8,
        "endLine": 131,
        "endChar": 21
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ff62260_8051673c",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 131,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2020-07-02T08:28:53Z",
      "side": 1,
      "message": "If the file name is empty, then we must be returning an error (since we follow \"Create All or Create Nothing\" way).",
      "parentUuid": "3ea4eb9a_b0132b48",
      "range": {
        "startLine": 131,
        "startChar": 8,
        "endLine": 131,
        "endChar": 21
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "154a7d4c_484177dc",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 131,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2020-07-02T10:31:46Z",
      "side": 1,
      "message": "fair enough. Fine",
      "parentUuid": "3ff62260_8051673c",
      "range": {
        "startLine": 131,
        "startChar": 8,
        "endLine": 131,
        "endChar": 21
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d2f6eda4_f294e4dd",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 252,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2020-07-02T04:44:02Z",
      "side": 1,
      "message": "remove the commented lines",
      "range": {
        "startLine": 250,
        "startChar": 7,
        "endLine": 252,
        "endChar": 44
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69491936_bffb9709",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 252,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2020-07-02T08:28:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d2f6eda4_f294e4dd",
      "range": {
        "startLine": 250,
        "startChar": 7,
        "endLine": 252,
        "endChar": 44
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f724fdd8_b5691cd4",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 267,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2020-07-02T04:44:02Z",
      "side": 1,
      "message": "I think you can keep adding the filesize when you create files at /tmp/savearea in the method createMultipartFiles(). If you see they are exceeding the max directory size, return false. Then you need not have all these logic in this calling method.",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 267,
        "endChar": 9
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70bdb0d8_83bcefc6",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 267,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2020-07-02T08:28:53Z",
      "side": 1,
      "message": "Say, if the file size is 2 MB, and the save area dir size is 9 MB, in this case, this transaction must fail and we should not be creating any files.\n\nThe second case, say save area dir size is 9 MB, the size of the files is 1.5 MB, but the same files are already present in the save area directory (which we must be over-written) and in that case, the save area dir count may come within 10 MB (if the size of the common files in /tmp is lesser than that in save area dir) -- Common files basically.\n\nSo for this, I hope we must be proceeding with these computations.",
      "parentUuid": "f724fdd8_b5691cd4",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 267,
        "endChar": 9
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8a3f11ab_1ec4ad18",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 267,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2020-07-02T10:31:46Z",
      "side": 1,
      "message": "Got the logic Asmitha. Thanks.\n\nI think we can have a better way where :\n1. Copy the original save area dir to /tmp when you get the PUT or POST. Check if /tmp can contain this or not.\n2. Use this /tmp to create files as you are doing now\n3. Keep finding duplicate files and replace them at /tmp path itself\n4. Keep adding the filesize ; until all the files are received.\n5. If  total size fits, then move the /tmp dir to the original dir. If does not fit , discard the /tmp\n\nSo as a first step don\u0027t start with empty /tmp directory. It can be a duplicate copy of the existing original save area dir\n\nWhats your views on this ?\n\nWe can fit the ResourceUpdate logic in this where we can determine if there is any file which is getting updated or newly added.",
      "parentUuid": "70bdb0d8_83bcefc6",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 267,
        "endChar": 9
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "26ae1bad_16345158",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 277,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2020-07-02T04:44:02Z",
      "side": 1,
      "message": "misplaced ? comment should go to line 281",
      "range": {
        "startLine": 277,
        "startChar": 8,
        "endLine": 277,
        "endChar": 58
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8801a574_d9244d39",
        "filename": "include/ibm/management_console_rest.hpp",
        "patchSetId": 24
      },
      "lineNbr": 277,
      "author": {
        "id": 1000401
      },
      "writtenOn": "2020-07-02T08:28:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "26ae1bad_16345158",
      "range": {
        "startLine": 277,
        "startChar": 8,
        "endLine": 277,
        "endChar": 58
      },
      "revId": "f4f5ff423f0bbe7895e8f5c1402b6a7e2630b650",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}