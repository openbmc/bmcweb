{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "32b9f122_75c3697b",
        "filename": "config/bmcweb.service.in",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2025-03-02T20:00:20Z",
      "side": 1,
      "message": "Ed,\n\nWith this commit, I\u0027m not able to get bmcweb log entries from journal.\n\n```\nbmcweb loglevel debug\n```\n\nAfter this, I would expect to see the debug entries from journal (e.g. GET etc).\n```\njournalctl -u bmcweb -f\n```\n\nAm I missing something?  Or, should I configure something more?\n\n(If I switch to `SyslogLevelPrefix\u003dfalse`, bmcweb logs appear in journal)",
      "revId": "ee993dc84b1e9917b545fdd7367f1127a358084a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9d5df57_8dcf7409",
        "filename": "config/bmcweb.service.in",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-03-03T18:10:33Z",
      "side": 1,
      "message": "OpenBMC filters debug level messages by default:\n\nhttps://github.com/openbmc/openbmc/commit/c3b3c9777177ca44fe288ce327c1f1dd9e20f187",
      "parentUuid": "32b9f122_75c3697b",
      "revId": "ee993dc84b1e9917b545fdd7367f1127a358084a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b938b8f3_adb314bd",
        "filename": "config/bmcweb.service.in",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2025-03-03T18:42:48Z",
      "side": 1,
      "message": "Thanks for the reference to setup the filter.\n\nWhat I\u0027m wondering is where the default bmcweb logs (eg. info or error level by) would go. (or configured by -Dbmcweb-logging\u003d\u003clevel\u003e, or https://github.com/openbmc/bmcweb/blob/da9dc905da4e6d30125bcca160537cf2cdb2ddf4/meson.options#L200)?\n\nFor example, I added an error entry - like\n\n```\nvoid getValidChassisPath(const std::shared_ptr\u003cbmcweb::AsyncResp\u003e\u0026 asyncResp,\n                          const std::string\u0026 chassisId, Callback\u0026\u0026 callback)\n {\n     BMCWEB_LOG_DEBUG(\"checkChassisId enter\");\n+    BMCWEB_LOG_ERROR(\"TEST: checkChassisId enter\");  //\u003c---\n     ...\n }\n\n```\n\nThen, I would get the logs from `journalctl`, if I do \n```curl -k -X GET https://${bmc}/redfish/v1/Chassis/chassis```\n\nHowever, none of bmcweb log entries (regardless of the logging-level) are seen from journal.",
      "parentUuid": "e9d5df57_8dcf7409",
      "revId": "ee993dc84b1e9917b545fdd7367f1127a358084a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61283575_11482ef4",
        "filename": "config/bmcweb.service.in",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2025-03-17T16:20:08Z",
      "side": 1,
      "message": "The setup seems moved to https://github.com/openbmc/openbmc/commit/0e72d71a67f8d29df926af2a8c249a521ee62680.\n\nI also verified the system has the expected `/usr/lib/systemd/journald.conf.d/journald-maxlevel-policy.conf`.\n\nHowever, I don\u0027t see any info/error log entries from journal.\n\nDo have any additional conf on bmc to make it working?\n\nBTW, it is producing the output (stdout) if bmcweb is running from /tmp/. \n\nThe problem happens when it is running as systemd service - e.g. no bmcweb journal entries.\n\n```\nroot@p10bmc:/# systemctl status bmcweb\n* bmcweb.service - Start bmcwebd server\n     Loaded: loaded (/usr/lib/systemd/system/bmcweb.service; enabled; preset: enabled)\n     Active: active (running) since Mon 2025-03-17 15:17:16 UTC; 1h 0min ago\n Invocation: 0559fff53a5d4bee8b02793156f07af8\nTriggeredBy: * bmcweb.socket\n   Main PID: 303 (bmcwebd)\n        CPU: 294ms\n     CGroup: /system.slice/bmcweb.service\n             `-303 /usr/libexec/bmcwebd\n\nMar 17 15:17:16 p10bmc systemd[1]: Started Start bmcwebd server.\nMar 17 15:57:19 p10bmc bmcwebd[303]: pam_succeed_if(webserver:auth): requirement \"user ingroup redfish\" was met by user \"root\"\nMar 17 16:12:45 p10bmc bmcwebd[303]: pam_succeed_if(webserver:auth): requirement \"user ingroup redfish\" was met by user \"root\"\nMar 17 16:13:50 p10bmc bmcwebd[303]: pam_succeed_if(webserver:auth): requirement \"user ingroup redfish\" was met by user \"root\"\n```",
      "parentUuid": "b938b8f3_adb314bd",
      "revId": "ee993dc84b1e9917b545fdd7367f1127a358084a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}