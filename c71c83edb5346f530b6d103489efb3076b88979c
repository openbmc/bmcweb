{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "282cf106_7ec9b3a0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-04-23T18:11:17Z",
      "side": 1,
      "message": "Based on you working on this, i\u0027m assuming you would prefer this patch over https://gerrit.openbmc.org/c/openbmc/bmcweb/+/70850\n\n?\n\nOr are you thinking we should do both?",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9ce1e12_7fe6b3d5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2024-04-23T18:25:06Z",
      "side": 1,
      "message": "Not necessarily. I just wanted to get this done and see what it looked like. I don\u0027t think both are needed. 70850 might be better - I will leave some more comments on it.",
      "parentUuid": "282cf106_7ec9b3a0",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e012e697_02a356e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-04-23T21:18:01Z",
      "side": 1,
      "message": "ACK.  Let me know what you think we should do.  I\u0027m pretty open to whatever direction, because I\u0027ve merged commits that have broken/fixed this feature 3-4 times now.  Clearly my brain isn\u0027t comprehending this, so the more the merrier.",
      "parentUuid": "e9ce1e12_7fe6b3d5",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53665f85_e1d2d7f6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-04-24T23:32:59Z",
      "side": 1,
      "message": "@Jonathan, @Ed,\n\n70850 has been WIP to make Request as shared_ptr, and this 71006 seems fulfilling it.\nSo, I\u0027m good for this approach.\n\nI think one additional test may need to be done by checking the content of `req` inside `completeRequest()` on PATCH approach as 70850 is showing and proving the issue.  (This part won\u0027t be seen by default).",
      "parentUuid": "e012e697_02a356e5",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "277b22a7_3047c4a1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-04-29T15:37:40Z",
      "side": 1,
      "message": "\u003e @Jonathan, @Ed,\n\u003e \n\u003e 70850 has been WIP to make Request as shared_ptr, and this 71006 seems fulfilling it.\n\u003e So, I\u0027m good for this approach.\n\u003e \n\u003e I think one additional test may need to be done by checking the content of `req` inside `completeRequest()` on PATCH approach as 70850 is showing and proving the issue.  (This part won\u0027t be seen by default).\n\nI think we get that by testing that the HTML json parser works, right?",
      "parentUuid": "53665f85_e1d2d7f6",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f5d040ac_1f894470",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000900
      },
      "writtenOn": "2024-05-01T03:06:16Z",
      "side": 1,
      "message": "\u003e I think one additional test may need to be done by checking the content of req inside completeRequest() on PATCH approach as 70850 is showing and proving the issue. (This part won\u0027t be seen by default).\n\nI\u0027m not sure what you mean by this. An additional unit test? Or a change in the code is needed?\n\nI think what Ed\u0027s getting at (and I agree) is that testing that /redfish/v1 is served as pretty-printed HTML proves that the `req` is still alive in `completeRequest()`.\n\nPlease clarify if you mean something else.",
      "parentUuid": "277b22a7_3047c4a1",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5dff6dd_0134d8e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-05-03T16:05:48Z",
      "side": 1,
      "message": "No response from Myung.",
      "parentUuid": "f5d040ac_1f894470",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58c36731_36dff25a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2024-05-03T16:20:47Z",
      "side": 1,
      "message": "Sorry, I was not available.\nWhat I meant is to access some attributes of `req` inside `completeRequest()` like\n\nhttps://github.com/baemyung/bmcweb/blob/36a59eafed32c0063d444fc0722f899c0024092d/http/http_connection.hpp#L369C1-L372C34\n\n```\n    void completeRequest(crow::Response\u0026 thisRes)\n    {\n        res \u003d std::move(thisRes);\n        res.keepAlive(keepAlive);\n\n       \u003e\u003e BMCWEB_LOG_INFO(\"TEST: req.target\u003d{}\", req.target());\n        \n        completeResponseFields(req, res);\n```\nBut, by this commit (using shared_ptr\u003cRequest\u003e), I think the issue like this would have been solved. (I\u0027ll keep check it out later).\n\nThank you.",
      "parentUuid": "a5dff6dd_0134d8e7",
      "revId": "c71c83edb5346f530b6d103489efb3076b88979c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}