{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "baf6c1c4_47644237",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-07-24T16:45:37Z",
      "side": 1,
      "message": "Please follow https://cbea.ms/git-commit/ and wrap at 72. \n\n    Separate subject from body with a blank line\n    Limit the subject line to 50 characters\n    Capitalize the subject line\n    Do not end the subject line with a period\n    Use the imperative mood in the subject line\n    Wrap the body at 72 characters\n    Use the body to explain what and why vs. how",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "679ca01d_36ce51de",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-07-24T16:45:37Z",
      "side": 1,
      "message": "Why is an absent fan Critical? \nIt should have a State of Absent..",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6347e33c_aebb6512",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-07-23T16:35:06Z",
      "side": 1,
      "message": "I\u0027m not really understanding what the problem is here.\n\nNot all fans support the Functional interface.  Some errors are expected when trying to read that interface for systems that don\u0027t support fan health.\n\nAs written, we would now break those systems by setting the fan to critical if the health was unsupported.\n\n\nThis commit also misses that in the path there\u0027s already a 500 internal error handler, so it needs to comment as to why the client in question is ignoring the error code.  Given that error code, I wouldn\u0027t expect the client to parse any key from the response.",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf373f3f_a157279d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002110
      },
      "writtenOn": "2024-07-23T16:44:16Z",
      "side": 1,
      "message": "The health values in the enum are ok, warning and critical. If the fan is absent, the health value is defaulted to OK which would be incorrect/confusing. That was the original issue. \n\nPerhaps a better fix is to default the health status to critical and update it to OK in the getFanHealth?",
      "parentUuid": "6347e33c_aebb6512",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "246f32a3_cbcfd969",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-07-23T16:48:08Z",
      "side": 1,
      "message": "\u003e The health values in the enum are ok, warning and critical. If the fan is absent, the health value is defaulted to OK which would be incorrect/confusing. That was the original issue. \n\nThat sounds like a problem in your fan backend, if its reporting a fan as functional when it\u0027s absent.  I asked this in the bug you filed, but which system did you test this on?\n\n\u003e \n\u003e Perhaps a better fix is to default the health status to critical and update it to OK in the getFanHealth?\n\nNope, that would break fan backends that don\u0027t support functional.",
      "parentUuid": "cf373f3f_a157279d",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a9baf2f_76f70511",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002110
      },
      "writtenOn": "2024-07-23T17:45:14Z",
      "side": 1,
      "message": "Per the spec, it is indeed reporting the fan as absent, the issue is in the health status, not in the state status.\n\nThe State is being reported as absent in the fan backend.\nThe health, I believe, is sending an error in the dbus call. Since the error in the dbus call does not update the health value, the default value of Ok is what is reported back in this case.",
      "parentUuid": "246f32a3_cbcfd969",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da98b9bb_c87d7d8f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-07-23T20:45:07Z",
      "side": 1,
      "message": "\u003e which system did you test this on?\n\nRepeating my question.  Which system did you test this on?",
      "parentUuid": "4a9baf2f_76f70511",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7313c90_b4cc8db9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-07-24T16:48:28Z",
      "side": 1,
      "message": "To add here.. Going to need more why this is needed.. \"which would be incorrect/confusing\". Why is an absent fan confusing to have an \"Ok\"? You already have the State saying absent.. \nThere is other resources that follow this, Processors, Pcie Slot, etc. Should an empty PCIe Slot also be Critical? \nWe could ask Redfish here.",
      "parentUuid": "da98b9bb_c87d7d8f",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6740fe69_c426c9e9",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 1
      },
      "lineNbr": 242,
      "author": {
        "id": 1002110
      },
      "writtenOn": "2024-07-23T15:45:55Z",
      "side": 1,
      "message": "The health is being defaulted to OK here: https://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/fan.hpp#L228\n\nThis resulted in health being set to OK when there was an error in retrieving the property in this method that is called later on (https://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/fan.hpp#L369)",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd604827_149fa977",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 1
      },
      "lineNbr": 242,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-07-24T16:45:37Z",
      "side": 1,
      "message": "This should for sure be in the if (ec.value() !\u003d EBADR), otherwise if you don\u0027t have this interface, you get a default of Critical..",
      "parentUuid": "6740fe69_c426c9e9",
      "revId": "abcf354e17a99e7da4ea77ed9a4cd7f17bc6d73a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}