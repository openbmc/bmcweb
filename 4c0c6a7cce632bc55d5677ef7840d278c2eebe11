{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "123b4252_014ba06c",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-01T17:24:25Z",
      "side": 1,
      "message": "I think it won\u0027t work ipv6 addresses\n\nit expects host in [] braces for ipv6 addresses\nIf the string is a valid IPv6 address enclosed in square brackets, then the host is set to that address.",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5185e171_b4b5eceb",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-01T17:28:22Z",
      "side": 1,
      "message": "\u003e I think it won\u0027t work ipv6 addresses\n\u003e \n\u003e it expects host in [] braces for ipv6 addresses\n\nIsn\u0027t the host in square brackets at this point?\n\n\u003e If the string is a valid IPv6 address enclosed in square brackets, then the host is set to that address.",
      "parentUuid": "123b4252_014ba06c",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "057ec3b9_30b5f0e0",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-01T17:32:19Z",
      "side": 1,
      "message": "no, while parsing hostname  square brackets gets removed",
      "parentUuid": "5185e171_b4b5eceb",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34594561_69151d87",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-01T20:35:01Z",
      "side": 1,
      "message": "Where are we getting URI paths that don\u0027t have square brackets on them?",
      "parentUuid": "057ec3b9_30b5f0e0",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09b881f3_5be1fd72",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-01T20:47:15Z",
      "side": 1,
      "message": "https://datatracker.ietf.org/doc/html/rfc2732#section-2",
      "parentUuid": "34594561_69151d87",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7c5d5c0_0254e944",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-02T05:23:18Z",
      "side": 1,
      "message": "Need an answer to this first.  How are we getting ipv6 URIs without square brackets?",
      "parentUuid": "09b881f3_5be1fd72",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f75252fd_d9515635",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-02T05:26:27Z",
      "side": 1,
      "message": "while parsing host from Destination URI\nhttps://github.com/openbmc/bmcweb/blob/master/http/utility.hpp#L513",
      "parentUuid": "b7c5d5c0_0254e944",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87689ac4_7d7407b3",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-02T05:30:53Z",
      "side": 1,
      "message": "so a user gave us a bad URL?  ipv6 urls are required to have square brackets?",
      "parentUuid": "f75252fd_d9515635",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57d4eddb_9b0448ce",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-02T05:45:34Z",
      "side": 1,
      "message": "yes, URLs with IPv6 addresses required to have square brackets \nDestination URI looks like this \nexamples: http://[FEDC:BA98:7654:3210:FEDC:BA98:7654:3210]:80/redfish/v1/Events \n         http://9.2.3.4:80/redfish/v1/Events\nit gets parsed FEDC:BA98:7654:3210:FEDC:BA98:7654:3210 value, tries to resolve and  connect to FEDC:BA98:7654:3210:FEDC:BA98:7654:3210:80",
      "parentUuid": "87689ac4_7d7407b3",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "203f4e36_3216e2cd",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-02T15:59:13Z",
      "side": 1,
      "message": "It\u0027s getting parsed on this line it looks like:\nhttps://github.com/openbmc/bmcweb/blob/d518a9beb3c5fb36ea7a6da0d920ff3a4eddabac/http/utility.hpp#L513\n\nSo we need to defer the parsing until later so we can determine the underlying type.:\n\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/65645\n\nPlease stack on top of that patch, and I think you should be able to do what you\u0027re trying to do easily.  It\u0027s a much larger change, but I think the right one.  I can\u0027t really explain why adding a slash in the front works, given that /1234::xxxx::xxxx is not a valid URL.",
      "parentUuid": "57d4eddb_9b0448ce",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd297fc0_f4c94edc",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-02T16:53:36Z",
      "side": 1,
      "message": "I\u0027ve fixed this to what I think it should be.  Reopen if we still need to discuss more.",
      "parentUuid": "203f4e36_3216e2cd",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8842b5aa_124066e1",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-02T17:02:28Z",
      "side": 1,
      "message": "I see compilation error with latest patch \n error: ‘std::string’ has no member named ‘host_type’",
      "parentUuid": "dd297fc0_f4c94edc",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f5a00ee6_2614cd8c",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-02T17:04:44Z",
      "side": 1,
      "message": "host is of std::string, so host_type won\u0027t work with this string.",
      "parentUuid": "8842b5aa_124066e1",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b731d36c_74d22d74",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 568,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-02T17:19:43Z",
      "side": 1,
      "message": "The current patchset seems to compile in CI?  Are you building a different way than CI is?",
      "parentUuid": "f5a00ee6_2614cd8c",
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e164b439_a21f87ed",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 582,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-08-01T20:49:54Z",
      "side": 1,
      "message": "If we just ignore this error, would it solve the problem in a simpler way?\n\nIf that works, just ignore it, but leave a comment as to why.",
      "range": {
        "startLine": 582,
        "startChar": 0,
        "endLine": 582,
        "endChar": 76
      },
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce31fff4_eb2db99c",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 582,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-02T04:13:38Z",
      "side": 1,
      "message": "This call does return error here, its sets the value and client find this invalid SNI hostname during ssl_handshake and handshake fails",
      "parentUuid": "e164b439_a21f87ed",
      "range": {
        "startLine": 582,
        "startChar": 0,
        "endLine": 582,
        "endChar": 76
      },
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54caf28d_df8eb7c7",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 582,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-02T04:23:02Z",
      "side": 1,
      "message": "This call does not return error here, it sets the value and client find this invalid SNI hostname during ssl_handshake and ssl handshake fails",
      "parentUuid": "ce31fff4_eb2db99c",
      "range": {
        "startLine": 582,
        "startChar": 0,
        "endLine": 582,
        "endChar": 76
      },
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "141158cf_121bc683",
        "filename": "http/http_client.hpp",
        "patchSetId": 23
      },
      "lineNbr": 582,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-08-02T04:28:22Z",
      "side": 1,
      "message": "can we do use this code for now? it solves the problem\nstd:string hostname \u003d \"/\" + host;\nboost::urls::url_view view(hostname)\nif (view.host_type() !\u003d boost::urls::host_type::name)\n{\n     // Avoid setting SNI hostname if its IP address\n     return;\n}",
      "parentUuid": "54caf28d_df8eb7c7",
      "range": {
        "startLine": 582,
        "startChar": 0,
        "endLine": 582,
        "endChar": 76
      },
      "revId": "4c0c6a7cce632bc55d5677ef7840d278c2eebe11",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}