{
  "comments": [
    {
      "key": {
        "uuid": "9eae159e_3b791869",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-17T17:52:04Z",
      "side": 1,
      "message": "Just FYI, at some point I\u0027m going to start advocating for using a common variant type to avoid code duplication:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/49657\n\nDoesn\u0027t need fixed in this commit, but just be aware it\u0027s coming.",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 31
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a99969e8_1bf60f66",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 80,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-01T16:48:27Z",
      "side": 1,
      "message": "This should go in time utils, not in trigger.hpp  Please also write some unit tests for it.",
      "range": {
        "startLine": 80,
        "startChar": 34,
        "endLine": 80,
        "endChar": 57
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ce564b5_1ef723a7",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 80,
      "author": {
        "id": 1001148
      },
      "writtenOn": "2021-12-09T13:53:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a99969e8_1bf60f66",
      "range": {
        "startLine": 80,
        "startChar": 34,
        "endLine": 80,
        "endChar": 57
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1aeac51_56499983",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-01T16:48:27Z",
      "side": 1,
      "message": "Please prefer a pattern of returning early instead of adding extra branches.  something like\n\nif maxTimeMs \u003e\u003d timeMs){\n   return nullopt;\n}\nreturn time_utils::toDurationString(std::chrono::milliseconds(timeMs));",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 87,
        "endChar": 5
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "587d59cb_aed843fc",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1001148
      },
      "writtenOn": "2021-12-09T13:53:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b1aeac51_56499983",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 87,
        "endChar": 5
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69ed4c5c_db8e2fe7",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 196,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-01T16:48:27Z",
      "side": 1,
      "message": "Last I understood, this still compiled much larger than doing a simple loop.  Do we understand why yet?  This isn\u0027t a pattern I want to propogate if it causes large binary sizes.\n\nAlso, from a maintenance standpoint, it doesn\u0027t have the ability to support optional parameters on an interface, nor multiple interfaces, nor type conversion at the callsite, so I worry a little bit about its usefulness as written as interfaces adjust over time.  If this is a pattern you\u0027d like to see, lets move over one of the previously written (ideally a non-trivial) handlers to it first to determine its utility and impact on binary size.  Using new patterns on new code is difficult to maintain, as it can cause maintenance issues where it isn\u0027t clear if our design pattern is incorrect, or this specific handler is incorrect.  Also, I worry a little bit about having two patterns for this;  Is this a pattern you\u0027re willing to propagate through the codebase?",
      "range": {
        "startLine": 196,
        "startChar": 56,
        "endLine": 196,
        "endChar": 79
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09072966_0a4cb149",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 196,
      "author": {
        "id": 1001148
      },
      "writtenOn": "2021-12-09T13:53:51Z",
      "side": 1,
      "message": "Due to your doubts regarding usage of \u0027unpackPropertiesNoThrow\u0027 I decided to use accepted and common in bmcweb approach for extracting properties. And so I am closing this one as done, but please let us raise the subject of including \u0027unpackPropertiesNoThrow\u0027 into bmcweb later on in a separate discussion.",
      "parentUuid": "69ed4c5c_db8e2fe7",
      "range": {
        "startLine": 196,
        "startChar": 56,
        "endLine": 196,
        "endChar": 79
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "266cf8c5_381e4692",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 196,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-17T17:49:32Z",
      "side": 1,
      "message": "Great, sounds good to me.",
      "parentUuid": "09072966_0a4cb149",
      "range": {
        "startLine": 196,
        "startChar": 56,
        "endLine": 196,
        "endChar": 79
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85fbd35d_912de3ef",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 226,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-01T16:48:27Z",
      "side": 1,
      "message": "This looks wrong to me.  from the redfish spec\"This type shall specify the condition, in relationship to the discrete trigger values, which constitutes a trigger.\"\n\nWhether or not the discrete triggers list is empty doesn\u0027t really determine that, does it?  Am I missing something?",
      "range": {
        "startLine": 226,
        "startChar": 0,
        "endLine": 226,
        "endChar": 64
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f6a9842_d248f8e8",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 226,
      "author": {
        "id": 1001148
      },
      "writtenOn": "2021-12-09T13:53:51Z",
      "side": 1,
      "message": "As stated in DMTF (https://redfish.dmtf.org/schemas/v1/Triggers.v1_2_0.json) the DiscreteTriggers shall be present when DiscreteTriggerCondition is \u0027Specified\u0027, when DiscreteTriggers is empty then we assume that DiscreteTriggerCondition represents \u0027Changed\u0027.\n\nThis behavior is reflected just like this in Telemetry Service - in there if at least one discrete threshold is defined for the Trigger then appropriate actions are executed exactly when value from related metric meets given threshold condition (\u0027Specified\u0027 state), on the other hand when no discrete thresholds are defined for the Trigger appropriate actions are executed every time when value from related metric is changed (\u0027Changed\u0027 state).\n\nTherefore at this point checking discreteTriggers against being empty is sufficient to deduce state of DiscreteTriggerCondition.",
      "parentUuid": "85fbd35d_912de3ef",
      "range": {
        "startLine": 226,
        "startChar": 0,
        "endLine": 226,
        "endChar": 64
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d36f1afc_7471eda0",
        "filename": "redfish-core/lib/trigger.hpp",
        "patchSetId": 8
      },
      "lineNbr": 226,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-17T17:49:32Z",
      "side": 1,
      "message": "ACK.  Explanation seems reasonable,",
      "parentUuid": "7f6a9842_d248f8e8",
      "range": {
        "startLine": 226,
        "startChar": 0,
        "endLine": 226,
        "endChar": 64
      },
      "revId": "f6bf2403670fd25ba41125cea5e0edae5ebd5c5a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}