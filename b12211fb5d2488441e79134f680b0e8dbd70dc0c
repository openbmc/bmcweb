{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f1e52fe4_4a7e6e0b",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-15T17:15:29Z",
      "side": 1,
      "message": "Why is this path hardcoded?  It should be coming from dbus.",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7e122d3_db1cdfb6",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-05-17T16:45:54Z",
      "side": 1,
      "message": "See https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61957/comment/8ba2f324_4eed3aa6/\n\nPhosphor-debug-collector does not yet expose that path on dbus so this is the only way to know the folder location.  It can be replaced with a dbus lookup once support for that is added to phosphor-debug-collector.",
      "parentUuid": "f1e52fe4_4a7e6e0b",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48bda2c6_dcd01dce",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-19T16:06:15Z",
      "side": 1,
      "message": "\u003e It can be replaced with a dbus lookup once support for that is added to phosphor-debug-collector.\n\nThis is going to be required before the patchset can be merged.  In parallel, there\u0027s discussions going on about moving bmcweb to non-root, for which this would immediately break.\n\nEspecially considering there\u0027s patchsets in review to do this already the expected way, I don\u0027t think it makes sense to merge this as-written.",
      "parentUuid": "c7e122d3_db1cdfb6",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "965be82c_3e942936",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-06-03T00:58:18Z",
      "side": 1,
      "message": "\u003e This is going to be required before the patchset can be merged. \n\nACK\n\n\u003e In parallel, there\u0027s discussions going on about moving bmcweb to non-root, for which this would immediately break.\n\n\u003e Especially considering there\u0027s patchsets in review to do this already the expected way, ...\n\nIf you mean https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/49466 then that\u0027s planning to expose a filepath.  We\u0027d still have to open that file so wouldn\u0027t that also get broken by moving bmcweb to non-root?\n\nIf so then is the answer to retrieve a file descriptor from dbus like we do with https://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/log_services.hpp#L1960-L1982?",
      "parentUuid": "48bda2c6_dcd01dce",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a03e3d99_ad9d26dc",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-05T16:54:18Z",
      "side": 1,
      "message": "\u003e \u003e This is going to be required before the patchset can be merged. \n\u003e \n\u003e ACK\n\u003e \n\u003e \u003e In parallel, there\u0027s discussions going on about moving bmcweb to non-root, for which this would immediately break.\n\u003e \n\u003e \u003e Especially considering there\u0027s patchsets in review to do this already the expected way, ...\n\u003e \n\u003e If you mean https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/49466 then that\u0027s planning to expose a filepath.  We\u0027d still have to open that file so wouldn\u0027t that also get broken by moving bmcweb to non-root?\n\nI thought the latest state of the art was to pass a file descriptor, although I haven\u0027t really tracked the above discussion.\n\n\u003e \n\u003e If so then is the answer to retrieve a file descriptor from dbus like we do with https://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/log_services.hpp#L1960-L1982?\n\nYeah, exactly.",
      "parentUuid": "965be82c_3e942936",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b88076e5_9a176a46",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-06-05T18:41:14Z",
      "side": 1,
      "message": "So does my patch need to be compatible with the current approach of passing a filepath or does https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/49466 need to be pushed to instead expose a file descriptor before it gets merged?",
      "parentUuid": "a03e3d99_ad9d26dc",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2aea3f7c_ac86d985",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-05T18:56:57Z",
      "side": 1,
      "message": "I would prefer it to use the latest interface, rather than checking in code that we know needs to almost immediately change.  If that doesn\u0027t work, let me know, and we can probably work out a different staging plan.",
      "parentUuid": "b88076e5_9a176a46",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23a4fd43_eb5b248a",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-06-14T16:51:39Z",
      "side": 1,
      "message": "https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/49466 is being change to expose the file handle instead of a filepath.  I\u0027m going to switch this patch to WIP until it\u0027s been updated to remove the use of a hardcoded filepath",
      "parentUuid": "2aea3f7c_ac86d985",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2daffcb_16fb1f04",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-08-24T19:17:37Z",
      "side": 1,
      "message": "That patch went in and I have removed the hardcoding",
      "parentUuid": "23a4fd43_eb5b248a",
      "range": {
        "startLine": 701,
        "startChar": 0,
        "endLine": 703,
        "endChar": 46
      },
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3980cf73_3f7233a5",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 765,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-05-02T09:25:41Z",
      "side": 1,
      "message": "use std::ifstream ?",
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dafad2df_2815b208",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 765,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-05-09T22:46:21Z",
      "side": 1,
      "message": "Doing it this way keeps it consistent with the file I/O from elsewhere in this file such as within requestRoutesDBusEventLogEntryDownload().",
      "parentUuid": "3980cf73_3f7233a5",
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90037416_63c6d00f",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 788,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2023-05-02T09:25:41Z",
      "side": 1,
      "message": "return?",
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc00a8e2_25344c9e",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 7
      },
      "lineNbr": 788,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-05-09T22:46:21Z",
      "side": 1,
      "message": "You\u0027re right, I\u0027ve added it.",
      "parentUuid": "90037416_63c6d00f",
      "revId": "b12211fb5d2488441e79134f680b0e8dbd70dc0c",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}