{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e99040b7_f431817b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-02-09T17:24:09Z",
      "side": 1,
      "message": "This is not what the code you wrote is doing.  The parameter you used determines whether a UI is installed, not whether or not it is being used at the moment.",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 17,
        "endChar": 50
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b82eb5fe_d54c7017",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1001682
      },
      "writtenOn": "2023-03-01T10:42:33Z",
      "side": 1,
      "message": "Updated the commit message.",
      "parentUuid": "e99040b7_f431817b",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 17,
        "endChar": 50
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9785846b_1124a87a",
        "filename": "include/forward_unauthorized.hpp",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-02-09T17:22:49Z",
      "side": 1,
      "message": "This will cause us to fail redfish as well.  Please take a look at section 8.1 of the redfish specification.\n\nhasWebuiRoute just determines if the webui is installed, not whether or not this is the webui accessing the page.",
      "range": {
        "startLine": 53,
        "startChar": 9,
        "endLine": 53,
        "endChar": 22
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fe34058_93c6666f",
        "filename": "include/forward_unauthorized.hpp",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1001682
      },
      "writtenOn": "2023-03-01T10:34:22Z",
      "side": 1,
      "message": "As per my further analysis, I have found that we are not allowing any Redfish API calls in the browser when the WebUI is not installed.\n\nIf WebUI is installed, we can redirect to the login page for basic authentication. So there is no need to add www-authenticate in the header and we can avoid the authentication pop-up when disconnecting the session.\n\nI hope the current patch is handling the above behavior.",
      "parentUuid": "9785846b_1124a87a",
      "range": {
        "startLine": 53,
        "startChar": 9,
        "endLine": 53,
        "endChar": 22
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a7fe79e_a81e1451",
        "filename": "include/forward_unauthorized.hpp",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-03-01T23:43:06Z",
      "side": 1,
      "message": "Your analysis doesn\u0027t track for me, because it\u0027s still removing the www-authenticate header from redfish.  When you reply next, please quote how you believe we\u0027re following section 8.1, because I\u0027m not understanding it.",
      "parentUuid": "5fe34058_93c6666f",
      "range": {
        "startLine": 53,
        "startChar": 9,
        "endLine": 53,
        "endChar": 22
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "490c32b7_2199470c",
        "filename": "include/forward_unauthorized.hpp",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-03-01T23:43:42Z",
      "side": 1,
      "message": "\u003e If WebUI is installed, we can redirect to the login page for basic authentication.\n\nNot all Redfish clients are browsers or support Redirect.",
      "parentUuid": "5a7fe79e_a81e1451",
      "range": {
        "startLine": 53,
        "startChar": 9,
        "endLine": 53,
        "endChar": 22
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "951271c8_3ba6eb3d",
        "filename": "include/forward_unauthorized.hpp",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1001682
      },
      "writtenOn": "2023-03-24T12:42:44Z",
      "side": 1,
      "message": "@Dhineshkumar Rajendran please provide further update.",
      "parentUuid": "490c32b7_2199470c",
      "range": {
        "startLine": 53,
        "startChar": 9,
        "endLine": 53,
        "endChar": 22
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff687e59_a2d0ba1e",
        "filename": "include/forward_unauthorized.hpp",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1001686
      },
      "writtenOn": "2023-03-27T13:49:50Z",
      "side": 1,
      "message": "Hi ed,\n\nWe are not trying to remove the \"www-authenticate\" header from redfish.\n\nSo I have updated the patchset to check the \"User-Agent\" and the \"Accept\" value from the API\u0027s request header. If an unauthorized request is made from the browser and the Accept header value contains JSON, then that unauthorized request will be set with a 401 status instead of adding the \"www-authenticate\" header. So the browser won\u0027t populate the authentication window, and Web UI will navigate to the login page since the API responded with a 401 status.\n\nThe reason I have used the Accept header value to validate is that if we call the redfish URL directly from the browser, the Accept header value will be HTML, while API calls from a web UI application will have the JSON value in the \"Accept\" header. And used the \"User-Agent\" header to confirm that request made from the browser. With these two, I am confident that an unauthorized request is sent from the web UI application.",
      "parentUuid": "951271c8_3ba6eb3d",
      "range": {
        "startLine": 53,
        "startChar": 9,
        "endLine": 53,
        "endChar": 22
      },
      "revId": "9479cf27ec25f56709f79825303f023ad18f22a9",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}