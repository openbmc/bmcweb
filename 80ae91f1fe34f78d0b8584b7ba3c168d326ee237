{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "22be48dd_4826dcbc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-24T16:20:13Z",
      "side": 1,
      "message": "It was incorrect as written.  the snmp backend owns the subscription, not bmcweb.",
      "range": {
        "startLine": 46,
        "startChar": 40,
        "endLine": 46,
        "endChar": 70
      },
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "297faf89_bf6199c5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2025-06-25T15:39:11Z",
      "side": 1,
      "message": "I\u0027ve reworked this as you suggested. I\u0027ve added the above to the commit message for historical clarity.",
      "parentUuid": "22be48dd_4826dcbc",
      "range": {
        "startLine": 46,
        "startChar": 40,
        "endLine": 46,
        "endChar": 70
      },
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e54e493_e94118ba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2025-06-16T17:16:37Z",
      "side": 1,
      "message": "It looks good to me",
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72a32496_7e1ca44e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2025-06-18T17:29:03Z",
      "side": 1,
      "message": "This is adding back https://gerrit.openbmc.org/c/openbmc/bmcweb/+/65720/24/redfish-core/include/snmp_trap_event_clients.hpp, it isn\u0027t clear to me why it was removed ?",
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "564ed59d_679d6993",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2025-06-18T20:13:30Z",
      "side": 1,
      "message": "It is not clear to me either why it was removed.\n\nOn the create path for the SNMPv2c subscriptions the UserSubscription is not created. This was not changed as part of the commit which removed the Context for the get path. https://github.com/openbmc/bmcweb/blob/c9bd09240cfa156ca348848ad6402b1d390bbfa1/redfish-core/lib/event_service.hpp#L490\n\n(For non-SNMPv2c subscriptions the UserSubscription is created here https://github.com/openbmc/bmcweb/blob/c9bd09240cfa156ca348848ad6402b1d390bbfa1/redfish-core/lib/event_service.hpp#L495, and inserted here https://github.com/openbmc/bmcweb/blob/c9bd09240cfa156ca348848ad6402b1d390bbfa1/redfish-core/lib/event_service.hpp#L730)\n\nBut as I noted in the commit message the delete path still tries to delete the UserSubscription. So for consistency between get and delete paths I added back the lookup for the matching UserSubscription.",
      "parentUuid": "72a32496_7e1ca44e",
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62199730_23ef5f3e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-24T16:19:15Z",
      "side": 1,
      "message": "This is trying to get EventManager to own SNMP subscriptions in a way that doesn\u0027t really handle the create/destroy process correctly.",
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6124040a_a2504c16",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2025-06-25T15:39:11Z",
      "side": 1,
      "message": "Ed commented on the reason it was removed. I\u0027ve added the information to commit message and a comment for historical clarity.",
      "parentUuid": "564ed59d_679d6993",
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e97d9c95_c6bce8a8",
        "filename": "redfish-core/include/snmp_trap_event_clients.hpp",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-24T16:19:15Z",
      "side": 1,
      "message": "The SNMP paths should never be calling EventManager.  EventManager doesn\u0027t own the subscription, the SNMP backend does.",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 82,
        "endChar": 63
      },
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aaa0c006_79113a0d",
        "filename": "redfish-core/include/snmp_trap_event_clients.hpp",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2025-06-25T15:39:11Z",
      "side": 1,
      "message": "Thank you for this explanation. I\u0027ve reworked the code and added explanation of SNMP backend owning the subscription to the commit message for historical clarity.",
      "parentUuid": "e97d9c95_c6bce8a8",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 82,
        "endChar": 63
      },
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "318bab2b_59f7a575",
        "filename": "redfish-core/include/snmp_trap_event_clients.hpp",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-06-24T16:21:03Z",
      "side": 1,
      "message": "I suspect what you need to do is to just set the Context to empty string (no conditional) for now, until the snmp backend supports a context string.",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 91,
        "endChar": 49
      },
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de9d2eb9_9a696531",
        "filename": "redfish-core/include/snmp_trap_event_clients.hpp",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 1001621
      },
      "writtenOn": "2025-06-25T15:39:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "318bab2b_59f7a575",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 91,
        "endChar": 49
      },
      "revId": "80ae91f1fe34f78d0b8584b7ba3c168d326ee237",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}