{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "111b1bdc_632a85c3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-27T05:55:08Z",
      "side": 1,
      "message": "Pretty sure this is not the droids you\u0027re looking for.",
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0bc8c1bf_2bade526",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000500
      },
      "writtenOn": "2022-03-29T01:10:55Z",
      "side": 1,
      "message": "Added a return statement upon seeing an empty messageID, because messageID is not nullable (while message and severity are nullable).",
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "387ef820_1c01e30e",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1126,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-27T06:00:30Z",
      "side": 1,
      "message": "This is the bug.  This should be returning if message isn\u0027t filled in, not continuing.",
      "range": {
        "startLine": 1122,
        "startChar": 0,
        "endLine": 1126,
        "endChar": 5
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cd75868_db0e3dfd",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1126,
      "author": {
        "id": 1000500
      },
      "writtenOn": "2022-03-29T01:10:55Z",
      "side": 1,
      "message": "I guess we should return when messageID is empty, and omit Message and Severity if they are empty? Otherwise the user doesn\u0027t get to see log entries like \"OpenBMC.1.0.ServiceStarted\".",
      "parentUuid": "387ef820_1c01e30e",
      "range": {
        "startLine": 1122,
        "startChar": 0,
        "endLine": 1126,
        "endChar": 5
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b79c35e_29c6d78c",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1126,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-29T15:49:52Z",
      "side": 1,
      "message": "\u003e I guess we should return when messageID is empty, and omit Message and Severity if they are empty?\n\nif the message pointer is filled in here, we are guaranteed to have a non empty message and severity (because of the way registries work).\n\n\u003e Otherwise the user doesn\u0027t get to see log entries like \"OpenBMC.1.0.ServiceStarted\".\n\n\nYep, and that message not being in the message registry is a bug.  OpenBMC.1.0.ServiceStarted doesn\u0027t exist.\n\nIt should exist in this table if it were legal:\nhttps://github.com/openbmc/bmcweb/blob/master/redfish-core/include/registries/openbmc_message_registry.hpp\n\nLets get this check fixed, and then we can start to triage how many bad messages we have.",
      "parentUuid": "3cd75868_db0e3dfd",
      "range": {
        "startLine": 1122,
        "startChar": 0,
        "endLine": 1126,
        "endChar": 5
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9133d0dd_6e20292e",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1126,
      "author": {
        "id": 1000500
      },
      "writtenOn": "2022-04-04T17:44:28Z",
      "side": 1,
      "message": "Added a unit test for \"getMessageFromRegistry\" and \"getMessage\" (in a follow-up change), it seems these two functions are working correctly. So in this case the code will continue when `message` is nullptr such that the program fills whatever is in /var/log/redfish into the response.\n\nI think for the ServiceStarted services to be properly populated, a rule also needs to be added to rsyslogd.conf so that the unit name can be picked up by the registry template, maybe like this: https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/52591",
      "parentUuid": "2b79c35e_29c6d78c",
      "range": {
        "startLine": 1122,
        "startChar": 0,
        "endLine": 1126,
        "endChar": 5
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "169e630f_ad41765b",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1193,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-27T05:55:08Z",
      "side": 1,
      "message": "If we get to this code, none of these should be empty;  If they are, it means something in the code has failed (probably someone logging a message that isn\u0027t in the registry).",
      "range": {
        "startLine": 1177,
        "startChar": 0,
        "endLine": 1193,
        "endChar": 0
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "deda41e7_35fc63c1",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1193,
      "author": {
        "id": 1000500
      },
      "writtenOn": "2022-03-29T01:10:55Z",
      "side": 1,
      "message": "It appears that Message and Severity could be empty strings? I think we need to return if the non-nullable MessageId is empty.",
      "parentUuid": "169e630f_ad41765b",
      "range": {
        "startLine": 1177,
        "startChar": 0,
        "endLine": 1193,
        "endChar": 0
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7bada43_960fa039",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1193,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-29T15:49:52Z",
      "side": 1,
      "message": "Not nullable means \"can\u0027t be equal to null\" it does not note whether or not the property is required.  With that said, in this context, because we\u0027re producing a LogService that\u0027s backed by a message registry, they are required.",
      "parentUuid": "deda41e7_35fc63c1",
      "range": {
        "startLine": 1177,
        "startChar": 0,
        "endLine": 1193,
        "endChar": 0
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "19f562a9_3cc5b548",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 1
      },
      "lineNbr": 1193,
      "author": {
        "id": 1000500
      },
      "writtenOn": "2022-04-04T17:44:28Z",
      "side": 1,
      "message": "This document (https://www.dmtf.org/sites/default/files/standards/documents/DSP2055_1.0.0.pdf) says:\n\nNullable is ..\n- If false, the property is required.\n- If true or this qualifier is omitted, the property is optional.\n\nHowever yes it does seem all entries in the registry have a message field, so it seems we can say that if the entry is found in the registry, `message` must not be empty.",
      "parentUuid": "e7bada43_960fa039",
      "range": {
        "startLine": 1177,
        "startChar": 0,
        "endLine": 1193,
        "endChar": 0
      },
      "revId": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}