{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "adc758f5_76fb7742",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T21:04:04Z",
      "side": 1,
      "message": "not really sure where this conclusion came from, but (at least to my understanding) it\u0027s not correct.  MinValue and MaxValue are required for IPMI to build SDRs, so they\u0027re arguably implemented by every sensor.\n\nThresholds I agree, are optional, and probably 50/50 for whether or not they\u0027re defined.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 58
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2d15dd9_f1b0153f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-17T22:01:45Z",
      "side": 1,
      "message": "\u003e MinValue and MaxValue are required for IPMI to build SDRs, so they\u0027re arguably implemented by every sensor.\n\nThis arguable but not true. ;)\n\n1) I know for certain phosphor-virtual-sensor _only_ emits a {Min,Max}Value if one is explicitly enabled in the config, which is not required and many do not.\n\n2) PLDM doesn\u0027t implement these in some cases.  https://github.com/openbmc/pldm/blob/0b06dd891c42103a4555a0376e7a47b604f01ca9/platform-mc/numeric_sensor.cpp#L482\n\n3) Not everyone uses IPMI so there is no certainty that anyone is testing even the IPMI side of it.",
      "parentUuid": "adc758f5_76fb7742",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 58
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a39ce5e0_d59195b2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T22:22:50Z",
      "side": 1,
      "message": "\u003e \u003e MinValue and MaxValue are required for IPMI to build SDRs, so they\u0027re arguably implemented by every sensor.\n\u003e \n\u003e This arguable but not true. ;)\n\u003e \n\u003e 1) I know for certain phosphor-virtual-sensor _only_ emits a {Min,Max}Value if one is explicitly enabled in the config, which is not required and many do not.\n\nI said they were implemented, which we agree on.  Maybe it requires something defined in a config, but it does have an implementation.\n\n\u003e \n\u003e 2) PLDM doesn\u0027t implement these in some cases.  https://github.com/openbmc/pldm/blob/0b06dd891c42103a4555a0376e7a47b604f01ca9/platform-mc/numeric_sensor.cpp#L482\n\nBut it still implements them.\n\n\u003e \n\u003e 3) Not everyone uses IPMI so there is no certainty that anyone is testing even the IPMI side of it.\n\nFair.  FWIW, I read the commit message first before I saw the code content.  Commit message seems pretty reasonable, and I\u0027m not here to be a stickler for commit messages, so closing this out.",
      "parentUuid": "e2d15dd9_f1b0153f",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 58
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95230d59_e6a4fb06",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-17T22:27:40Z",
      "side": 1,
      "message": "\u003e so closing this out.\n\nüëç\n\n```\n2) PLDM doesn\u0027t implement these in some cases. https://github.com/openbmc/pldm/blob/0b06dd891c42103a4555a0376e7a47b604f01ca9/platform-mc/numeric_sensor.cpp#L482\n\nBut it still implements them.\n```\n\nFor some reason there are two different constructors in PLDM.  One of them doesn\u0027t implement (the one I linked to).  It just sets the value to NaN.",
      "parentUuid": "a39ce5e0_d59195b2",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 58
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50e0bbbb_c8b3950b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-12-17T22:01:45Z",
      "side": 1,
      "message": "I think they\u0027re often set to NaN and not Inf?",
      "range": {
        "startLine": 10,
        "startChar": 36,
        "endLine": 10,
        "endChar": 44
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44fafd88_0438be2d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2026-01-15T22:30:38Z",
      "side": 1,
      "message": "Not in my experience. I did not see NaN.",
      "parentUuid": "50e0bbbb_c8b3950b",
      "range": {
        "startLine": 10,
        "startChar": 36,
        "endLine": 10,
        "endChar": 44
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95fb50d7_25fda0ba",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T21:04:04Z",
      "side": 1,
      "message": "This isn\u0027t really correct.  null in redfish means \"supported but not yet populated\".  Non existence for threshold on dbus has classically meant not supported.  we need to grok that distinction, and ideally in this commit message back it up with spec language.",
      "range": {
        "startLine": 12,
        "startChar": 24,
        "endLine": 13,
        "endChar": 56
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34b634c8_1691463e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2026-01-15T22:30:38Z",
      "side": 1,
      "message": "Fixed the language to indicate that its not-populated.",
      "parentUuid": "95fb50d7_25fda0ba",
      "range": {
        "startLine": 12,
        "startChar": 24,
        "endLine": 13,
        "endChar": 56
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "700f5055_9e15f106",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T22:22:50Z",
      "side": 1,
      "message": "Redfish service validator?",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b583333_e3140742",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2025-12-17T19:18:13Z",
      "side": 1,
      "message": "Redfish validator should be happy with this but always best to run it \n\nhttps://redfish.dmtf.org/schemas/v1/Sensor.v1_11_1.json\n\n        \"Threshold\": {\n            \"additionalProperties\": false,\n            \"description\": \"The threshold definition for a sensor.\",\n            \"longDescription\": \"This type shall contain the properties for an individual threshold for this sensor.\",\n            \"patternProperties\": {\n                \"^([a-zA-Z_][a-zA-Z0-9_]*)?@(odata|Redfish|Message)\\\\.[a-zA-Z_][a-zA-Z0-9_]*$\": {\n                    \"description\": \"This property shall specify a valid odata or Redfish property.\",\n                    \"type\": [\n                        \"array\",\n                        \"boolean\",\n                        \"integer\",\n                        \"number\",\n                        \"null\",\n                        \"object\",\n                        \"string\"\n                    ]\n                }\n            },\n            \"properties\": {\n\n             ...\n\n                \"Reading\": {\n                    \"description\": \"The threshold value.\",\n                    \"longDescription\": \"This property shall indicate the reading for this sensor that activates the threshold.  The value of the property shall use the same units as the `Reading` property.\",\n                    \"readonly\": false,\n                    \"type\": [\n                        \"number\",\n                        \"null\"\n                    ]",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2e351772_e22036a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2025-12-17T19:18:13Z",
      "side": 1,
      "message": "Overall I am good",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7926d67b_748eb8c6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T21:04:04Z",
      "side": 1,
      "message": "Overall, there\u0027s more issues with the commit message more than the actual diff, which really shouldn\u0027t hold things up.\n\nLets just be consistent, which should simplify the code, and then this should be good to go.",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3200416d_6c5a8246",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 753,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T22:22:50Z",
      "side": 1,
      "message": "7 year old TODO here üòä",
      "range": {
        "startLine": 753,
        "startChar": 0,
        "endLine": 753,
        "endChar": 71
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32b90acf_b10547bd",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 808,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T21:05:34Z",
      "side": 1,
      "message": "Don\u0027t statically allocate maps at runtime.  They consume memory in inconsistent ways.\n\nIf this is staying, just declare as an array of string_view, and use std::find_if.\n\nAlso, if we end up keeping, please sort lists like this.  The order here is semi-random.",
      "range": {
        "startLine": 808,
        "startChar": 16,
        "endLine": 808,
        "endChar": 22
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f23920f2_789635eb",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 808,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2026-01-15T22:30:38Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "32b90acf_b10547bd",
      "range": {
        "startLine": 808,
        "startChar": 16,
        "endLine": 808,
        "endChar": 22
      },
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea8ec550_88a2936f",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 818,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T21:04:04Z",
      "side": 1,
      "message": "Is there any reason we limit this list?  This was limited to Value initially because that was where unavailable was, but in theory we could just make this not a per-value branch?",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b55a945_476f4294",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 818,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2026-01-15T19:23:23Z",
      "side": 1,
      "message": "Yeah. No reason. I will remove this entire abomination and just set it to nullptr.",
      "parentUuid": "ea8ec550_88a2936f",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "832e8602_bcec039a",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 818,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2026-01-15T22:30:38Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "0b55a945_476f4294",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ebbe2df_30314989",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 825,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2025-12-16T23:33:42Z",
      "side": 1,
      "message": "Alternatively, if we want to stick to the old output we could do a\n```\nif (!allowedNAN.contains(valueName)) {\n    BMCWEB_LOG_WARNING(\"Sensor value for {} was unexpectedly {}\", ...);\n}\n```\n\n@ed@tanous.net what do you think?",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c53f48dc_cab87b3e",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 825,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2025-12-17T18:58:11Z",
      "side": 1,
      "message": "I don\u0027t understand.. Isn\u0027t this exactly what the code is doing? \n\nIsn\u0027t \n\n\n                if (allowedNAN.contains(valueName))\n                {\n                    // Readings are allowed to be NAN for unavailable;  coerce\n                    // them to null in the json response.\n                    sensorJson[key] \u003d nullptr;\n                    continue;\n                }\n                if (!allowedNAN.contains(valueName)) {\n                    BMCWEB_LOG_WARNING(\"Sensor value for {} was unexpectedly {}\", ...);\n                }\n\n\nthe same as the code now ?\n\n                if (allowedNAN.contains(valueName))\n                {\n                    // Readings are allowed to be NAN for unavailable;  coerce\n                    // them to null in the json response.\n                    sensorJson[key] \u003d nullptr;\n                    continue;\n                }\n                BMCWEB_LOG_WARNING(\"Sensor value for {} was unexpectedly {}\", ...);",
      "parentUuid": "1ebbe2df_30314989",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "daaabe9d_e9cbef59",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 825,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-12-17T21:04:04Z",
      "side": 1,
      "message": "I\u0027d much rather we keep this flow simple, and have the same behavior for each one.  If they\u0027re present but non finite, we populate with null.",
      "parentUuid": "c53f48dc_cab87b3e",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ad67676_474b109d",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 825,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2026-01-15T19:23:23Z",
      "side": 1,
      "message": "ok. I can do that. Agreed its a lot simpler and less ugly.",
      "parentUuid": "daaabe9d_e9cbef59",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6797ab60_56c4f0b8",
        "filename": "redfish-core/include/utils/sensor_utils.hpp",
        "patchSetId": 3
      },
      "lineNbr": 825,
      "author": {
        "id": 1000212
      },
      "writtenOn": "2026-01-15T22:30:38Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "7ad67676_474b109d",
      "revId": "1ae08afe18bafc702371a0b7ddbfcf8286d05b90",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}