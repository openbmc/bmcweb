{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d11be340_1694f83a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 27
      },
      "lineNbr": 0,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2023-07-11T17:11:16Z",
      "side": 1,
      "message": "Seems correct to me.",
      "revId": "f1981daaf3e74dd28db41dce5e8a9eb86f58dd6f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "55595534_10cc1b2d",
        "filename": "include/user_role_map.hpp",
        "patchSetId": 27
      },
      "lineNbr": 230,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2023-07-11T17:11:16Z",
      "side": 1,
      "message": "I suggest test cases:\n\nSeveral test cases have the same setup:\nSetup: Create user X (userx) and create a session for user X (sessionX)\n1. Delete userx, use sessionX, and expect failure.\n2. Change userx\u0027s role to lower privilege, use sessionX for operation that requires higher privilege, and expect failure.\n3. Change userx\u0027s role to higher privilege, use sessionX for operation that requires higher privilege, and expect success.\n4. Delete userx, then recreate user X (same role), use sessionX, and expect success(?).\n\nTest case 5: Expired password: Create userx and expire the password (for example, via command `passwd --expire userx`), then create a session for user X.  Then perform these two variations:\n1. Ensure that session: has the PasswordChangeRequired message, and cannot do anything more than change its own password and log out, and /redfish/v1/AccountService/Accounts/userx has the PasswordChangeRequired property.\n2. Use that session to change the userx password and then ensure that session: does NOT have the PasswordChangeRequired property (or it is false), and does not have the PasswordChangeRequired message, and can perform operations consistent with its role.  [See related https://github.com/openbmc/phosphor-user-manager/issues/9.]",
      "revId": "f1981daaf3e74dd28db41dce5e8a9eb86f58dd6f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65108bf6_9c521939",
        "filename": "include/user_role_map.hpp",
        "patchSetId": 27
      },
      "lineNbr": 230,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-12T18:36:10Z",
      "side": 1,
      "message": "Those all sound great.  Are they something you can run through, provide a script for, or coordinate getting run?",
      "parentUuid": "55595534_10cc1b2d",
      "revId": "f1981daaf3e74dd28db41dce5e8a9eb86f58dd6f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcc6a92a_b27ca9d0",
        "filename": "include/user_role_map.hpp",
        "patchSetId": 27
      },
      "lineNbr": 230,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2023-07-12T21:37:21Z",
      "side": 1,
      "message": "I\u0027ve asked my test team to test this.  I think some of the tests are already in https://github.com/openbmc/openbmc-test-automation and I\u0027ll ask for a regression and new tests.\nI don\u0027t know if merging this should wait for the testing results (maintainer\u0027s choice).",
      "parentUuid": "65108bf6_9c521939",
      "revId": "f1981daaf3e74dd28db41dce5e8a9eb86f58dd6f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54fef460_5c2953f9",
        "filename": "include/user_role_map.hpp",
        "patchSetId": 27
      },
      "lineNbr": 230,
      "author": {
        "id": 1000053
      },
      "writtenOn": "2023-07-14T02:15:38Z",
      "side": 1,
      "message": "4. Delete userx, then recreate user X (same role), use sessionX, and expect success(?). It should fail if we allow it is like allowing the access to newly created user without any credentials",
      "parentUuid": "bcc6a92a_b27ca9d0",
      "revId": "f1981daaf3e74dd28db41dce5e8a9eb86f58dd6f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41ad80f1_86779fa3",
        "filename": "include/user_role_map.hpp",
        "patchSetId": 27
      },
      "lineNbr": 230,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-07-17T18:06:14Z",
      "side": 1,
      "message": "Any test results?",
      "parentUuid": "54fef460_5c2953f9",
      "revId": "f1981daaf3e74dd28db41dce5e8a9eb86f58dd6f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a5f859e_d1bf7692",
        "filename": "include/user_role_map.hpp",
        "patchSetId": 27
      },
      "lineNbr": 230,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2023-07-26T04:13:01Z",
      "side": 1,
      "message": "Should we wait for this test result?",
      "parentUuid": "41ad80f1_86779fa3",
      "revId": "f1981daaf3e74dd28db41dce5e8a9eb86f58dd6f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}