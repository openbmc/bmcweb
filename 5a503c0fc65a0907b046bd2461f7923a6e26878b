{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1132146d_0411b26f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T05:06:48Z",
      "side": 1,
      "message": "Would you mind helping to review: https://gerrit.openbmc.org/c/openbmc/bmcweb/+/69470\n\nIt might also help make this code easier to write.",
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "502bfcf3_9cf6ebb0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-19T12:01:49Z",
      "side": 1,
      "message": "sure will take a look at this commit.\nThank you",
      "parentUuid": "1132146d_0411b26f",
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f325ead4_03116be5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T15:49:39Z",
      "side": 1,
      "message": "I pushed a stack of untested (but code review correct) patches here:\n\nhttps://github.com/edtanous/bmcweb/tree/token_support\n\nThat I think implement most of the code review comments.  Feel free to use them, or come up with your own.\n\nhttps://github.com/edtanous/bmcweb/tree/token_support",
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb773db5_f40990d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-19T16:54:41Z",
      "side": 1,
      "message": "Hi Ed\nI looked these changes, looks good but I see pam errors while creating redfish session, I will debug and update this commit\nAug 19 16:50:51 romulus bmcweb[210]: pam_unix(webserver:auth): conversation failed\nAug 19 16:50:51 romulus bmcweb[210]: pam_unix(webserver:auth): auth could not identify password for [root]",
      "parentUuid": "f325ead4_03116be5",
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0c39f75_c0e7a7fc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T17:02:42Z",
      "side": 1,
      "message": "There\u0027s probably a bug somewhere.  I didn\u0027t run it at all.\n\nIdeally we\u0027d have some unit tests, but up to you if you want to add them.",
      "parentUuid": "eb773db5_f40990d3",
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba9d72ee_ced33c3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-20T16:05:33Z",
      "side": 1,
      "message": "the exact string match for password prompt and verification code prompt does not work. With latest patch TOTP \u0026 password authentication works fine and password change also works.",
      "parentUuid": "b0c39f75_c0e7a7fc",
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84e82804_46d63c54",
        "filename": "include/authentication.hpp",
        "patchSetId": 12
      },
      "lineNbr": 72,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T05:13:52Z",
      "side": 1,
      "message": "std::nullopt",
      "range": {
        "startLine": 72,
        "startChar": 48,
        "endLine": 72,
        "endChar": 50
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "234dac00_1b67429e",
        "filename": "include/authentication.hpp",
        "patchSetId": 12
      },
      "lineNbr": 72,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-19T12:01:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "84e82804_46d63c54",
      "range": {
        "startLine": 72,
        "startChar": 48,
        "endLine": 72,
        "endChar": 50
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "65ea263e_068f1701",
        "filename": "include/authentication.hpp",
        "patchSetId": 12
      },
      "lineNbr": 72,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-20T16:09:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "234dac00_1b67429e",
      "range": {
        "startLine": 72,
        "startChar": 48,
        "endLine": 72,
        "endChar": 50
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9f0a4d9_4ca3bf9f",
        "filename": "include/login_routes.hpp",
        "patchSetId": 12
      },
      "lineNbr": 156,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T05:13:52Z",
      "side": 1,
      "message": "std::nullopt",
      "range": {
        "startLine": 156,
        "startChar": 60,
        "endLine": 156,
        "endChar": 62
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5fe2166_3d0d0775",
        "filename": "include/login_routes.hpp",
        "patchSetId": 12
      },
      "lineNbr": 156,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-19T12:01:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b9f0a4d9_4ca3bf9f",
      "range": {
        "startLine": 156,
        "startChar": 60,
        "endLine": 156,
        "endChar": 62
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "43d066c7_90d52fbb",
        "filename": "include/login_routes.hpp",
        "patchSetId": 12
      },
      "lineNbr": 156,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-20T16:09:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e5fe2166_3d0d0775",
      "range": {
        "startLine": 156,
        "startChar": 60,
        "endLine": 156,
        "endChar": 62
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2eb3f580_c426a3e1",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 47,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T05:13:52Z",
      "side": 1,
      "message": "There\u0027s no array size checks.  If the function conversation returns more than 2 requests, this will overflow.\n\nAlso, this is technically a char*[2], not a char**",
      "range": {
        "startLine": 47,
        "startChar": 26,
        "endLine": 47,
        "endChar": 35
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c999e2f_91812258",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 47,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-19T12:01:49Z",
      "side": 1,
      "message": "agreed, i need to work on this code to handle error cases..",
      "parentUuid": "2eb3f580_c426a3e1",
      "range": {
        "startLine": 47,
        "startChar": 26,
        "endLine": 47,
        "endChar": 35
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f2921c9_09d33889",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 47,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-20T16:09:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c999e2f_91812258",
      "range": {
        "startLine": 47,
        "startChar": 26,
        "endLine": 47,
        "endChar": 35
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e052325d_51e2b4c7",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 48,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T05:13:52Z",
      "side": 1,
      "message": "Why not an exact match?",
      "range": {
        "startLine": 48,
        "startChar": 12,
        "endLine": 48,
        "endChar": 18
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04b765a7_d836d336",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 48,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-20T16:09:48Z",
      "side": 1,
      "message": "exact match does not work, looks like pam prompts a string more than just \"Password\" or \"verification code\" strings",
      "parentUuid": "e052325d_51e2b4c7",
      "range": {
        "startLine": 48,
        "startChar": 12,
        "endLine": 48,
        "endChar": 18
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5de6634_5b9783ea",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 48,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-20T16:59:45Z",
      "side": 1,
      "message": "what\u0027s the additional?  I\u0027m assuming it\u0027s something like Password\\n\u003e",
      "parentUuid": "04b765a7_d836d336",
      "range": {
        "startLine": 48,
        "startChar": 12,
        "endLine": 48,
        "endChar": 18
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37a35dd8_46493d74",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 48,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-22T15:38:17Z",
      "side": 1,
      "message": "looks like it will be \"Password: \" and \"Verification code: \"",
      "parentUuid": "c5de6634_5b9783ea",
      "range": {
        "startLine": 48,
        "startChar": 12,
        "endLine": 48,
        "endChar": 18
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87f13814_0e4f7252",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 48,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-22T17:30:55Z",
      "side": 1,
      "message": "Can we match on those strings then?",
      "parentUuid": "37a35dd8_46493d74",
      "range": {
        "startLine": 48,
        "startChar": 12,
        "endLine": 48,
        "endChar": 18
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24e979c7_7238f9f9",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 52,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T05:13:52Z",
      "side": 1,
      "message": "Why do we check for either of these strings?  Presumably Google authenticator only asks for one?",
      "range": {
        "startLine": 52,
        "startChar": 12,
        "endLine": 52,
        "endChar": 99
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af046dc2_c80f7408",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 52,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-19T12:01:49Z",
      "side": 1,
      "message": "yeah, this will asked by PAM module which supports TOTP authentication",
      "parentUuid": "24e979c7_7238f9f9",
      "range": {
        "startLine": 52,
        "startChar": 12,
        "endLine": 52,
        "endChar": 99
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07aabbe2_d23208b4",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 52,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-20T16:59:45Z",
      "side": 1,
      "message": "Right, but which one does Google authenticator ask for?  Is TOTP a different type of plugin?  If they\u0027re different, an inline comment about which each string is for would help a lot.",
      "parentUuid": "af046dc2_c80f7408",
      "range": {
        "startLine": 52,
        "startChar": 12,
        "endLine": 52,
        "endChar": 99
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5733d2d1_8be95369",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 52,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-22T15:38:17Z",
      "side": 1,
      "message": "Google authenticator prompt with \"Verification code: \" string, some other TOTP plugins may prompt differently",
      "parentUuid": "07aabbe2_d23208b4",
      "range": {
        "startLine": 52,
        "startChar": 12,
        "endLine": 52,
        "endChar": 99
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "506e768d_3279ed4a",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 52,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-22T17:30:55Z",
      "side": 1,
      "message": "Can we get an inline comment for which strings match with which?  It\u0027s really non-obvious and would make it hard to test.",
      "parentUuid": "5733d2d1_8be95369",
      "range": {
        "startLine": 52,
        "startChar": 12,
        "endLine": 52,
        "endChar": 99
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43f5fac7_baf65ed0",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 76,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-19T05:13:52Z",
      "side": 1,
      "message": "Should we make a class with this data to pass in on line 85?  That seems less error prone than an array of char pointers.",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 76,
        "endChar": 22
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0015ac57_f868c81d",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 12
      },
      "lineNbr": 76,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-08-20T16:09:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43f5fac7_baf65ed0",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 76,
        "endChar": 22
      },
      "revId": "5a503c0fc65a0907b046bd2461f7923a6e26878b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}