{
  "comments": [
    {
      "key": {
        "uuid": "a56dbca9_3959c715",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-05-07T20:31:09Z",
      "side": 1,
      "message": "This looks incorrect.  The uri of the additional data should be a decendent of the @odata.id that\u0027s set above.",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1284e673_f52acc46",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2021-05-08T07:44:18Z",
      "side": 1,
      "message": "I tested it and ran Redfish validator passed.\n\nAlso, it looks similar to what EventLog does\n```\n   {\n      \"@odata.id\": \"/redfish/v1/Systems/system/LogServices/EventLog/Entries/98\",\n      \"@odata.type\": \"#LogEntry.v1_8_0.LogEntry\",\n      \"AdditionalDataURI\": \"/redfish/v1/Systems/system/LogServices/EventLog/attachment/98\",\n      \"Created\": \"2021-05-04T07:21:48+00:00\",\n      \"EntryType\": \"Event\",\n      \"Id\": \"98\",\n      \"Message\": \"xyz.openbmc_project.State.Chassis.Error.PowerOnFailure\",\n      \"Modified\": \"2021-05-04T07:21:48+00:00\",\n      \"Name\": \"System Event Log Entry\",\n      \"Resolved\": false,\n      \"Severity\": \"Critical\"\n    }\n```\n\nSo, You mean that the URI should be something like `/redfish/v1/Systems/system/LogServices/PostCodes/Entries/\u003cpostcodeEntryID\u003e/attachment`?",
      "parentUuid": "a56dbca9_3959c715",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12dfdff8_76112993",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-05-09T20:16:19Z",
      "side": 1,
      "message": "\u003e I tested it and ran Redfish validator passed.\n\u003e \n\nRedfish validator just walks the URI tree.  It doesn\u0027t have tests for this failure.\n\n\u003e Also, it looks similar to what EventLog does\n\u003e ```\n\u003e    {\n\u003e       \"@odata.id\": \"/redfish/v1/Systems/system/LogServices/EventLog/Entries/98\",\n\u003e       \"@odata.type\": \"#LogEntry.v1_8_0.LogEntry\",\n\u003e       \"AdditionalDataURI\": \"/redfish/v1/Systems/system/LogServices/EventLog/attachment/98\",\n\u003e       \"Created\": \"2021-05-04T07:21:48+00:00\",\n\u003e       \"EntryType\": \"Event\",\n\u003e       \"Id\": \"98\",\n\u003e       \"Message\": \"xyz.openbmc_project.State.Chassis.Error.PowerOnFailure\",\n\u003e       \"Modified\": \"2021-05-04T07:21:48+00:00\",\n\u003e       \"Name\": \"System Event Log Entry\",\n\u003e       \"Resolved\": false,\n\u003e       \"Severity\": \"Critical\"\n\u003e     }\n\u003e ```\n\nYep, that one looks wrong too.  I\u0027ll add it to my list to go fix.\n\n\u003e \n\u003e So, You mean that the URI should be something like `/redfish/v1/Systems/system/LogServices/PostCodes/Entries/\u003cpostcodeEntryID\u003e/attachment`?\n\nCorrect.",
      "parentUuid": "1284e673_f52acc46",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c7abdb9_d0dc8489",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2021-05-10T01:40:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "12dfdff8_76112993",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a8211b76_0f34fa06",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2021-05-10T17:38:07Z",
      "side": 1,
      "message": "\u003e This looks incorrect.  The uri of the additional data should be a dependent of the @odata.id that\u0027s set above. \n\nIt isn\u0027t a Redfish defined URI but agree what is in 12, /redfish/v1/Systems/system/LogServices/PostCodes/Entries/\u003cpostcodeEntryID\u003e/attachment, is more correct. \nI didn\u0027t find a REST best practice but it makes sense this is a child. \n\nI have wondered though if these should even be in the Redfish tree. What if redfish comes out with an attachment schema (yeah I know unlikely) at \n/redfish/v1/Systems/system/LogServices/{LogServiceId}/Entries/{LogEntryId}/attachment (or /redfish/v1/Systems/system/LogServices/{LogServiceId}/Entries/{LogEntryId}/{new id}), suddenly this conflicts. \n \nThese are OEM format. I wonder if /attachments/PostCodes/\u003cpost code id\u003e makes more sense. \n\nAnyway beyond this discussion.",
      "parentUuid": "4c7abdb9_d0dc8489",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c4fccbd_000a9090",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2021-05-10T17:43:34Z",
      "side": 1,
      "message": "Opened https://github.com/openbmc/bmcweb/issues/205 to fix /redfish/v1/Systems/system/LogServices/EventLog/attachment/98",
      "parentUuid": "a8211b76_0f34fa06",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ba0ff9e_4e85e742",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-05-10T17:52:10Z",
      "side": 1,
      "message": "thanks gunnar.\n\n\"I didn\u0027t find a REST best practice but it makes sense this is a child.\"\nHypermedia API is probably the thing you want to search for.\n\n\"I have wondered though if these should even be in the Redfish tree. \"\nThis is a valid concern, although the way it\u0027s done above is something I\u0027ve seen elsewhere.  From a redfish perspective, it doesn\u0027t really matter where they are, they\u0027re outside the spec.\n\n\n\"What if redfish comes out with an attachment schema (yeah I know unlikely) at\"\nRedfish doesn\u0027t define URLs, so this isn\u0027t a problem for us, we could simply define our IDs in such a way that they don\u0027t conflict, either by prepending something to it, base64 encoding it, or just calling it asdf for all Redfish is concerned.  This is actually one of the big advantages of a hypermedia API and following URI links instead of hardcoding them, you have flexibility for this exact scenario.\n\n\n\"These are OEM format. I wonder if /attachments/PostCodes/\u003cpost code id\u003e makes more sense. \"\n\nWe could do that if we wanted, but see above, there wouldn\u0027t be much advantage.",
      "parentUuid": "3c4fccbd_000a9090",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45e48f8a_c782ec37",
        "filename": "redfish-core/lib/log_services.hpp",
        "patchSetId": 11
      },
      "lineNbr": 3292,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2021-05-10T18:39:28Z",
      "side": 1,
      "message": "\u003e Redfish doesn\u0027t define URLs\n\nRedfish does define which URIs schemas can be implemented at: \nOne day, although unlikely, /redfish/v1/Systems/system/LogServices/{LogServiceId}/Entries/{LogEntryId}/attachment could be the URI of like an attachment schema. \n\nFrom https://redfish.dmtf.org/schemas/v1/LogEntry_v1.xml\n....\n\u003cString\u003e\n/redfish/v1/Managers/{ManagerId}/LogServices/{LogServiceId}/Entries/{LogEntryId}\n\u003c/String\u003e\n\u003cString\u003e\n/redfish/v1/Systems/{ComputerSystemId}/LogServices/{LogServiceId}/Entries/{LogEntryId}\n\u003c/String\u003e\n\u003cString\u003e\n/redfish/v1/CompositionService/ResourceBlocks/{ResourceBlockId}/Systems/{ComputerSystemId}/LogServices/{LogServiceId}/Entries/{LogEntryId}\n\u003c/String\u003e\n\u003cString\u003e\n/redfish/v1/ResourceBlocks/{ResourceBlockId}/Systems/{ComputerSystemId}/LogServices/{LogServiceId}/Entries/{LogEntryId}\n\u003c/String\u003e\n\u003cString\u003e\n/redfish/v1/Chassis/{ChassisId}/LogServices/{LogServiceId}/Entries/{LogEntryId}\n\u003c/String\u003e\n\u003cString\u003e/redfish/v1/JobService/Log/Entries/{LogEntryId}\u003c/String\u003e\n\u003cString\u003e\n/redfish/v1/TelemetryService/LogService/Entries/{LogEntryId}\n\u003c/String\u003e\n\nI see your point. I am fine with this as is.",
      "parentUuid": "0ba0ff9e_4e85e742",
      "range": {
        "startLine": 3291,
        "startChar": 16,
        "endLine": 3292,
        "endChar": 31
      },
      "revId": "719f2dfb971454288d1d67c9e20e48a75b20c24b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}