{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f6681142_e3c3d662",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 111
      },
      "lineNbr": 0,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2025-03-28T00:35:38Z",
      "side": 1,
      "message": "Overall I support this. We will us ourselves for our own OEM",
      "revId": "c66a979dfa6324c03ba0e494ed03433dfba48b53",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee73a156_df8776fe",
        "filename": "redfish-core/include/redfish_oem_routing.hpp",
        "patchSetId": 111
      },
      "lineNbr": 108,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-03-26T21:29:10Z",
      "side": 1,
      "message": "This is a security issue.  You\u0027ve added the fragment to the public handler that, outside of a unit test, is common, so:\nA. these fragments will be accessible directly by users if they craft the correct uri.\nB. These fragments will have collisions with one another if /Oem/\u003cthing\u003e is declared more than once.",
      "revId": "c66a979dfa6324c03ba0e494ed03433dfba48b53",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1d35447_658bbb49",
        "filename": "redfish-core/include/redfish_oem_routing.hpp",
        "patchSetId": 111
      },
      "lineNbr": 108,
      "author": {
        "id": 1001486
      },
      "writtenOn": "2025-03-27T04:39:27Z",
      "side": 1,
      "message": "1. These URIs should not be accessible to users. The main router is not aware of any #fragment URIs. It will throw not found if someone succeeds to send a # fragment in the URI \n2. We should be able to assert when two same fragments routes gets added.",
      "parentUuid": "ee73a156_df8776fe",
      "revId": "c66a979dfa6324c03ba0e494ed03433dfba48b53",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d33ba33_2e84bdbf",
        "filename": "redfish-core/include/redfish_oem_routing.hpp",
        "patchSetId": 111
      },
      "lineNbr": 108,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-03-31T22:25:01Z",
      "side": 1,
      "message": "\u003e 1. These URIs should not be accessible to users. The main router is not aware of any #fragment URIs. It will throw not found if someone succeeds to send a # fragment in the URI \n\nAnd we\u0027ve verified that with a test?  I didn\u0027t think that woudl be the behavior.\n\n\u003e 2. We should be able to assert when two same fragments routes gets added.\n\nAgreed, but this doesn\u0027t mean we add routes and fragments in the same router.",
      "parentUuid": "c1d35447_658bbb49",
      "revId": "c66a979dfa6324c03ba0e494ed03433dfba48b53",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab9d256e_cdd29426",
        "filename": "redfish-core/include/redfish_oem_routing.hpp",
        "patchSetId": 111
      },
      "lineNbr": 108,
      "author": {
        "id": 1001486
      },
      "writtenOn": "2025-04-02T16:00:14Z",
      "side": 1,
      "message": "Verified that we stop on duplicate entries for OEM router \n```\n\u003c6\u003e[sub_route_trie.hpp:269] fragment handler already exists for \"/foo/\u003cstr\u003e/#/Oem\" fragment \"/Oem\"\nunknown file: Failure\nC++ exception with description \"handler already exists for url \"/foo/\u003cstr\u003e/#/Oem\" fragment \"/Oem\"\" thrown in the test body.\n```\nAlready separated the Tries class used by the router. \nTested to ensure we cant get fragments alone \n```\nropai@ROPAI:~$ curl -c cjar -b cjar -k -X GET \u0027https://127.0.0.1:2443/redfish/v1/Managers/bmc/%23/Oem/OpenBmc\u0027\n{\n  \"error\": {\n    \"@Message.ExtendedInfo\": [\n      {\n        \"@odata.type\": \"#Message.v1_1_1.Message\",\n        \"Message\": \"The requested resource of type  named \u0027OpenBmc\u0027 was not found.\",\n        \"MessageArgs\": [\n          \"\",\n          \"OpenBmc\"\n        ],\n        \"MessageId\": \"Base.1.19.ResourceNotFound\",\n        \"MessageSeverity\": \"Critical\",\n        \"Resolution\": \"Provide a valid resource identifier and resubmit the request.\"\n      }\n    ],\n    \"code\": \"Base.1.19.ResourceNotFound\",\n    \"message\": \"The requested resource of type  named \u0027OpenBmc\u0027 was not found.\"\n  }\n}ropai@ROPAI:~$\n```",
      "parentUuid": "8d33ba33_2e84bdbf",
      "revId": "c66a979dfa6324c03ba0e494ed03433dfba48b53",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}