{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3b0d7453_7c567b00",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 12,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "Need a lot more here.. I thought there was an association added for chassis \u003c--\u003e fan ?\n\nSee https://gerrit.openbmc.org/c/openbmc/bmcweb/+/57533/8",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4540e5d_b5625814",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1000276
      },
      "writtenOn": "2023-05-03T20:37:11Z",
      "side": 1,
      "message": "Looks good on my system.  Thanks!",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "311e26dd_830a730c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1001633
      },
      "writtenOn": "2023-05-09T00:22:15Z",
      "side": 1,
      "message": "This is not working in our system. It is returning 0 Fans.\n\ncurl -k https://${bmc}/redfish/v1/Chassis/chassis/ThermalSubsystem/Fans\n{\n  \"@odata.id\": \"/redfish/v1/Chassis/chassis/ThermalSubsystem/Fans\",\n  \"@odata.type\": \"#FanCollection.FanCollection\",\n  \"Members\": [],\n  \"Members@odata.count\": 0,\n  \"Name\": \"Fans Collection\"\n}\n\nI don\u0027t see path \"/xyz/openbmc_project/sensors/fan_pwm\" in our system\n\nbusctl call xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper xyz.openbmc_project.ObjectMapper GetSubTreePaths sias \"/xyz/openbmc_project/sensors/fan_pwm\" 0 1 \"xyz.openbmc_project.Sensor.Value\"\nCall failed: The resource is not found.\n\nWe have fans in the path \"/xyz/openbmc_project/inventory\" and the interface is xyz.openbmc_project.Inventory.Item.Fan\n\nbusctl call xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper xyz.openbmc_project.ObjectMapper GetSubTreePaths sias \"/xyz/openbmc_project/inventory\" 0 1 xyz.openbmc_project.Inventory.Item.Fan \nas 6 \"/xyz/openbmc_project/inventory/system/chassis/motherboard/fan0\" \"/xyz/openbmc_project/inventory/system/chassis/motherboard/fan1\" \"/xyz/openbmc_project/inventory/system/chassis/motherboard/fan2\" \"/xyz/openbmc_project/inventory/system/chassis/motherboard/fan3\" \"/xyz/openbmc_project/inventory/system/chassis/motherboard/fan4\" \"/xyz/openbmc_project/inventory/system/chassis/motherboard/fan5\"\n\nFor each fan we have an association:\nbusctl get-property -j xyz.openbmc_project.Inventory.Manager /xyz/openbmc_project/inventory/system/chassis/motherboard/fan0 xyz.openbmc_project.Association.Definitions Associations sensors\n{\n\t“type” : “a(sss)“,\n\t“data” : [\n\t\t[\n\t\t\t“sensors”,\n\t\t\t“inventory”,\n\t\t\t“/xyz/openbmc_project/sensors/fan_tach/fan0_0\"\n\t\t],\n\nThis association is described at\nhttps://github.com/openbmc/docs/blob/master/architecture/sensor-architecture.md#association-names-1",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "145d7358_1edc12d6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1001633
      },
      "writtenOn": "2023-05-16T22:21:17Z",
      "side": 1,
      "message": "Any update on this commit?\n\nI was reviewing the old commit at https://gerrit.openbmc.org/c/openbmc/bmcweb/+/57533\nand noticed that it retrieves the fans collection by looking at the associations of {cooling, cooled_by} and {sensors, inventory}. This approach doesn\u0027t rely on a specific path, which is more flexible than this implementation. \n\nI\u0027m considering reopening the old commit and continuing the work on the association based approach. I would like to suggest that you enhance the inventory to include associations if they are currently missing.\n\nPlease let me know if you have any concerns or alternative suggestions.",
      "parentUuid": "311e26dd_830a730c",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be328401_3db78cbd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1001763
      },
      "writtenOn": "2023-05-17T10:47:59Z",
      "side": 1,
      "message": "As Fru information of Fans is not present in Fan inventory so I am using Sensor value to show Fans\n\nbusctl call xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper xyz.openbmc_project.ObjectMapper GetSubTreePaths sias \"/xyz/openbmc_project/inventory\" 0 1 xyz.openbmc_project.Inventory.Item.Fan\nas 0\n\nWe have fans in the path \"/xyz/openbmc_project/sensors\" and the interfance is xyz.openbmc_project.Sensor.Value\n\nbusctl call xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper xyz.openbmc_project.ObjectMapper GetSubTreePaths sias \"/xyz/openbmc_project/sensors/fan_pwm\" 0 1 \"xyz.openbmc_project.Sensor.Value\"\nas 6 \"/xyz/openbmc_project/sensors/fan_pwm/Pwm_11_12\" \n\"/xyz/openbmc_project/sensors/fan_pwm/Pwm_1_2\" \n\"/xyz/openbmc_project/sensors/fan_pwm/Pwm_3_4\" \n\"/xyz/openbmc_project/sensors/fan_pwm/Pwm_5_6\" \n\"/xyz/openbmc_project/sensors/fan_pwm/Pwm_7_8\" \n\"/xyz/openbmc_project/sensors/fan_pwm/Pwm_9_10\"\n\nFor each Fan association is:\n\nbusctl get-property xyz.openbmc_project.FanSensor /xyz/openbmc_project/sensors/fan_pwm/Pwm_1_2 xyz.openbmc_project.Association.Definitions Associations\na(sss) 1 \"chassis\" \"all_sensors\" \"/xyz/openbmc_project/inventory/system/board/Board\n\nThe Associations is not implemented here I will update that in later\n\nThe commit https://gerrit.openbmc.org/c/openbmc/bmcweb/+/57533 is only for FanCollection but this commit is for both Fan Collection and instance\n\nIn Sensors code, ref link is https://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/sensors.hpp#L77. I Referred from this and get fan_pwm from xyz.openbmc_project.Sensor.Value\n\nNote: If Fan fru information is populated into Fan Inventory try to update xyz.openbmc_project.Sensor.Value into xyz.openbmc_project.Inventory.Item.Fan and then check the fans (only fan_pwm will show)",
      "parentUuid": "145d7358_1edc12d6",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c42eeb97_2076d0de",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 18,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "#include \u003cmemory\u003e ?",
      "range": {
        "startLine": 18,
        "startChar": 34,
        "endLine": 18,
        "endChar": 49
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8598911a_914c6217",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 24,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "warning please",
      "range": {
        "startLine": 24,
        "startChar": 19,
        "endLine": 24,
        "endChar": 24
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "278ef5ad_ddd19d7e",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 36,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "sensorInterface might be a better name",
      "range": {
        "startLine": 36,
        "startChar": 46,
        "endLine": 36,
        "endChar": 56
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "353196e9_e90ae86f",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 40,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "I don\u0027t see this hierarchy listed\n\nhttps://github.com/openbmc/phosphor-dbus-interfaces/blob/master/yaml/xyz/openbmc_project/Sensor/Value.interface.yaml#L4",
      "range": {
        "startLine": 40,
        "startChar": 65,
        "endLine": 40,
        "endChar": 72
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41b6fd7b_e2f5162e",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 47,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "#include \u003cboost/system/error_code.hpp\u003e ?",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce123325_507ebe56",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 109,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "by reference please https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61013",
      "range": {
        "startLine": 109,
        "startChar": 37,
        "endLine": 109,
        "endChar": 47
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a542634_0b904723",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 140,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "Can you use dbus::utility::getSubTree ?",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb75a4fa_424767f1",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 142,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "don\u0027t you have this defined above?",
      "range": {
        "startLine": 142,
        "startChar": 8,
        "endLine": 142,
        "endChar": 70
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f62527e6_212da28e",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 151,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "by reference please",
      "range": {
        "startLine": 151,
        "startChar": 41,
        "endLine": 151,
        "endChar": 51
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b6cdc82_63d7291d",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 184,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "error_code by reference please https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61013",
      "range": {
        "startLine": 184,
        "startChar": 26,
        "endLine": 184,
        "endChar": 51
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d8a68b5_899b88f7",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 187,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "ERROR probably makes more sense here see https://github.com/openbmc/bmcweb/blob/master/DEVELOPING.md#logging-levels",
      "range": {
        "startLine": 187,
        "startChar": 23,
        "endLine": 187,
        "endChar": 28
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a43c7ecb_81d905d7",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 193,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "we typically don\u0027t use the ternary operator in bmcweb. \nI think you already have a default of \"Enabled\" in case this interface doesn\u0027t exist on D-Bus... so not sure why this can\u0027t just be\n\nif (!value) { aResp-\u003eres.jsonValue[\"Status\"][\"State\"] \u003d \"Absent\"; }",
      "range": {
        "startLine": 193,
        "startChar": 18,
        "endLine": 193,
        "endChar": 19
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab70f2da_efcf5686",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 203,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "error_code by reference please https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61013",
      "range": {
        "startLine": 203,
        "startChar": 26,
        "endLine": 203,
        "endChar": 51
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "243830df_c95291fa",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 206,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "ERROR probably makes more sense here see https://github.com/openbmc/bmcweb/blob/master/DEVELOPING.md#logging-levels",
      "range": {
        "startLine": 206,
        "startChar": 23,
        "endLine": 206,
        "endChar": 28
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b09e41d9_c7f51b8f",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 212,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "We typically don\u0027t use the ternary operator in bmcweb. I think you already have a default, so can you just do like https://gerrit.openbmc.org/c/openbmc/bmcweb/+/62446 ?",
      "range": {
        "startLine": 212,
        "startChar": 18,
        "endLine": 212,
        "endChar": 19
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b8aea2b_f7eb5fe9",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 222,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "Warning here please",
      "range": {
        "startLine": 222,
        "startChar": 19,
        "endLine": 222,
        "endChar": 24
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8806c814_7746c7c5",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 296,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "#include \u003cfunctional\u003e ? Might want to run https://include-what-you-use.org/",
      "range": {
        "startLine": 296,
        "startChar": 8,
        "endLine": 296,
        "endChar": 23
      },
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "377d9cdd_74c6dd75",
        "filename": "redfish-core/lib/fan.hpp",
        "patchSetId": 11
      },
      "lineNbr": 311,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-05-08T20:18:41Z",
      "side": 1,
      "message": "What about head methods?",
      "revId": "73046796f7ff4737f7bdbf8f884de83e7415f022",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}