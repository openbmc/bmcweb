{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cd3caebc_e6cc1d80",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-04-06T19:40:33Z",
      "side": 1,
      "message": "This adds a lot of ifdefs to bmcweb. I am concerned about the support. I think this needs a larger discussion.ðŸ˜¬\nWhat does bmcweb do?\nShould bmcweb be targeted for applications outside openbmc and therefore, should we support a non-dbus use case?\nHow do we ensure this doesn\u0027t break this new non-dbus use case? How does an openbmc developer test this use case? In June 2022, you mentioned, \"OCP team would have it\u0027s own CI to make sure that we\u0027re not breaking cross-system builds\" - is that still planned? It would be exciting to see bmcweb used outside openbmc, bringing in more users and hopefully more developers/reviewers but I am worried about this slowing down bmcweb development",
      "revId": "235cfa1092a62f970ae1e5e3337284d211576784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b226e521_a7dce57d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-04-06T19:56:05Z",
      "side": 1,
      "message": "\u003e This adds a lot of ifdefs to bmcweb.\n\nOpen to other options if there\u0027s a better design pattern.\n\n\u003e I am concerned about the support. I think this needs a larger discussion.ðŸ˜¬\n\nHappy to have it.\n\n\u003e What does bmcweb do?\n\u003e Should bmcweb be targeted for applications outside openbmc and therefore, should we support a non-dbus use case?\n\nIronically, bmcweb was originally targetted for non-OpenBMC use cases.  OpenBMC was added later.\n\n\u003e How do we ensure this doesn\u0027t break this new non-dbus use case?\n\nTesting, but today, we don\u0027t do much verification that we don\u0027t break the dbus use case, so I\u0027m not sure this is really a change.\n\n\u003e How does an openbmc developer test this use case?\n\nI\u0027m not sure why that matters?  Each side will do their testing and integration.\n\n\u003e In June 2022, you mentioned, \"OCP team would have it\u0027s own CI to make sure that we\u0027re not breaking cross-system builds\" - is that still planned?\n\nYep.\n\n\u003e It would be exciting to see bmcweb used outside openbmc, bringing in more users and hopefully more developers/reviewers but I am worried about this slowing down bmcweb development\n\nCan you say more about this?  How do you think it will slow down bmcweb development?  Is it just the ifdefs?  Or something more?",
      "parentUuid": "cd3caebc_e6cc1d80",
      "revId": "235cfa1092a62f970ae1e5e3337284d211576784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bada662e_ac2ff1d5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-11-29T03:57:59Z",
      "side": 1,
      "message": "\u003e How do you think it will slow down bmcweb development?\n\nBy verifying this use case doesn\u0027t get broke. The more ifdefs the more likely something gets broke.",
      "parentUuid": "b226e521_a7dce57d",
      "revId": "235cfa1092a62f970ae1e5e3337284d211576784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1817477_bd51acfd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-12-18T20:40:34Z",
      "side": 1,
      "message": "By that argument we shouldn\u0027t accept any ifdefs, and by extension of the compatibility guarantees, whomever checks in code first should allow their behavior to be in bmcweb forever without ever being replaced.  I realize that\u0027s taking your statement to an extreme, but it\u0027s what I think about often, that if we had a no ifdef policy 4 years ago, things like the thermal subsystem option, the dbus log server option, and others would likely have not been allowed.\n\nI\u0027m open to options other than ifdefs/contexpr configs if there\u0027s a better way to manage this, but the argument that we can\u0027t use ifdefs to control behavior because it\u0027ll slow down development I question heavily.  Ifdefs IMO speed up development, because we can accept features that maybe aren\u0027t use-case-complete, aren\u0027t secure for production usages, or aren\u0027t useful to a majority of users, which helps folks to fork less.\n\nFWIW, this patchset got revived because someone is about to fork bmcweb to do exactly what this patchset is doing.  I think ifdefs can keep the development more localized and get more reviewers on the core components, that might not care about the dbus aspects.  At a fundamental level I think ifdefs are better than forking.",
      "parentUuid": "bada662e_ac2ff1d5",
      "revId": "235cfa1092a62f970ae1e5e3337284d211576784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}