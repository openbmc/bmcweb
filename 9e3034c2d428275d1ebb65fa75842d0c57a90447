{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8427876b_ac1da62b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T19:20:12Z",
      "side": 1,
      "message": "Here are some of my observations.",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2626f8b8_c9ae897a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:44:17Z",
      "side": 1,
      "message": "Thank you for the review.",
      "parentUuid": "8427876b_ac1da62b",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "014f0727_3dbb8154",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1527,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T19:20:12Z",
      "side": 1,
      "message": "Change these instances to \nthisAddress.existingDbusId.empty()\n?\nIf this entry doesn\u0027t have a value then the test on line 1520 failed.",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "634b796a_729a1db1",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1527,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:44:17Z",
      "side": 1,
      "message": "Changed it.",
      "parentUuid": "014f0727_3dbb8154",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95cd0da0_3921a6a6",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1527,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T22:35:22Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "634b796a_729a1db1",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0e483f1_f3207145",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1557,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T19:20:12Z",
      "side": 1,
      "message": "This sequence looks like it could benefit from a helper function for addr,subnet,gw.",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "624d6287_0b8287aa",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1557,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:44:17Z",
      "side": 1,
      "message": "I would, but each one is subtly different.\n\nAddress is required in all cases\nSubnet mask needs to be parsed by ipv4VerifyIpAndGetBitcount and converted to a unint.\nGateway is optional\n\nBy the time we handle all those cases, we wouldn\u0027t have any less code.  I could break these out into sub-functions for each if we think that makes sense, but that also seems like more/messier code.\n\nHappy to do whatever.",
      "parentUuid": "f0e483f1_f3207145",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "947cdfed_171e7aeb",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1557,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T22:35:22Z",
      "side": 1,
      "message": "Leave it as is then.",
      "parentUuid": "624d6287_0b8287aa",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "96e1c608_90080687",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1557,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T22:52:02Z",
      "side": 1,
      "message": "ok",
      "parentUuid": "947cdfed_171e7aeb",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e78a51d4_dc21ec84",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1650,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T19:20:12Z",
      "side": 1,
      "message": "Is this the correct action?\nIsn\u0027t it better to assume the remainder of the request was a series of \"{}\" entries?\nIs there any guidance in the RF spec?",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12c74ad2_8ea7b63a",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1650,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:44:17Z",
      "side": 1,
      "message": "\u003e Is this the correct action?\n\nGiven PATCH semantics, I believe this is correct.  The goal of PATCH is that if you send a value, that value is reproduced on a GET.  If we don\u0027t delete the remaining entries, PATCH no longer does what you asked for.\n\nWe could explicitly require that you have to explicitly set null or {} for every entry that exists, but this seemed more user friendly.\n\n\u003e Isn\u0027t it better to assume the remainder of the request was a series of \"{}\" entries?\n\u003e Is there any guidance in the RF spec?\n\nI\u0027m reading section 7.7 and I think this is right?\n\n```. Array properties that use the fixed or variable length style remove those elements,\nwhile array properties that use the rigid style replace removed elements with null elements```\n\nI\u0027m not positive this reading right and I\u0027ve cut off a lot of context.  I think this behavior is what openbmc did before?",
      "parentUuid": "e78a51d4_dc21ec84",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05078cf3_6c0dfdf0",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1650,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T22:35:22Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "12c74ad2_8ea7b63a",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5a390af_f3f6d9fc",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1732,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T19:20:12Z",
      "side": 1,
      "message": "Does this really work?\nAll it does is set the D-Bus entry and return, right?\nInspection of phosphor-network indicates that DHCPv4 assigned GW is going to remain in effect, and this assignment will be ignored.\nIs it appropriate to report the fact the PATCH did not actually work?",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43ff0271_8d6a01dc",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1732,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:44:17Z",
      "side": 1,
      "message": "\u003e Does this really work?\n\u003e All it does is set the D-Bus entry and return, right?\n\u003e Inspection of phosphor-network indicates that DHCPv4 assigned GW is going to remain in effect, and this assignment will be ignored.\n\nThis works when done in tandem with my other patch that I linked in the commit message.\n\n\u003e Is it appropriate to report the fact the PATCH did not actually work?\n\nI\u0027m not sure I understand.",
      "parentUuid": "c5a390af_f3f6d9fc",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b174950_8eb48192",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1732,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:45:06Z",
      "side": 1,
      "message": "Let me test without that change present.",
      "parentUuid": "43ff0271_8d6a01dc",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6a9d758_36adfdb5",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1732,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T22:35:22Z",
      "side": 1,
      "message": "Testing without your phos-net change I would expect this BMCWeb code to report 200 or 204 when DHCPv4 is active. In spite of BMCWeb reporting \"success\", phos-net will not assign a Gateway value.\nIf phos-net doesn\u0027t apply the gateway requested, is BMCWeb reporting \"success\" desirable behavior?\nWill updateIPv4Default error out if DHCPv4 is active? It doesn\u0027t appear phos-net returns an error, it just fails to write the gw into the config file.\nI don\u0027t recall your philosophy wrt applying \"policy\" within BMCWeb.",
      "parentUuid": "9b174950_8eb48192",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "338dd68a_8c55074d",
        "filename": "redfish-core/lib/ethernet.hpp",
        "patchSetId": 8
      },
      "lineNbr": 1732,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T22:52:02Z",
      "side": 1,
      "message": "\u003e Testing without your phos-net change I would expect this BMCWeb code to report 200 or 204 when DHCPv4 is active. In spite of BMCWeb reporting \"success\", phos-net will not assign a Gateway value.\n\nJust so I understand, is this the behavior we had before this patch, or do you think this is behavior is new in this patch?  I don\u0027t see any code in the existing handleIPv4StaticPatch method that\u0027s changing behavior dependent on whether DHCP is enabled.\n\n\u003e If phos-net doesn\u0027t apply the gateway requested, is BMCWeb reporting \"success\" desirable behavior?\n\nHard to say because technically I think our behavior is wrong to the standard anyway.  Long term what I suspect is that we really should be implementing \"UseGateway\" which lets you explicitly switch between DHCP and Static addresses for gateway.  If UseGateway \u003d\u003d true, we should error out on setting the gateway.  If UseGateway \u003d false, we shouldn\u0027t try to set the gateway at all, and just set dhcp.\n\n\u003e Will updateIPv4Default error out if DHCPv4 is active? It doesn\u0027t appear phos-net returns an error, it just fails to write the gw into the config file.\n\u003e I don\u0027t recall your philosophy wrt applying \"policy\" within BMCWeb.\n\nIf we have constraints that aren\u0027t specific to Redfish (IE, we can\u0027t set a gateway if DHCP is enabled), then they should be enforced in the backend, otherwise we\u0027re duplicating all behaviors in IPMI and Redfish.\n\nIf the constraint is redfish specific, fine to go in bmcweb.\n\nI suspect phosphor-network should be returning an error if DHCP is enabled given its current implementation.",
      "parentUuid": "e6a9d758_36adfdb5",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16d8d802_d00aaabc",
        "filename": "test/redfish-core/lib/ethernet_test.cpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T19:20:12Z",
      "side": 1,
      "message": "Is this comment correct? And the one ahead of the next TEST?",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d842b0c_f174c1e5",
        "filename": "test/redfish-core/lib/ethernet_test.cpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:44:17Z",
      "side": 1,
      "message": "This comment is correct I think?  We\u0027re creating an object with all properties in both cases.  If there\u0027s something else better I should put here to make it more clear, let me know what you\u0027d like to see.",
      "parentUuid": "16d8d802_d00aaabc",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37dc745f_2d4aac8c",
        "filename": "test/redfish-core/lib/ethernet_test.cpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T22:35:22Z",
      "side": 1,
      "message": "IMO this isn\u0027t descriptive.\nIt would be nice to read a comment that describes the test behavior in English w/o having to grok the code.\n\nThis appears to actually:\nAdd two static IPv4 addresses with different gateway values.\nConfirm the mismatched gateway values are rejected.",
      "parentUuid": "0d842b0c_f174c1e5",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef7e6f40_7e6d6d64",
        "filename": "test/redfish-core/lib/ethernet_test.cpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T22:54:14Z",
      "side": 1,
      "message": "Added both those descriptions inline in code",
      "parentUuid": "37dc745f_2d4aac8c",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51efcef0_6532a8b6",
        "filename": "test/redfish-core/lib/ethernet_test.cpp",
        "patchSetId": 8
      },
      "lineNbr": 128,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T19:20:12Z",
      "side": 1,
      "message": "fails because 1.1.1.1 doesn\u0027t equal 192.168.1.1?",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48c417dc_4805180e",
        "filename": "test/redfish-core/lib/ethernet_test.cpp",
        "patchSetId": 8
      },
      "lineNbr": 128,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-11-25T19:44:17Z",
      "side": 1,
      "message": "Fails because there already exists an entry with a different gateway.",
      "parentUuid": "51efcef0_6532a8b6",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b9879d3_097d4be6",
        "filename": "test/redfish-core/lib/ethernet_test.cpp",
        "patchSetId": 8
      },
      "lineNbr": 128,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2024-11-25T22:35:22Z",
      "side": 1,
      "message": "See my suggested comment above.\nThe failure model did not jump out based on reading the code.",
      "parentUuid": "48c417dc_4805180e",
      "revId": "9e3034c2d428275d1ebb65fa75842d0c57a90447",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}