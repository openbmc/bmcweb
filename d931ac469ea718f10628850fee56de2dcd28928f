{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "84585c07_56f0dce9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 43,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2026-01-22T20:48:54Z",
      "side": 1,
      "message": "I think all callers already saved `id` locally or captured in a lambda before calling `deleteSubscription()`.\nFor example,\n- https://github.com/openbmc/bmcweb/blob/ca8790742803cf56283189f63feb37bb5c003912/redfish-core/include/event_service_manager.hpp#L120\n- https://github.com/openbmc/bmcweb/blob/ca8790742803cf56283189f63feb37bb5c003912/redfish-core/include/event_service_manager.hpp#L404\n\n\nIs there a specific log traces about the observation?",
      "revId": "d931ac469ea718f10628850fee56de2dcd28928f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f85933c2_19854f6c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 75,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2026-01-22T20:48:54Z",
      "side": 1,
      "message": "It looks like the test seems trying to cover the only bad_gateway case (e.g. connectFailed).\n\nI think the other cases may exist after the connection is done but the send is failed (e.g. sendFailed/recvFailed or sslInitFailed etc??).\n\nIf the current isTerminated() does not cover all cases, should the function check those cases too instead of removing the function like this?\n```\nbool areAllConnectionsTerminated()\n{\n...\n        for (const auto\u0026 conn : connections)\n        {\n         {\n-            if (conn !\u003d nullptr \u0026\u0026 conn-\u003estate !\u003d ConnState::terminated)\n+            if (conn !\u003d nullptr \u0026\u0026 conn-\u003estate !\u003d ConnState::terminated \u0026\u0026\n+                conn-\u003estate !\u003d ConnState::connFailed)\n\n            {\n                BMCWEB_LOG_DEBUG(\n                    \"Not all connections of pool id:{} are terminated\", id);\n                return false;\n            }\n        }\n```",
      "revId": "d931ac469ea718f10628850fee56de2dcd28928f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f46de10_c63a0d39",
        "filename": "redfish-core/src/subscription.cpp",
        "patchSetId": 5
      },
      "lineNbr": 85,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2026-01-22T20:48:54Z",
      "side": 1,
      "message": "It looks like the change seems unconditionally deleting the subscription after sendEventToSubscriber() - \nhttps://github.com/openbmc/bmcweb/blob/ca8790742803cf56283189f63feb37bb5c003912/redfish-core/src/subscription.cpp#L187",
      "revId": "d931ac469ea718f10628850fee56de2dcd28928f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}