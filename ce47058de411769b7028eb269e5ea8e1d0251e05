{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "db6c6b22_0b26872b",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 170,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-31T23:19:26Z",
      "side": 1,
      "message": "No lambdas over 10 lines please.  This can be made a regular method.",
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3124115_373c75de",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 170,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2023-06-02T07:36:21Z",
      "side": 1,
      "message": "Done.\n\nAlso split out the other lambda",
      "parentUuid": "db6c6b22_0b26872b",
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7057821_5caef455",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 207,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-31T23:19:26Z",
      "side": 1,
      "message": "Please don\u0027t construct by brace construction or complete replacement of objects.  They:\n\n1. have problems where one section of code might overwrite keys from another section of code.\n2. Create larger binary sizes.\n\nThis code would be something like\n\nasyncResp-\u003eres.jsonValue[\"Links\"][\"ContainedBy\"][\"@odata.id\"] \u003d boost::urls::format(\"/redfish/v1/Chassis/{}\", upstreamChassis);",
      "range": {
        "startLine": 205,
        "startChar": 59,
        "endLine": 207,
        "endChar": 9
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb22979f_4eaabcbc",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 207,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2023-06-02T07:36:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7057821_5caef455",
      "range": {
        "startLine": 205,
        "startChar": 59,
        "endLine": 207,
        "endChar": 9
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f56331e7_514cc4c6",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 228,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-31T23:19:26Z",
      "side": 1,
      "message": "Please use get_if\u003cnlohamann::json::array_t\u003e here;  Technically what you do on line 233 can throw, and the compiler isn\u0027t smart enough to not generate the unwind tables for it.",
      "range": {
        "startLine": 228,
        "startChar": 8,
        "endLine": 228,
        "endChar": 31
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98ada7cf_7a7a4c2c",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 228,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2023-06-02T07:36:21Z",
      "side": 1,
      "message": "get_if doesn\u0027t work for nlohmann::json since it isn\u0027t technically a variant.\n\nI don\u0027t get how line 233 could throw. Could you explain more?",
      "parentUuid": "f56331e7_514cc4c6",
      "range": {
        "startLine": 228,
        "startChar": 8,
        "endLine": 228,
        "endChar": 31
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9394f06a_31f917d0",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 228,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-02T15:10:46Z",
      "side": 1,
      "message": "sorry, get_ptr is what I meant.  you’re right, get_if is the variant equivalent.\n\nif the type of downstreamChassisPaths isn’t object_t, nlohmann::json::begin will throw.",
      "parentUuid": "98ada7cf_7a7a4c2c",
      "range": {
        "startLine": 228,
        "startChar": 8,
        "endLine": 228,
        "endChar": 31
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b504ffe0_38d91e16",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 228,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2023-06-29T14:06:41Z",
      "side": 1,
      "message": "Why is get_ptr the best choice here? The docs say that I can\u0027t write data to the pointee, so I\u0027d still need to use the original reference instead of a pointer to actually insert the links.\n\nThe operator[] and is_array functions won\u0027t throw unless jsonValue wasn\u0027t an object or null, which seems very unlikely and isn\u0027t checked anywhere else in this file.\n\ndownstreamChassisPaths is an std::vector, so I still don\u0027t see how it could throw.",
      "parentUuid": "9394f06a_31f917d0",
      "range": {
        "startLine": 228,
        "startChar": 8,
        "endLine": 228,
        "endChar": 31
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "375241a1_ee83b328",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 228,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-30T21:06:07Z",
      "side": 1,
      "message": "\u003e Why is get_ptr the best choice here?\n\nBecause it only does the is array lookup once.\n\n\u003e The docs say that I can\u0027t write data to the pointee, so I\u0027d still need to use the original reference instead of a pointer to actually insert the links.\n\n......  We write data to the pointee all over the place.....  I was unaware the docs said it was undefined behavior.  Hyrums law strikes again.\n\n\u003e \n\u003e The operator[] and is_array functions won\u0027t throw unless jsonValue wasn\u0027t an object or null, which seems very unlikely and isn\u0027t checked anywhere else in this file.\n\u003e \n\u003e downstreamChassisPaths is an std::vector, so I still don\u0027t see how it could throw.\n\nACK.  This has approached the level of bikeshed, and pointing to the nlohmann docs is super interesting that we\u0027re relying on (at least what the docs say) is UB.",
      "parentUuid": "b504ffe0_38d91e16",
      "range": {
        "startLine": 228,
        "startChar": 8,
        "endLine": 228,
        "endChar": 31
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a661a5f_b44328a6",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 245,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-05-31T23:20:02Z",
      "side": 1,
      "message": "same here, no brace init please.",
      "range": {
        "startLine": 245,
        "startChar": 17,
        "endLine": 245,
        "endChar": 18
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf793c6c_d28381d6",
        "filename": "redfish-core/lib/chassis.hpp",
        "patchSetId": 5
      },
      "lineNbr": 245,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2023-06-02T07:36:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a661a5f_b44328a6",
      "range": {
        "startLine": 245,
        "startChar": 17,
        "endLine": 245,
        "endChar": 18
      },
      "revId": "ce47058de411769b7028eb269e5ea8e1d0251e05",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}