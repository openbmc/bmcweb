{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "070919b4_0d709778",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-28T23:21:14Z",
      "side": 1,
      "message": "There are both systemd and sdbusplus methods (that are similar) to explicitly encode/decode these paths.  We should be using them.",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "15d4de42_fa24d23c",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-03-31T09:50:31Z",
      "side": 1,
      "message": "Unfortunately, service-config-manager does not use sdbusplus to encode path, instead, it only replaces some specific characters. Meaning that it is not in sdbusplus-encodeable format.\n\nhttps://github.com/openbmc/service-config-manager/blob/ef5ceced0bee522da0fce5c759b9b733298d82bd/src/main.cpp#L135\n\nProbably we have to use this hardcode for now in bmcweb.\n\nLater I will try to use sdbusplus in service-config-manager, then use sdbusplus here.",
      "parentUuid": "070919b4_0d709778",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6e2135d_5e041fe3",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-01T03:13:40Z",
      "side": 1,
      "message": "\u003e Unfortunately, service-config-manager does not use sdbusplus to encode path, instead, it only replaces some specific characters. Meaning that it is not in sdbusplus-encodeable format.\n\u003e \n\u003e https://github.com/openbmc/service-config-manager/blob/ef5ceced0bee522da0fce5c759b9b733298d82bd/src/main.cpp#L135\n\u003e \n\u003e Probably we have to use this hardcode for now in bmcweb.\n\u003e \n\u003e Later I will try to use sdbusplus in service-config-manager, then use sdbusplus here.\n\nLets do that first, no sense in checking in code that we know is incorrect and will need to be changed.  It looks to my eye like a 5 line patch to fix the config-manager behavior to properly escape things, and we can interlock it with this patch.  If it\u0027s really a blocking issue, I can write those 5 lines and push a patch, but it might take me a day or two.",
      "parentUuid": "15d4de42_fa24d23c",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed96bcca_61e1176d",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-04-01T15:37:06Z",
      "side": 1,
      "message": "I\u0027ve submitted a patchset in service-config-manager to encode the object path with sdbusplus. Please help review it.\n\nhttps://gerrit.openbmc-project.xyz/q/topic:srvcfg-sdbusplus-encode\n\nI will submit patches in bmcweb later using sdbusplus to encode/decode. These should be merged after the service-config-manager patches merged.",
      "parentUuid": "f6e2135d_5e041fe3",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1a2e5f0_6ada24a4",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-04-01T16:39:03Z",
      "side": 1,
      "message": "I also created a temporarily patch of bmcweb switching to encode with sdbusplus but keep current code in case my changes not getting merged. If it is not needed, just simply ignore it.\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/52562",
      "parentUuid": "ed96bcca_61e1176d",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e6114c6_2b611161",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-06-30T08:00:51Z",
      "side": 1,
      "message": "The sdbusplus patch merged.",
      "parentUuid": "b1a2e5f0_6ada24a4",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe3c3fc3_6066c12c",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-28T23:21:14Z",
      "side": 1,
      "message": "Can we really ignore the instance here?  If there\u0027s more than one instance, should that be an error?",
      "range": {
        "startLine": 19,
        "startChar": 11,
        "endLine": 19,
        "endChar": 54
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38839afd_f89a9385",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-03-29T16:09:39Z",
      "side": 1,
      "message": "Nope. Some services will have multiple instances, like phosphor-ipmi-net will create instance for each ethernet port, and they are controlled individually in srvcfg-manager. In bmcweb, we need to set the value to all these instances.",
      "parentUuid": "fe3c3fc3_6066c12c",
      "range": {
        "startLine": 19,
        "startChar": 11,
        "endLine": 19,
        "endChar": 54
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "038f3160_6fd40a94",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-01T03:13:40Z",
      "side": 1,
      "message": "ACK.",
      "parentUuid": "38839afd_f89a9385",
      "range": {
        "startLine": 19,
        "startChar": 11,
        "endLine": 19,
        "endChar": 54
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69c50ae6_d5db4f25",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-04-01T15:37:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "038f3160_6fd40a94",
      "range": {
        "startLine": 19,
        "startChar": 11,
        "endLine": 19,
        "endChar": 54
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "088d9410_68858486",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 29,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-28T23:21:14Z",
      "side": 1,
      "message": "Please put this lambda, and the lambdas on lines 41 and 53 in their own method.  FWIW, the later two lambdas are also common, and can use a common method.",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 19
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee92f103_f0921659",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 29,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-03-31T09:50:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "088d9410_68858486",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 19
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41b23a2b_a440266c",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-28T23:21:14Z",
      "side": 1,
      "message": "nullptr dereference if entry.second.empty() is true.",
      "range": {
        "startLine": 59,
        "startChar": 37,
        "endLine": 59,
        "endChar": 45
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "287339f2_247f674d",
        "filename": "redfish-core/include/utils/service_utils.hpp",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-03-31T09:50:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "41b23a2b_a440266c",
      "range": {
        "startLine": 59,
        "startChar": 37,
        "endLine": 59,
        "endChar": 45
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "461f3d32_88d5fff7",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-03-28T23:21:14Z",
      "side": 1,
      "message": "All of these strings are present in the below struct.  Why are we duplicating them?\n\n\nnvm, I see why they\u0027re duplicated;  If you call the sdbusplus_encode functions, you can convert one of these to the other, and these won\u0027t be needed.",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 40,
        "endChar": 71
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "401b4335_eb1084d9",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-03-29T16:09:39Z",
      "side": 1,
      "message": "This is kept here temporarily. In following patches, these highlighed ones will be removed, all the services names hardcoded here will be in dbus-encoded format to reduce calls to sdbusplus_encode functions.",
      "parentUuid": "461f3d32_88d5fff7",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 40,
        "endChar": 71
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12ccf1c9_0bb0750e",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-01T03:13:40Z",
      "side": 1,
      "message": "I haven\u0027t reviewed the later patches, but assuming what you say is true, that\u0027s ok.  So long as we don\u0027t end up duplicating this information in the final patch in the series.",
      "parentUuid": "401b4335_eb1084d9",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 40,
        "endChar": 71
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f50e8b08_19f2ba53",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-01T14:23:43Z",
      "side": 1,
      "message": "I looked through the rest of the series, where are these ones removed?",
      "parentUuid": "12ccf1c9_0bb0750e",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 40,
        "endChar": 71
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad37ed1d_bdbf22c6",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1001252
      },
      "writtenOn": "2022-04-01T16:28:33Z",
      "side": 1,
      "message": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/51753/6/redfish-core/lib/network_protocol.hpp\n\nThis one. I have to keep these strings here as finding it in the array brings extra cost.",
      "parentUuid": "f50e8b08_19f2ba53",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 40,
        "endChar": 71
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c49110a_1622d19b",
        "filename": "redfish-core/lib/network_protocol.hpp",
        "patchSetId": 8
      },
      "lineNbr": 40,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-01T17:40:19Z",
      "side": 1,
      "message": "Looks like this is now fixed.  Resolving.",
      "parentUuid": "ad37ed1d_bdbf22c6",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 40,
        "endChar": 71
      },
      "revId": "240c3cdd01ef363e2321d4c584b4f7d5f3c4f710",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}