{
  "comments": [
    {
      "key": {
        "uuid": "3d29db32_fa744cad",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 122,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-05-09T18:11:51Z",
      "side": 1,
      "message": "Rename to timeoutTimeSeconds just to make it clear?",
      "range": {
        "startLine": 122,
        "startChar": 70,
        "endLine": 122,
        "endChar": 74
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44449c19_c7658831",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 122,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-17T19:27:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3d29db32_fa744cad",
      "range": {
        "startLine": 122,
        "startChar": 70,
        "endLine": 122,
        "endChar": 74
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8f9f8e54_e5bb4427",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-05-09T18:11:51Z",
      "side": 1,
      "message": "Looking at this, using this constructor actually doesn\u0027t do anything.... I wonder why it\u0027s here.\n\nNot your problem, but I suspect that statement can be deleted.",
      "range": {
        "startLine": 133,
        "startChar": 22,
        "endLine": 133,
        "endChar": 56
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70008edf_c8cf029d",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 133,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-17T19:27:18Z",
      "side": 1,
      "message": "Yeah, it is a bit weird to pass in the timeout to the constructor and then pass it in again in the next statement. I\u0027ll remove and see what happens.",
      "parentUuid": "8f9f8e54_e5bb4427",
      "range": {
        "startLine": 133,
        "startChar": 22,
        "endLine": 133,
        "endChar": 56
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8fb5c912_67a47735",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 207,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-05-09T18:11:51Z",
      "side": 1,
      "message": "This is going to duplicate the error messages, right?\n\nI wonder if the std::optional pattern would give us better behavior:\n\nstd::optional\u003cstd::string\u003e transferProtocol;\nstd::optional\u003cstd::string\u003e imageURI;\nstd::shared_ptr\u003cAsyncResp\u003e asyncResp \u003d std::make_shared\u003cAsyncResp\u003e(res);\n\nBMCWEB_LOG_DEBUG \u003c\u003c \"Enter UpdateService.SimpleUpdate doPost\";\n\nif (!json_util::readJson(req, asyncResp-\u003eres, \"TransferProtocol\",\n                        transferProtocol, \"ImageURI\", imageURI))\n{\n     BMCWEB_LOG_ERROR \u003c\u003c \"Bad simple update request\";\n     return;\n}\n\nif (!transferProtocol){\n    messages::actionParameterMissing(asyncResp-\u003eres,\n                                     \"UpdateService.SimpleUpdate\",\n                                     \"TransferProtocol\");\n    return\n}\n\nif (!imageURI){\n    messages::actionParameterMissing(asyncResp-\u003eres,\n                                     \"UpdateService.SimpleUpdate\",\n                                     \"ImageURI\");\n    return;\n}\n\n\n\nI\u0027m not sure how much I really care, as we\u0027re talking about error codes, but the above might be something to consider if you\u0027re seeing duplicated errors.",
      "range": {
        "startLine": 205,
        "startChar": 0,
        "endLine": 207,
        "endChar": 74
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98591032_ef3d2241",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 207,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-17T19:27:18Z",
      "side": 1,
      "message": "Yeah, this did cause the returned error when a param was missing to have both PropertyMissing and ActionParameterMissing in the return error. I\u0027ll just remove the extra log. Seems to be the additional logic you have above of checking transferProtocol and imageURI is a bit redundant with the checks I already have? The readJson will at least ensure the parameter is present and something has been passed for them then my code below ensures the format is correct for them.",
      "parentUuid": "8fb5c912_67a47735",
      "range": {
        "startLine": 205,
        "startChar": 0,
        "endLine": 207,
        "endChar": 74
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b0b68cf_a38e512d",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 224,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-05-09T18:11:51Z",
      "side": 1,
      "message": "Did you get any answers from the Redfish guys on this?\n\n\nI wonder if the usecase validator has any tests for this.",
      "range": {
        "startLine": 224,
        "startChar": 0,
        "endLine": 224,
        "endChar": 52
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb4cadaa_2b33c977",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 224,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-10T19:32:09Z",
      "side": 1,
      "message": "I put up a forum post at https://redfishforum.com/thread/193/imageuri-updateservice. Lets see if we get anything back there.",
      "parentUuid": "1b0b68cf_a38e512d",
      "range": {
        "startLine": 224,
        "startChar": 0,
        "endLine": 224,
        "endChar": 52
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42e6d813_81b681de",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 224,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-17T19:27:18Z",
      "side": 1,
      "message": "They responded that with our implementation here, where we require both ImageURI and TRansferProtocol that the correct format is what we\u0027ve got here:\n\"ImageURI\": \"\u003cserver ip\u003e/\u003cfirmware image\u003e\",",
      "parentUuid": "bb4cadaa_2b33c977",
      "range": {
        "startLine": 224,
        "startChar": 0,
        "endLine": 224,
        "endChar": 52
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8f6d3f7_ce39a68c",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 231,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-05-09T18:11:51Z",
      "side": 1,
      "message": "This should be the imageURI variable to get the  right behavior.",
      "range": {
        "startLine": 231,
        "startChar": 17,
        "endLine": 231,
        "endChar": 44
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8e41494_6ce48149",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 231,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-17T19:27:18Z",
      "side": 1,
      "message": "hmm, I don\u0027t think so? The trace in that error msg is:\n\n\"The value \" + arg1 + \" for the parameter \" + arg2 +\n\" in the action \" + arg3 +\n\" is of a different type than the parameter can accept.\"}\n\nSeems like arg3 should be the name of the action we\u0027re in?",
      "parentUuid": "b8f6d3f7_ce39a68c",
      "range": {
        "startLine": 231,
        "startChar": 17,
        "endLine": 231,
        "endChar": 44
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "829c3e4a_584d5ffa",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-05-09T18:11:51Z",
      "side": 1,
      "message": "I don\u0027t think we can let the HTTP connection go idle for up to 2 minutes.  I believe this is where Redfish would recommend returning a task service entry to allow checking status.",
      "range": {
        "startLine": 242,
        "startChar": 52,
        "endLine": 242,
        "endChar": 55
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d233a78_9f5b1347",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-10T19:32:09Z",
      "side": 1,
      "message": "Yeah, this is def where the task feature comes into play. For now should we just return to the caller once the TFTP download has started (vs. completed)?",
      "parentUuid": "829c3e4a_584d5ffa",
      "range": {
        "startLine": 242,
        "startChar": 52,
        "endLine": 242,
        "endChar": 55
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4c27941_2e8b8a5f",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2019-05-17T19:27:18Z",
      "side": 1,
      "message": "From a users standpoint, I kind of like the connection hanging until the download has completed. But could def be a user preference. What do you want me to do? I\u0027m up for anything but enabling tasks :)",
      "parentUuid": "6d233a78_9f5b1347",
      "range": {
        "startLine": 242,
        "startChar": 52,
        "endLine": 242,
        "endChar": 55
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "908003f1_04ec1a93",
        "filename": "redfish-core/lib/update_service.hpp",
        "patchSetId": 4
      },
      "lineNbr": 303,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-05-09T18:11:51Z",
      "side": 1,
      "message": "Good.",
      "range": {
        "startLine": 302,
        "startChar": 0,
        "endLine": 303,
        "endChar": 20
      },
      "revId": "43a1e5a9fcc0103053d320a6a62f8a74cf9384e2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}