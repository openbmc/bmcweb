{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "0d0d4ac1_f71791af",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T17:23:03Z",
      "side": 1,
      "message": "I\u0027ve fixed quite a few issues with this patchset.  Please re-review and retest.",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a89215d2_f5f18830",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 1001633
      },
      "writtenOn": "2023-06-26T17:56:56Z",
      "side": 1,
      "message": "Thank you!\nI will retest.",
      "parentUuid": "0d0d4ac1_f71791af",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7ca9824_2efe5cd9",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 162,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T17:23:03Z",
      "side": 1,
      "message": "This doesn\u0027t match phosphor-dbus-interfaces, but also then doesn\u0027t appear to be used?\n\nI\u0027ve removed it.",
      "range": {
        "startLine": 162,
        "startChar": 67,
        "endLine": 162,
        "endChar": 72
      },
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41910a02_a96bb6ea",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 174,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-06-23T15:42:47Z",
      "side": 1,
      "message": "I thought on https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61110 we decided that ::invalid would mean an error",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71beac27_b0c7c2f6",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 174,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T15:58:11Z",
      "side": 1,
      "message": "Technically it\u0027s #2 on this this is where we really documented it.\n\nhttps://github.com/openbmc/bmcweb/blob/master/DBUS_USAGE.md",
      "parentUuid": "41910a02_a96bb6ea",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8674b1bc_19651249",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 195,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-06-23T15:42:47Z",
      "side": 1,
      "message": "I thought on https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61110 we decided that ::invalid would mean an error",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2965bc0_ca13be3d",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 195,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T17:23:03Z",
      "side": 1,
      "message": "It looks like https://github.com/openbmc/bmcweb/blob/7a54389415ea264ffdd9605002ee6f61bd6a995f/redfish-core/include/utils/pcie_util.hpp#L130\n\nimplements nullopt as \"bad interface\" and invalid as optional, so as written, this code looks correct.",
      "parentUuid": "8674b1bc_19651249",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9804b4f0_5e511b64",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 195,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-06-26T20:55:15Z",
      "side": 1,
      "message": "I don\u0027t care much but we aren\u0027t being consistent..\n\nAt https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61110/9/redfish-core/lib/storage.hpp\n\nWe are doing Invalid \u003d internalError\n\n                std::optional\u003cprotocol::Protocol\u003e proto \u003d\n                    convertDriveProtocol(*value);\n                if (!proto)\n                {\n                    BMCWEB_LOG_WARNING \u003c\u003c \"Unknown DrivePrototype Interface: \"\n                                       \u003c\u003c *value;\n                    continue;\n                }\n                if (*proto \u003d\u003d protocol::Protocol::Invalid)\n                {\n                    messages::internalError(asyncResp-\u003eres);\n                    return;\n                }\n\n\nHere we are doing, nullopt \u003d internalError and Invalid means leave it off  \n\n    std::optional\u003cpcie_slots::SlotTypes\u003e redfishSlotType \u003d\n        pcie_util::dbusSlotTypeToRf(slotType);\n    if (!redfishSlotType)\n    {\n        BMCWEB_LOG_ERROR \u003c\u003c \"Invalid PCIeSlot type\";\n        messages::internalError(res);\n        return;\n    }\n    if (*redfishSlotType !\u003d pcie_slots::SlotTypes::Invalid)\n    {\n        res.jsonValue[\"Slot\"][\"SlotType\"] \u003d *redfishSlotType;\n    }\n\nAt https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61110\n Ed Tanous \n\nI have a minor preference for this one, because \"invalid\" means that the input was invalid, nullopt means there\u0027s no output.\n\nInvalid is different than not present. But my preference here isn\u0027t strong; The only thing that\u0027s important is that we follow DBUS_USAGE.md as far as the user is concerned.",
      "parentUuid": "e2965bc0_ca13be3d",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06fbea58_45f4b9ba",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 226,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-06-23T15:42:47Z",
      "side": 1,
      "message": "you do ec.value below, ec.value for consistency ?\nAlso can you add a space after the  getAssociatedSubTreePaths",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8c381aa_a215b219",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 226,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T17:23:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "06fbea58_45f4b9ba",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5034f06c_a5a64d75",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 249,
      "author": {
        "id": 1001604
      },
      "writtenOn": "2023-06-22T13:13:53Z",
      "side": 1,
      "message": "I think - in many places, bmcweb seems preferring like this coding style .\n```\n        if (endpoints.size() !\u003d 1)\n        {\n             if (endpoints.size() \u003e 1)\n             {\n                  BMCWEB_LOG_ERROR\n                      \u003c\u003c \"PCIeDevice is associated with more than one PCIeSlot: \"\n                      \u003c\u003c endpoints.size();\n                  messages::internalError(asyncResp-\u003eres);\n                  return;\n             }\n\n             // If the device doesn\u0027t have an association, return without PCIe\n            // Slot properties\n            BMCWEB_LOG_DEBUG \u003c\u003c \"PCIeDevice is not associated with PCIeSlot\";\n            return;\n        }\n        //\n        callback(endpoints[0]);\n```",
      "range": {
        "startLine": 232,
        "startChar": 0,
        "endLine": 249,
        "endChar": 9
      },
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5864c43_cf0b8164",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 249,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T17:23:03Z",
      "side": 1,
      "message": "I\u0027ve changed this to the prefered coding style.",
      "parentUuid": "5034f06c_a5a64d75",
      "range": {
        "startLine": 232,
        "startChar": 0,
        "endLine": 249,
        "endChar": 9
      },
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "83a1bfe4_cb3e5cea",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 279,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T17:23:03Z",
      "side": 1,
      "message": "This capture doesn\u0027t look like it\u0027s used?",
      "range": {
        "startLine": 279,
        "startChar": 20,
        "endLine": 279,
        "endChar": 34
      },
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d60f6d51_11f5157b",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 288,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2023-06-23T15:42:47Z",
      "side": 1,
      "message": "ec.value for consistency",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66dce4f4_d58d2795",
        "filename": "redfish-core/lib/pcie.hpp",
        "patchSetId": 23
      },
      "lineNbr": 288,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-26T17:23:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d60f6d51_11f5157b",
      "revId": "b79a6721fe911e8fbe5cf874b89edb66acf7e9c7",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}