{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6a4d4306_f08e2ca4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-06T15:10:43Z",
      "side": 1,
      "message": "Does redfish differentiate in this way?  Does it need to?  It seems like if we only set StaticNTPServers then we would now be missing servers in the list?",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "711cbc77_8583c687",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2022-04-06T16:34:52Z",
      "side": 1,
      "message": "Redfish does not have any way to differentiate. I will be creating a DMTF forum question soon for this.\n\nIt needs to have the schema in similar way - the Nameservers are defined. They should also probably move the NTPServers property to the interface level as per https://github.com/systemd/systemd/issues/22384. \n\nNTPServers property at NetworkProtocol resource will list both the Static and DHCP provided IPs - once we have the phosphor-networkd commit https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-networkd/+/50156 merged.\n\nThis bmcweb commit is to set the read-write Dbus property \u0027StaticNTPServers\u0027 when the user sends PATCH. The GET handler will pull the read-only Dbus property \u0027NTPServers\u0027 which will list all the active NTP servers at the BMC",
      "parentUuid": "6a4d4306_f08e2ca4",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41e66c4d_6d03d94f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-07T03:03:06Z",
      "side": 1,
      "message": "\u003e Redfish does not have any way to differentiate. I will be creating a DMTF forum question soon for this.\n\u003e \n\u003e It needs to have the schema in similar way - the Nameservers are defined. They should also probably move the NTPServers property to the interface level as per https://github.com/systemd/systemd/issues/22384. \n\u003e \n\u003e NTPServers property at NetworkProtocol resource will list both the Static and DHCP provided IPs - once we have the phosphor-networkd commit https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-networkd/+/50156 merged.\n\u003e \n\u003e This bmcweb commit is to set the read-write Dbus property \u0027StaticNTPServers\u0027 when the user sends PATCH. The GET handler will pull the read-only Dbus property \u0027NTPServers\u0027 which will list all the active NTP servers at the BMC\n\nI didn\u0027t quite understand that subtlety;  It seems like we would want totally separate parameters for the two, right?  Otherwise PATCH would not handle the restful update properly (we would set a list of servers, but on the next GET the server list would be different).\n\nLets follow up on the redfish discussion.",
      "parentUuid": "711cbc77_8583c687",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72d6cd87_fe120233",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2022-04-07T07:01:18Z",
      "side": 1,
      "message": "Created https://redfishforum.com/thread/637/differentiate-static-dhcp-provided-servers",
      "parentUuid": "41e66c4d_6d03d94f",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11de13fb_ea862929",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-07T16:13:59Z",
      "side": 1,
      "message": "To be clear;  The test I would expect you to run is on a system with DHCP-assigned ntp servers:\n\nPATCH NTPSevers: [\"192.168.1.1\"]\n\nGET NTPServers should return [\"192.168.1.1\"].\n\nThis is essentially the requirement for any PATCH operation on the tree.  As written, it doesn\u0027t look like it would do that.",
      "parentUuid": "72d6cd87_fe120233",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f871e649_1a82b21f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2022-04-08T10:04:50Z",
      "side": 1,
      "message": "Yes. DMTF said that they will look into this further.\n\nOnce we get new parameters added at EthernetInterface level, then PATCH to set this Dbus will need to be moved to ethernet.hpp. It would look like:\n\nPATCH StaticNTPSevers: [\"192.168.1.1\"]\nGET StaticNTPServers: [\"192.168.1.1\"]\nGET NTPServers: [\"192.168.1.1\", \"10.10.1.1\"] \u003d\u003d\u003e a combined list of static \u0026 dhcp provided values\n\nBut until then we may have to work with the current approach only ?",
      "parentUuid": "11de13fb_ea862929",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7fb1c007_566f86ca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-08T16:16:50Z",
      "side": 1,
      "message": "\u003e Yes. DMTF said that they will look into this further.\n\nGreat, feel free to tag me in those conversations if necessary, otherwise I\u0027ll assume you have it handled.\n\n\u003e \n\u003e Once we get new parameters added at EthernetInterface level, then PATCH to set this Dbus will need to be moved to ethernet.hpp. It would look like:\n\u003e \n\u003e PATCH StaticNTPSevers: [\"192.168.1.1\"]\n\u003e GET StaticNTPServers: [\"192.168.1.1\"]\n\u003e GET NTPServers: [\"192.168.1.1\", \"10.10.1.1\"] \u003d\u003d\u003e a combined list of static \u0026 dhcp provided values\n\n\nAnd to be clear PATCH NTPServers: [\"192.168.1.1\"] should return on GET exactly what was patched [\"192.168.1.1\"]\n\n\u003e \n\u003e But until then we may have to work with the current approach only ?\n\nBy \"current approach\" do you mean what\u0027s on master, or what\u0027s in this patch?",
      "parentUuid": "f871e649_1a82b21f",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fbfbd2c_67eb05d8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2022-04-08T17:18:35Z",
      "side": 1,
      "message": "\u003e Created https://redfishforum.com/thread/637/differentiate-static-dhcp-provided-servers\n\nRedfish discusses these Tuesday / Thursday, let\u0027s let them come back again (give them a week) before we decide what we want to do (even in the short term). If they are going to fix in an upcoming release, I vote just wait and continue with what we have on master",
      "parentUuid": "7fb1c007_566f86ca",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73b0dd74_ebd5327c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-08T17:58:54Z",
      "side": 1,
      "message": "\u003e... just wait and continue with what we have on master\n\n+1",
      "parentUuid": "1fbfbd2c_67eb05d8",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6e1b36b_c399fd8a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2022-04-11T04:43:29Z",
      "side": 1,
      "message": "Sure. Sounds good.",
      "parentUuid": "73b0dd74_ebd5327c",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85520831_0979a83a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2022-06-05T11:59:43Z",
      "side": 1,
      "message": "DMTF is not yet released the new schemas for this. Networkd commit is +2ed already. Submitting that will break the bmcweb - as the existing property is changed to read-only. \nRebased this commit - to get this going until we have the right schema. There is only change to the dbus property that we are writing to. No changes to the existing redfish commands.",
      "parentUuid": "e6e1b36b_c399fd8a",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f89501d2_7d612716",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-06-06T16:38:08Z",
      "side": 1,
      "message": "Please link pointers to the merged PR in the Redfish schema repo.  Once that is merged, we can talk about how to roll this change out.",
      "parentUuid": "85520831_0979a83a",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bf09429_93f79525",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2022-04-06T15:10:43Z",
      "side": 1,
      "message": "50/72 please.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 14,
        "endChar": 0
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2c4407d_06f9fcfe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2022-06-05T12:02:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5bf09429_93f79525",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 14,
        "endChar": 0
      },
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f4c4c07_5dc495c2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2022-04-06T07:05:49Z",
      "side": 1,
      "message": "This commit depends on https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/50887 and https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-networkd/+/50156",
      "revId": "9e0d70859cba23b8339a63aca217dfb7dd801c0e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}