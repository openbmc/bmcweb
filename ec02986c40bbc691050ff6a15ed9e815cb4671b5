{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "eae7e010_1116215c",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-10-10T17:04:51Z",
      "side": 1,
      "message": "I missed this in the review.  This is wrong because it:\n1. Hardcodes a privilege level\n2. Hardcodes an incorrect privilege level\n\n\nplease fix to update to redfish::privileges::postManagerAccount",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fa58aa4_79b08d56",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-10-11T14:55:13Z",
      "side": 1,
      "message": "So I feel what Redfish has is incomplete...\n`const static auto\u0026 postManagerAccount \u003d privilegeSetConfigureUsers;`\n\n\nThey need to add a section here for this like they did Password\nFrom https://redfish.dmtf.org/registries/Redfish_1.5.0_PrivilegeRegistry.json \n```\n            \"PropertyOverrides\": [\n                {\n                    \"Targets\": [\n                        \"Password\"\n                    ],\n                    \"OperationMap\": {\n                        \"PATCH\": [\n                            {\n                                \"Privilege\": [\n                                    \"ConfigureUsers\"\n                                ]\n                            },\n                            {\n                                \"Privilege\": [\n                                    \"ConfigureSelf\"\n                                ]\n                            }\n                        ]\n                    }\n                }\n            ]\n        },\n```\n\nI opened Redfish issue 6245 for this",
      "parentUuid": "eae7e010_1116215c",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee93082d_b1855ac4",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-10-11T15:03:55Z",
      "side": 1,
      "message": "Redfish also should call this out in the spec like they do for password change, etc",
      "parentUuid": "6fa58aa4_79b08d56",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97e22e6f_02c174eb",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-10-11T18:12:42Z",
      "side": 1,
      "message": "Redfish said \"Currently the privilege registry does not include specific methods to assign privileges for actions. There is a known issue for this, but no proposal to solve this gap yet.\n\nHowever, \"ConfigureSelf\" is the right thing to do for this.\". Let\u0027s at least add a TODO here / explain that we need Redfish\u0027s help to solve this",
      "parentUuid": "ee93082d_b1855ac4",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3bb5777b_4b8cbd68",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-10-11T20:48:15Z",
      "side": 1,
      "message": "If we want to allow ConfigureUsers and ConfigureSelf for the moment, we can add a TODO until redfish solves this and merge, but I\u0027m not comfortable adding only ConfigureSelf, because the admin generally should have \"do everything\" capability, and allowing only ConfigureSelf would break that ideal.  If Redfish goes and changes that, so be it, we\u0027ll fix the permissions then.",
      "parentUuid": "97e22e6f_02c174eb",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51be65e2_79c84d50",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-10-14T01:21:55Z",
      "side": 1,
      "message": "You think an admin should be able to GenerateSecretKey and VerifyTimeBasedOneTimePassword for any user ? \nThat doesn\u0027t sound right.. \n\nRedfish (Mike Raineri, co-chair Redfish) stated \"However, \"ConfigureSelf\" is the right thing to do for this.\"\n\nI think we should start there..\n\nI think this code is correct \n```\n .privileges({{\"ConfigureSelf\"}})\n```\nbut needs a todo / explain we are waiting on Redfish",
      "parentUuid": "3bb5777b_4b8cbd68",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "15439a2b_43a4f10b",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-10-14T02:19:17Z",
      "side": 1,
      "message": "you misunderstand me.  I think:\n1 we shouldn’t have manually entered permissions.  I have no interest in maintaining them.\n2. for all other cases as a rule, actions follow the post permissions for the resource.\n\nwe can debate if this is the right thing to do in general, but I’m not interested in debating it on a case by case basis.\n\nwe can:\n1. wait for dmtf to solve this permissions issue, and hold up this patchset in review until they do\n2. get this patchset checked in using the rule we’ve followed everywhere else, even if we think it’s “wrong” (note that one comment from Mike doesn’t make it wrong in the spec), and put together another patchset once dmtf fixes this.\n\n\nI’m not interested in adding more of these manually written non standard cases.  they make reviews too hard to do correctly.",
      "parentUuid": "51be65e2_79c84d50",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "402af365_c33f9e86",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-10-14T02:51:25Z",
      "side": 1,
      "message": "Looks like DMTF considers this as a known issue and no proposal to solve this gap yet.\n\nCan we please allow this patchset with TODO section, we will fix it soon after DMTF fixes.",
      "parentUuid": "15439a2b_43a4f10b",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d32a98a4_9ac2f951",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-10-14T02:58:25Z",
      "side": 1,
      "message": "\u003e Looks like DMTF considers this as a known issue and no proposal to solve this gap yet.\n\n\nyea, we’ve known about this issue since we built the first action.\n\n\u003e \n\u003e Can we please allow this patchset with TODO section, we will fix it soon after DMTF fixes.\n\nno thank you.  TODO in code has no ability to enforce that people follow through on their promises (see the other TODOs for permissions issues that were never fixed).\n\nagain, check this in using the generated privileges, and once this is solved by dmtf, we’ll fix in the generated privilege registry.  assuming this second part is followed through, it won’t be “wrong” for very long.",
      "parentUuid": "402af365_c33f9e86",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fcb826c9_3270fcec",
        "filename": "redfish-core/lib/account_service.hpp",
        "patchSetId": 15
      },
      "lineNbr": 2555,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-10-14T05:12:30Z",
      "side": 1,
      "message": "IMO, I don\u0027t see any issue in giving admin privilege to GeneratSecretKey for other users, even though that is not the intended use case. We can still restrict it though UI flow. So continue with current redfish limitation look fine to me.",
      "parentUuid": "d32a98a4_9ac2f951",
      "range": {
        "startLine": 2555,
        "startChar": 20,
        "endLine": 2555,
        "endChar": 38
      },
      "revId": "ec02986c40bbc691050ff6a15ed9e815cb4671b5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}