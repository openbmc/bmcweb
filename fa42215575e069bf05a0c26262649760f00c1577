{
  "comments": [
    {
      "key": {
        "uuid": "e7ba709d_cbbaeb3f",
        "filename": "include/ibm/utils.hpp",
        "patchSetId": 22
      },
      "lineNbr": 20,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-12T18:41:29Z",
      "side": 1,
      "message": "1st check your error codes.  ec seems ignored here.\n2nd This check is redundant.  Just catch the \"directory already exists\" error when you call create_directories.  Otherwise, there\u0027s a possible race condition if the directory is deleted between the calls.",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 49
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c65d486_28411132",
        "filename": "include/ibm/utils.hpp",
        "patchSetId": 22
      },
      "lineNbr": 20,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-16T04:42:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e7ba709d_cbbaeb3f",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 49
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ee25507_d61c5477",
        "filename": "include/ibm/utils.hpp",
        "patchSetId": 22
      },
      "lineNbr": 22,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-12T18:41:29Z",
      "side": 1,
      "message": "ignored error code.  If the directory wasn\u0027t created, you shouldn\u0027t be trying to set permissions on it.",
      "range": {
        "startLine": 22,
        "startChar": 50,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46e41b7b_f888f32a",
        "filename": "include/ibm/utils.hpp",
        "patchSetId": 22
      },
      "lineNbr": 22,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2021-03-15T15:11:37Z",
      "side": 1,
      "message": "Still not resolved in the latest patch set.",
      "parentUuid": "7ee25507_d61c5477",
      "range": {
        "startLine": 22,
        "startChar": 50,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c749468_c11ae821",
        "filename": "include/ibm/utils.hpp",
        "patchSetId": 22
      },
      "lineNbr": 22,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-16T04:42:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ee25507_d61c5477",
      "range": {
        "startLine": 22,
        "startChar": 50,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c788ada_9b549526",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-12T18:41:29Z",
      "side": 1,
      "message": "Why are the unit tests interacting with the filesystem at all?  I would expect some mocks for the filesystem instead of trying to rely on temp directories.\n\nWith that said, this code is no worse, but I\u0027d like to see some discussion on why this was done originally, so when we get to more broad unit tests in bmcweb, we can have a generalized solution for this kind of thing.",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3027c0e4_2952f161",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-16T04:42:24Z",
      "side": 1,
      "message": "Sure Ed",
      "parentUuid": "1c788ada_9b549526",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae87ade9_161c8561",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2021-03-16T20:04:27Z",
      "side": 1,
      "message": "I still don\u0027t see this addressed?",
      "parentUuid": "3027c0e4_2952f161",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d75690dc_67e0c8ff",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-17T04:39:51Z",
      "side": 1,
      "message": "Gunnar. Its a future work. There are other places where the UT is done by creating files and dirs at tmp path. There needs to be a discussion for a different approach and every place a rework is needed. Along with that this part of the code also can be reworked.",
      "parentUuid": "ae87ade9_161c8561",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b80d34c1_e202e7e8",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2021-03-18T15:52:31Z",
      "side": 1,
      "message": "Probably best to explain this in the initial reply. \n\nIs the plan to do this in a later commit?",
      "parentUuid": "d75690dc_67e0c8ff",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f7f8f58_dbc34b2b",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-03-20T17:58:47Z",
      "side": 1,
      "message": "What I don\u0027t like here, is that it\u0027s covering up the root cause.  The root of the problem here is that you\u0027re using the filesystem in a \"unit\" test, which is a general anti-pattern.  IMO, commit moves in the wrong direction by simply covering the issue up with a temp directory.  I\u0027d like to see some discussion on this \"future work\" and how this commit enables the future work, instead of going further down the incorrect path.\n\n\" I\u0027d like to see some discussion on why this was done originally....\"\n\nWas what I wrote a week ago, and I still haven\u0027t seen that.",
      "parentUuid": "b80d34c1_e202e7e8",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b10d9f5_6566d5bd",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-21T04:05:24Z",
      "side": 1,
      "message": "I did not intend to cover up any comments/root cause. But did not understand that there should be a root cause solution for using the /tmp filesystem before this commit goes ahead.\n\nSent community email with title \"UnitTest using the /tmp file system\" to discuss the same.",
      "parentUuid": "7f7f8f58_dbc34b2b",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dc9f897_dbbb4246",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-23T06:26:40Z",
      "side": 1,
      "message": "The community email does not have any replies yet.\nI have other priority work items to work on, so I will not be able to rework on this comment here in this commit for couple of more months.",
      "parentUuid": "3b10d9f5_6566d5bd",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c438fe6d_af318def",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2021-03-24T06:09:56Z",
      "side": 1,
      "message": "\u003eWhy are the unit tests interacting with the filesystem at all?  I would expect some mocks for the filesystem instead of trying to rely on temp directories.\n\nIt depends on case to case basis.\n\nIf we have some code which reads from the file and populate the in memory objects from it, then it is needed otherwise not.\n\nEg: Restoring of Dbus objects from the file system.\n\nHowever in this case I don\u0027t see that we are doing something else apart from creating the directory using std::filesyetem API..\n\nOur intent should not be to test the file system API, hence this test case doesn\u0027t make sense.",
      "parentUuid": "3dc9f897_dbbb4246",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7eb59918_38d0bc33",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-24T09:15:31Z",
      "side": 1,
      "message": "Done.\nI have removed the test cases",
      "parentUuid": "c438fe6d_af318def",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cdd0bb09_84c5d451",
        "filename": "redfish-core/ut/lock_test.cpp",
        "patchSetId": 22
      },
      "lineNbr": 37,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2021-03-29T05:11:40Z",
      "side": 1,
      "message": "@Reviewers - There are responses from the community regarding this. Please share your views as well, so that we can get to a new design for bmcweb to handle the file management related unit-tests",
      "parentUuid": "7eb59918_38d0bc33",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 61
      },
      "revId": "fa42215575e069bf05a0c26262649760f00c1577",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}