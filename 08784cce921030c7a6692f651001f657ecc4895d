{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ba91424a_3b9857d5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-01-03T03:25:51Z",
      "side": 1,
      "message": "What does this mean?",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5daf966_2511b85b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-01-04T03:18:56Z",
      "side": 1,
      "message": "The config above the user check\n```\naccount  [success\u003dok perm_denied\u003d1 default\u003dignore] pam_localuser.so\n```",
      "parentUuid": "ba91424a_3b9857d5",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e41c192b_551a1422",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-01-03T03:25:51Z",
      "side": 1,
      "message": "It looks like this got checked in a few years ago, and clearly has never worked as intended.  (Looks like it was when James was the maintainer).\n\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/32883\n\nWe need to be careful here about backward compatibility, given that there are VERY likely:\n\n1. Folks using bmcweb for non-redfish usages (and should be relying on the web group)\n2. Folks that don\u0027t have either group assigned to their users they created long ago.\n\nIf we suddenly start enforcing this requirement, without any migrations, it\u0027s likely we will lock some people out of their systems.\n\nHave you considered the possibility this might cause a breaking change to some people?\n\nHave you considered that we might need two pam files, one for checking the web user group and one for checking the redfish user group (or checking for both)?",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f994b98_fd2eaad0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-01-04T03:18:56Z",
      "side": 1,
      "message": "I am not sure if the above cases really exist:\n\n\u003e Folks using bmcweb for non-redfish usages (and should be relying on the web group)\n\nI think we use both redfish and web groups long time ago, in most cases users create a user with both groups.\n\n\u003e Folks that don\u0027t have either group assigned to their users they created long ago.\n\nI would guess such BMC systems won\u0027t upgrade to latest OpenBMC anyway.\n\n\n\u003e Have you considered the possibility this might cause a breaking change to some people?\n\nIt\u0027s a valid concern.\nIt\u0027s more like release process, e.g. in such case we could put messages in the release notes indicating that this upgrade should do a factory reset.\n\n\n\u003e Have you considered that we might need two pam files, one for checking the web user group and one for checking the redfish user group (or checking for both)?\n\nI am not sure. In practice we do not create a user with a single web or redfish group, instead, we create users with both groups, or no web nor redfish groups.\nNot sure how other users manage the BMC users.",
      "parentUuid": "e41c192b_551a1422",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da64aded_720c4a4e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2024-01-04T15:33:06Z",
      "side": 1,
      "message": "\u003e\u003e  Have you considered the possibility this might cause a breaking change to some people?\n\n\u003e It\u0027s a valid concern.\n\u003e It\u0027s more like release process, e.g. in such case we could put messages in the \u003e release notes indicating that this upgrade should do a factory reset.\n\nCan we get something out to the mailing list here?",
      "parentUuid": "5f994b98_fd2eaad0",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ec232de_e0563ba7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-01-09T17:54:28Z",
      "side": 1,
      "message": "\u003e I think we use both redfish and web groups long time ago, in most cases users create a user with both groups.\n\nGiven that there\u0027s a possibility we brick peoples BMCs here, we need some amount of research into the history of user management done to back this statement up.  If you\u0027ve already done that work, lets just get it documented with commit sha1s and expected behaviors.  Just to be clear, bricking someones bmc by locking them out of it is unacceptable in all cases.\n\n\u003e It\u0027s more like release process, e.g. in such case we could put messages in the release notes indicating that this upgrade should do a factory reset.\n\nA factory reset has never been required in any other bmc release.  I\u0027m not sure why we would start requiring one now.  If you would like to change that, we need to start a mailing list discussion.\n\n\u003e I am not sure. In practice we do not create a user with a single web or redfish group, instead, we create users with both groups, or no web nor redfish groups.\n\nWe didn\u0027t always create users in both groups.",
      "parentUuid": "da64aded_720c4a4e",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7902c21_6b7b6d1a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-01-10T02:56:45Z",
      "side": 1,
      "message": "Sent https://lore.kernel.org/openbmc/CAGm54UHeY-gg_otQ_UOTLCqO52cqsooTkvW6VBHpmOWyCPSuxQ@mail.gmail.com/T/#u to discuss the potential impact.",
      "parentUuid": "2ec232de_e0563ba7",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18c6aa93_162a6000",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-01-15T18:28:54Z",
      "side": 1,
      "message": "Thank you.",
      "parentUuid": "c7902c21_6b7b6d1a",
      "revId": "08784cce921030c7a6692f651001f657ecc4895d",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}