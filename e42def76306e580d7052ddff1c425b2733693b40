{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7a9b9cf4_a10842d7",
        "filename": "redfish-core/include/utils/systems_utils.hpp",
        "patchSetId": 9
      },
      "lineNbr": 194,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2025-03-11T15:28:10Z",
      "side": 1,
      "message": "Doing 2 dbus calls before we can create any redfish endpoints is going to have some pretty bad performance consequences.  Can you measure the timing of these new APIs in comparison to the old ones please?",
      "range": {
        "startLine": 154,
        "startChar": 0,
        "endLine": 194,
        "endChar": 11
      },
      "revId": "e42def76306e580d7052ddff1c425b2733693b40",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9759e4d_a1c4b4e8",
        "filename": "redfish-core/include/utils/systems_utils.hpp",
        "patchSetId": 9
      },
      "lineNbr": 194,
      "author": {
        "id": 1002065
      },
      "writtenOn": "2025-03-27T15:23:25Z",
      "side": 1,
      "message": "I cannot measure multi-host on real hw. Here are the curl timings in qemu: \n\nroute: /redfish/v1/Systems/{computerSystemId}\n\n```\ncurl-format        | romulus   | yosemite4\n-------------------+-----------+-----------\ntime_namelookup    | 0.000031s | 0.000033s\ntime_connect       | 0.000152s | 0.000213s\ntime_appconnect    | 0.039104s | 0.069695s\ntime_pretransfer   | 0.039131s | 0.069740s\ntime_redirect      | 0.000000s | 0.000000s\ntime_starttransfer | 0.069679s | 0.282222s\n-------------------+-----------+-----------\ntime_total         | 0.070615s | 0.283232s\n```",
      "parentUuid": "7a9b9cf4_a10842d7",
      "range": {
        "startLine": 154,
        "startChar": 0,
        "endLine": 194,
        "endChar": 11
      },
      "revId": "e42def76306e580d7052ddff1c425b2733693b40",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ddaf922_b0f501ab",
        "filename": "redfish-core/include/utils/systems_utils.hpp",
        "patchSetId": 9
      },
      "lineNbr": 194,
      "author": {
        "id": 1001712
      },
      "writtenOn": "2025-04-28T09:59:07Z",
      "side": 1,
      "message": "@ed@tanous.net\n\nwould it resolve the issue for you if that state was kept in bmcweb as a map?\n\nPossibly by initializing dbus matches on ```InterfacesAdded``` and ```InterfacesRemoved``` for ```xyz.openbmc_project.Inventory.Decorator.ManagedHost```, then doing an initial call to fetch that state?\n\nThat would then be an extra dbus call before bmcweb is fully initialized (in the case of multi-host). I am not sure if this would still fit within the documented performance target.\n\n```\n- Application startup time should be less than 1 second on target hardware\n  (AST2500)\n```\n\nAlternatively the initial call could be made asynchronously to be able to start serving requests which do not need the managed host information and those which do could block for a few milliseconds until that\u0027s available.\n\nKindly confirm which of these (if any) will satisfy the requirements.",
      "parentUuid": "d9759e4d_a1c4b4e8",
      "range": {
        "startLine": 154,
        "startChar": 0,
        "endLine": 194,
        "endChar": 11
      },
      "revId": "e42def76306e580d7052ddff1c425b2733693b40",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "791038b2_eddd08e0",
        "filename": "redfish-core/include/utils/systems_utils.hpp",
        "patchSetId": 9
      },
      "lineNbr": 194,
      "author": {
        "id": 1002065
      },
      "writtenOn": "2025-05-28T13:08:31Z",
      "side": 1,
      "message": "Closing this for now, since we don\u0027t really know about the performance impact on hardware. Also, single-host is not affected by this change.",
      "parentUuid": "4ddaf922_b0f501ab",
      "range": {
        "startLine": 154,
        "startChar": 0,
        "endLine": 194,
        "endChar": 11
      },
      "revId": "e42def76306e580d7052ddff1c425b2733693b40",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}