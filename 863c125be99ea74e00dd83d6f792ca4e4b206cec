{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7ec22225_230c521e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T15:22:23Z",
      "side": 1,
      "message": "I\u0027m struggling a little bit to see why we would want this kind of thing at this time (given we only support 2 prompts).\n\nI could certainly see if we start supporting 10+ prompts how this could be better, but as-is, it\u0027s more code, and has problems in it.  I personally find the old code easier to read, but some struct like this isn\u0027t much worse.\n\nBecause it\u0027s looking like this patch isn\u0027t going to merge quickly, can we get https://gerrit.openbmc.org/c/openbmc/bmcweb/+/74028 reviewed and tested so that we\u0027ve unbroken master (and I don\u0027t have to revert the previous TOTP patch), and we can revisit this once that\u0027s done.",
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7193459c_d95c3e11",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-08-27T16:47:08Z",
      "side": 1,
      "message": "I have mentioned the reason for this patch above. What I am missing in this patch is the proper explanations in the commit. Otherwise I don\u0027t have much to change. If you wanted to reject this patch please go ahead, I can stop working on it. All I want is new Top Verification method with a given pam module name , user name and  a totp. If you can add that feature it is great.",
      "parentUuid": "7ec22225_230c521e",
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7b02804_90332602",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T20:50:13Z",
      "side": 1,
      "message": "Ok, so in the hopes of having a better discussion, I\u0027ve separated out the code move, from the new function added, from the generic data structure.  I think each probably need reviewed in isolation to have a fruitful review.",
      "parentUuid": "7193459c_d95c3e11",
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c957097d_2aa2db1d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-08-28T04:08:59Z",
      "side": 1,
      "message": "agreed. Let me test it with our MFA implementation. Will create separate patch for Totp Verify.",
      "parentUuid": "b7b02804_90332602",
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b2b2db8_2d4f1f2a",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 12,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T15:22:23Z",
      "side": 1,
      "message": "Why is the second arg std::optional?  These are requests and responses, right?\n\nRather than a pair, should we make this a normal struct\n\nPamResponse {\n    std::string_view prompt;\n    std::string_view response;\n}\n\nso it\u0027s more clear what\u0027s happening?  I don\u0027t see the pair used anywhere.",
      "range": {
        "startLine": 12,
        "startChar": 47,
        "endLine": 12,
        "endChar": 78
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7021dd3d_7e2f8318",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 12,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-08-27T16:33:23Z",
      "side": 1,
      "message": "Why is the token optional in PasswordData? Same reason here.",
      "parentUuid": "4b2b2db8_2d4f1f2a",
      "range": {
        "startLine": 12,
        "startChar": 47,
        "endLine": 12,
        "endChar": 78
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "495ba2c0_3eae5f64",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 12,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T18:20:35Z",
      "side": 1,
      "message": "Because tokens can be optionally provided.  I guess that makes sense.",
      "parentUuid": "7021dd3d_7e2f8318",
      "range": {
        "startLine": 12,
        "startChar": 47,
        "endLine": 12,
        "endChar": 78
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1bfb02e_ca01fa4d",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 48,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T15:22:23Z",
      "side": 1,
      "message": "Any reason we\u0027re checking this?",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 48,
        "endChar": 5
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1c94407_0bc62e89",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 48,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-08-27T16:33:23Z",
      "side": 1,
      "message": "this is already there in previous patch as well. look at line 52 of removed code",
      "parentUuid": "e1bfb02e_ca01fa4d",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 48,
        "endChar": 5
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f89bca0_7f40c41c",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T15:22:23Z",
      "side": 1,
      "message": "These strings previously had spaces after them.",
      "range": {
        "startLine": 118,
        "startChar": 35,
        "endLine": 118,
        "endChar": 44
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "154684d8_2ff08e81",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-08-27T16:33:23Z",
      "side": 1,
      "message": "Does it matter ? are we not just checking if it starts with \"Password\"? Is it mandatory to check for space?",
      "parentUuid": "0f89bca0_7f40c41c",
      "range": {
        "startLine": 118,
        "startChar": 35,
        "endLine": 118,
        "endChar": 44
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd35e127_42084fbe",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 178,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T15:22:23Z",
      "side": 1,
      "message": "Why do we declare a struct with a single static member?  Just make a method.",
      "range": {
        "startLine": 176,
        "startChar": 0,
        "endLine": 178,
        "endChar": 22
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ac28593_a31dc979",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 178,
      "author": {
        "id": 1001762
      },
      "writtenOn": "2024-08-27T16:33:23Z",
      "side": 1,
      "message": "That is matter of preference. I thought Totp::varify() looks better than varifyTotp(). Finally it is maintainers call. I am ok with anything.",
      "parentUuid": "dd35e127_42084fbe",
      "range": {
        "startLine": 176,
        "startChar": 0,
        "endLine": 178,
        "endChar": 22
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0af3b71a_6b2218a5",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 178,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T18:21:22Z",
      "side": 1,
      "message": "\u003e That is matter of preference. I thought Totp::varify() looks better than varifyTotp(). Finally it is maintainers call. I am ok with anything.\n\nLets do the later.  That\u0027s in line with what we do other places.",
      "parentUuid": "7ac28593_a31dc979",
      "range": {
        "startLine": 176,
        "startChar": 0,
        "endLine": 178,
        "endChar": 22
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99fbe47e_027b204a",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 6
      },
      "lineNbr": 184,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2024-08-27T15:22:23Z",
      "side": 1,
      "message": "Documented Common error.",
      "range": {
        "startLine": 184,
        "startChar": 31,
        "endLine": 184,
        "endChar": 45
      },
      "revId": "863c125be99ea74e00dd83d6f792ca4e4b206cec",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}