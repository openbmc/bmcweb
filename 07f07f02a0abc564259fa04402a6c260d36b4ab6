{
  "comments": [
    {
      "key": {
        "uuid": "e9ae25bf_254b180b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-13T15:37:17Z",
      "side": 1,
      "message": "Is this even possible given how the PAM API is set up?",
      "range": {
        "startLine": 11,
        "startChar": 42,
        "endLine": 14,
        "endChar": 0
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "181e6667_d44732be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000163
      },
      "writtenOn": "2021-07-13T21:27:15Z",
      "side": 1,
      "message": "I am not sure, but we shouldn\u0027t rely on an external config in order to not leak memory.",
      "parentUuid": "e9ae25bf_254b180b",
      "range": {
        "startLine": 11,
        "startChar": 42,
        "endLine": 14,
        "endChar": 0
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae4cc036_5c9e8c34",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-14T15:00:17Z",
      "side": 1,
      "message": "Agreed, just trying to make sure this isn\u0027t something that needs greater attention from the security powers that be.  From my understanding it\u0027s not able to be exploited, which would imply that no.",
      "parentUuid": "181e6667_d44732be",
      "range": {
        "startLine": 11,
        "startChar": 42,
        "endLine": 14,
        "endChar": 0
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b3ce589_f7183d19",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-07-12T20:33:08Z",
      "side": 1,
      "message": "These should be outside of the loop",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 31,
        "endChar": 50
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc4bac29_56a1f104",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000907
      },
      "writtenOn": "2021-07-12T21:07:54Z",
      "side": 1,
      "message": "Yes, these two lines could be placed outside as well without any impact, but just placed them here so that any local variables/memory allocations may only happen when needed. We wouldn\u0027t need appPass and appPassSize if we were not allocating any memory.",
      "parentUuid": "4b3ce589_f7183d19",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 31,
        "endChar": 50
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "143fb67f_a2df3c9a",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-13T15:37:17Z",
      "side": 1,
      "message": "Why should these be outside the loop?  Declare your variables where they\u0027re used unless there\u0027s a good reason to do otherwise.",
      "parentUuid": "bc4bac29_56a1f104",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 31,
        "endChar": 50
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f1f04f0_3db73e3c",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-07-13T17:36:54Z",
      "side": 1,
      "message": "I did not understand that this is only expected to be run once because of check for PAM_PROMPT_ECHO_OFF.\nMy original comment was based on observation that these lines can be called multiple times.\nIMO, if this section (including the malloc and calloc) is only expected to be run once, \"break\" can be added at end of the loop to make it clearer. \nBut I will defer that decision to people more familiar with PAM",
      "parentUuid": "143fb67f_a2df3c9a",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 31,
        "endChar": 50
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4fb0181_0f83a161",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-14T15:01:54Z",
      "side": 1,
      "message": "Ah, I see what you\u0027re getting at;  Yeah, these would probably be better outside the loop.",
      "parentUuid": "0f1f04f0_3db73e3c",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 31,
        "endChar": 50
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee258431_cfb4cb4e",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000163
      },
      "writtenOn": "2021-07-14T18:04:48Z",
      "side": 1,
      "message": "if the loop continues on non-PAM_PROMPT_ECHO_OFF and then returns from the function in the PAM_PROMPT_ECHO_OFF case, the variables can be in the loop and there will not be an opportunity for memory leaks.",
      "parentUuid": "d4fb0181_0f83a161",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 31,
        "endChar": 50
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fc3e0a0_0147506e",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2021-07-12T20:33:08Z",
      "side": 1,
      "message": "This may be called multiple (numMsg) times now. Is that the intend?",
      "range": {
        "startLine": 40,
        "startChar": 8,
        "endLine": 41,
        "endChar": 77
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "899f7d99_c8872afd",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1000907
      },
      "writtenOn": "2021-07-12T21:07:54Z",
      "side": 1,
      "message": "Actually, this would be called only when msg_style is equal to PAM_PROMPT_ECHO_OFF. For other msg_style\u0027s the loop would continue.",
      "parentUuid": "0fc3e0a0_0147506e",
      "range": {
        "startLine": 40,
        "startChar": 8,
        "endLine": 41,
        "endChar": 77
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8db13076_f9018ce8",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-07-14T15:01:54Z",
      "side": 1,
      "message": "This looks like it can now cause a memory leak if this loops more than once?",
      "parentUuid": "899f7d99_c8872afd",
      "range": {
        "startLine": 40,
        "startChar": 8,
        "endLine": 41,
        "endChar": 77
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68293758_043f1f2f",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1000907
      },
      "writtenOn": "2021-07-19T21:20:59Z",
      "side": 1,
      "message": "Thank you Ren and Ed for pointing this out. Fixed it in the new patchset. Returning as soon as the response is filled. This would avoid further iterations.",
      "parentUuid": "8db13076_f9018ce8",
      "range": {
        "startLine": 40,
        "startChar": 8,
        "endLine": 41,
        "endChar": 77
      },
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5f9d40e_91464881",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1000163
      },
      "writtenOn": "2021-07-13T21:27:15Z",
      "side": 1,
      "message": "return success here and error at the end of the function.",
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ca1aaab_4c4ecde2",
        "filename": "include/pam_authenticate.hpp",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1000907
      },
      "writtenOn": "2021-07-19T21:20:59Z",
      "side": 1,
      "message": "Done. Thank you.",
      "parentUuid": "f5f9d40e_91464881",
      "revId": "07f07f02a0abc564259fa04402a6c260d36b4ab6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}