{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "bf06b428_0a5ff705",
        "filename": "redfish-core/include/redfish_aggregator.hpp",
        "patchSetId": 17
      },
      "lineNbr": 673,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-01-31T22:40:33Z",
      "side": 1,
      "message": "Continuation of https://gerrit.openbmc.org/c/openbmc/bmcweb/+/60424/comment/65186d1c_68d988e4\n\nThe new location of addAggregatedHeaders() guarantees it\u0027ll also get called.  However, this else block means we won\u0027t copy over any response that\u0027s not \"application/json\" and has a body.  This chunk should change to support copying over other \"Content-Type\"s.",
      "range": {
        "startLine": 662,
        "startChar": 0,
        "endLine": 673,
        "endChar": 59
      },
      "revId": "cb0247b8c4a2df3d45ed4325726e1434c6555dff",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7535c24e_698bcb49",
        "filename": "redfish-core/include/redfish_aggregator.hpp",
        "patchSetId": 17
      },
      "lineNbr": 673,
      "author": {
        "id": 1001211
      },
      "writtenOn": "2023-02-01T21:16:55Z",
      "side": 1,
      "message": "So addAggregatedHeaders() will still get called and copy over \"Content-Type\". Any other fields we want to copy over?",
      "parentUuid": "bf06b428_0a5ff705",
      "range": {
        "startLine": 662,
        "startChar": 0,
        "endLine": 673,
        "endChar": 59
      },
      "revId": "cb0247b8c4a2df3d45ed4325726e1434c6555dff",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bae0d728_f7e09c9c",
        "filename": "redfish-core/include/redfish_aggregator.hpp",
        "patchSetId": 17
      },
      "lineNbr": 673,
      "author": {
        "id": 1001303
      },
      "writtenOn": "2023-02-01T22:22:54Z",
      "side": 1,
      "message": "I think we\u0027d want to copy over all of the specified header fields regardless of the \"Content-Type\" and also copy over the body of the response in some way.\n\nIf it is an \"application/json\" then we need to parse the response body into a JSON, apply prefix fixing, and then copy that JSON into asyncResp.  We currently do that.\n\nIf it\u0027s not an \"application/json\" then just copy the body as is.  Right now we ignore the body if it\u0027s not an \"application/json\".  Doing this will allow us to avoid a situation where the response contains a binary payload, we copy over the headers just fine, but for the body we return an Operation Failed error.",
      "parentUuid": "7535c24e_698bcb49",
      "range": {
        "startLine": 662,
        "startChar": 0,
        "endLine": 673,
        "endChar": 59
      },
      "revId": "cb0247b8c4a2df3d45ed4325726e1434c6555dff",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}