{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a7ee5914_5a225852",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-01T19:12:57Z",
      "side": 1,
      "message": "This needs to be using the mapper.  GetObject call.",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08959979_818e71f1",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-01T19:16:08Z",
      "side": 1,
      "message": "As written, this is a security issue, otherwise I normally wouldn\u0027t care\n\nYou could in theory access\n\n/console/0$*%^*#%  and it would kick bmcweb off dbus.",
      "parentUuid": "a7ee5914_5a225852",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b18db8e_2fe70508",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-06-01T19:47:15Z",
      "side": 1,
      "message": "I tried this string but it did not even reached the router. I can still work on the getDbusObject() call.\n\n  File \"/usr/lib/python3/dist-packages/websockets/legacy/client.py\", line 482, in __init__\n    wsuri \u003d parse_uri(uri)\n  File \"/usr/lib/python3/dist-packages/websockets/uri.py\", line 81, in parse_uri\n    raise exceptions.InvalidURI(uri, \"fragment identifier is meaningless\")\nwebsockets.exceptions.InvalidURI: wss://rain136bmc:443/console/0$%^#% isn\u0027t a valid URI: fragment identifier is meaningless",
      "parentUuid": "08959979_818e71f1",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0a83337_e0a49271",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-01T20:08:17Z",
      "side": 1,
      "message": "you didn\u0027t escape your string characters in your request, so python is complaining.  If you are interested in learning how URI escaping works, hope on discord and I can help you, but I promise you this is something we need to handle.\n\nKeep in mind that for dbus connection names, there are naming rules that you\u0027re not allowed to break.",
      "parentUuid": "7b18db8e_2fe70508",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9da3e0e6_a47be518",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-06-01T20:42:21Z",
      "side": 1,
      "message": "I have forced the string in the code and DBUS just returned invalid argument. When you say it would kick off dbus what do you mean?\n\n [DEBUG \"obmc_console.hpp\":247] Console Object path \u003d /xyz/openbmc_project/console/_30_24_25_5e_23_25_25 service \u003d xyz.openbmc_project.Console.0$%^#%% Request target \u003d /console0\n [ERROR \"obmc_console.hpp\":178] Failed to call console Connect() method DBUS error: Invalid argument",
      "parentUuid": "c0a83337_e0a49271",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5823433_a87d3803",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-06-01T20:43:50Z",
      "side": 1,
      "message": "I am not trying to avoid the work but just trying to understand the security issue. Looks like this is just going to have some failure. I thought it might core dump but it did not.",
      "parentUuid": "9da3e0e6_a47be518",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4ab2d36_7b66299f",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2023-06-01T21:07:08Z",
      "side": 1,
      "message": "\u003e Failed to call console Connect() method DBUS error: Invalid argument\n\nThis was a thrown exception that didn\u0027t get handled (at least it used to be).\n\n\u003e I am not trying to avoid the work but just trying to understand the security issue.\n\nI appreciate you.  I wasn\u0027t saying you were avoiding work.  If that was how it sounded, i apologize.",
      "parentUuid": "e5823433_a87d3803",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abf58b41_dc7d51f0",
        "filename": "include/obmc_console.hpp",
        "patchSetId": 6
      },
      "lineNbr": 245,
      "author": {
        "id": 1001634
      },
      "writtenOn": "2023-06-01T21:24:21Z",
      "side": 1,
      "message": "ok, thanks. So now that its not dumping core, do you still think I should add getDbusObject() call?",
      "parentUuid": "a4ab2d36_7b66299f",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "f22ed32d80c28c5eee7ae84cd1914bb2e2667429",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}